!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.APLClient=t():e.APLClient=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=44)}([function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(215),o=r(12),a=r(60),s=r(216),d=r(90),u=r(217),c=r(218),l=r(61),p=r(2),f=r(38),h=r(1),y=r(219),m=r(30),g=r(18),v=r(220),b=r(91),P=r(226),k=r(94),S={[a.ComponentType.kComponentTypeContainer]:"Container",[a.ComponentType.kComponentTypeEditText]:"EditText",[a.ComponentType.kComponentTypeFrame]:"Frame",[a.ComponentType.kComponentTypeImage]:"Image",[a.ComponentType.kComponentTypePager]:"Pager",[a.ComponentType.kComponentTypeScrollView]:"ScrollView",[a.ComponentType.kComponentTypeSequence]:"Sequence",[a.ComponentType.kComponentTypeGridSequence]:"GridSequence",[a.ComponentType.kComponentTypeText]:"Text",[a.ComponentType.kComponentTypeTouchWrapper]:"TouchWrapper",[a.ComponentType.kComponentTypeVideo]:"Video",[a.ComponentType.kComponentTypeVectorGraphic]:"VectorGraphic"},T={[l.LayoutDirection.kLayoutDirectionLTR]:"ltr",[l.LayoutDirection.kLayoutDirectionRTL]:"rtl"},E=new Set([a.ComponentType.kComponentTypeFrame,a.ComponentType.kComponentTypePager,a.ComponentType.kComponentTypeScrollView,a.ComponentType.kComponentTypeSequence,a.ComponentType.kComponentTypeGridSequence]),x=new Set([a.ComponentType.kComponentTypeEditText,a.ComponentType.kComponentTypeImage,a.ComponentType.kComponentTypeText,a.ComponentType.kComponentTypeTouchWrapper,a.ComponentType.kComponentTypeVideo]);t.SVG_NS="http://www.w3.org/2000/svg",t.uuidv4=r(63),t.IDENTITY_TRANSFORM="matrix(1.000000,0.000000,0.000000,1.000000,0.000000,0.000000)";class w extends i{constructor(e,t,r,n){if(super(),this.renderer=e,this.component=t,this.factory=r,this.parent=n,this.container=document.createElement("div"),this.$container=o(this.container),this.children=[],this.props={},this.isDestroyed=!1,this.doForceInvisible=!1,this.state={[f.UpdateType.kUpdatePagerPosition]:0,[f.UpdateType.kUpdatePressState]:0,[f.UpdateType.kUpdatePressed]:0,[f.UpdateType.kUpdateScrollPosition]:0,[f.UpdateType.kUpdateTakeFocus]:0},this.executors=new Map,this.propExecutor=(e,...t)=>{for(const r of t)this.executors.set(r,r=>{const n=Object.keys(t);for(const e of n)delete r[parseInt(e,10)];e()});return this.propExecutor},this.setTransform=()=>{if(this.renderer){const e=this.renderer.context.getScaleFactor(),t=v.getScaledTransform(this.props[p.PropertyKey.kPropertyTransform],e);this.$container.css({transform:t})}},this.setOpacity=()=>{this.$container.css("opacity",this.props[p.PropertyKey.kPropertyOpacity])},this.setLayoutDirection=()=>{this.layoutDirection=this.props[p.PropertyKey.kPropertyLayoutDirection],T.hasOwnProperty(this.layoutDirection)||(this.logger.warn(`Layout Direction ${this.layoutDirection} is not supported, defaulting to LTR`),this.layoutDirection=l.LayoutDirection.kLayoutDirectionLTR),this.parent&&this.parent.layoutDirection===this.layoutDirection||(this.container.dir=T[this.layoutDirection])},this.isRtl=()=>this.layoutDirection===l.LayoutDirection.kLayoutDirectionRTL,this.setDisplay=()=>{let e=this.props[p.PropertyKey.kPropertyDisplay];switch(this.hasValidBounds()&&!this.doForceInvisible||(e=s.Display.kDisplayInvisible),e){case s.Display.kDisplayInvisible:case s.Display.kDisplayNone:this.$container.css({display:"none"});break;case s.Display.kDisplayNormal:this.$container.css({display:this.getNormalDisplay()});break;default:this.logger.warn("Incorrect display type: "+e)}},this.setBoundsAndDisplay=()=>{if(this.bounds=this.props[p.PropertyKey.kPropertyBounds],!this.bounds)return;this.setDisplay();let e=0,t=0;if(this.parent&&this.parent.component.getType()===a.ComponentType.kComponentTypeFrame){const r=this.parent.component.getCalculatedByKey(p.PropertyKey.kPropertyBorderWidth);e-=r,t-=r}this.bounds={top:this.bounds.top+e,left:this.bounds.left+t,height:this.bounds.height,width:this.bounds.width};for(const e of this.children)e.setBoundsAndDisplay();k.applyAplRectToStyle({domElement:this.container,rectangle:this.bounds}),this.innerBounds=this.props[p.PropertyKey.kPropertyInnerBounds],k.applyPaddingToStyle({domElement:this.container,bounds:this.bounds,innerBounds:this.innerBounds}),this.boundsUpdated()},this.setUserProperties=()=>{if(!this.renderer)return;const e=this.renderer.getDeveloperToolOptions();if(!e)return;const t=this.props[p.PropertyKey.kPropertyUser],r=e.mappingKey;if(r&&t.hasOwnProperty(r)){const e=t[r]+this.id;this.renderer.componentByMappingKey.set(e,this)}const n=e.writeKeys;if(n&&Array.isArray(n))for(const e of n)t.hasOwnProperty(e)&&this.container.setAttribute(["data",e].join("-"),t[e])},this.handleComponentChildrenChange=()=>{for(const e of this.props[p.PropertyKey.kPropertyNotifyChildrenChanged])e.action===g.ChildAction.Insert||(e.action===g.ChildAction.Remove?void 0!==this.container.children[e.uid]&&this.container.children[e.uid].remove():this.logger.warn(`Invalid action type ${e.action} for child ${e.uid}`));this.ensureDisplayedChildren()},this.getCssShadow=()=>`${this.props[p.PropertyKey.kPropertyShadowHorizontalOffset]}px ${this.props[p.PropertyKey.kPropertyShadowVerticalOffset]}px ${this.props[p.PropertyKey.kPropertyShadowRadius]}px ${w.numberToColor(this.props[p.PropertyKey.kPropertyShadowColor])}`,this.setShadow=()=>{this.applyCssShadow(this.getCssShadow())},this.applyCssShadow=e=>{this.$container.css("box-shadow",e)},this.logger=h.LoggerFactory.getLogger(S[t.getType()]||"Component"),this.$container.css({position:"absolute","transform-origin":"0% 0%","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),this.checkComponentTypeAndEnableClipping(),this.id=t.getUniqueId(),this.$container.attr("id",this.id),this.assignedId=t.getId(),e){e.componentMap[this.id]=this,e.componentIdMap[this.assignedId]=this;const r=e.options;r&&r.developerToolOptions&&r.developerToolOptions.includeComponentId&&this.$container.attr("data-componentid",t.getId())}this.container.classList.add("apl-"+this.constructor.name.toLowerCase()),this.parent=n,this.propExecutor(this.setTransform,p.PropertyKey.kPropertyTransform)(this.setLayoutDirection,p.PropertyKey.kPropertyLayoutDirection)(this.setBoundsAndDisplay,p.PropertyKey.kPropertyBounds,p.PropertyKey.kPropertyInnerBounds,p.PropertyKey.kPropertyDisplay)(this.setOpacity,p.PropertyKey.kPropertyOpacity)(this.setUserProperties,p.PropertyKey.kPropertyUser)(this.handleComponentChildrenChange,p.PropertyKey.kPropertyNotifyChildrenChanged)(this.setShadow,p.PropertyKey.kPropertyShadowHorizontalOffset,p.PropertyKey.kPropertyShadowVerticalOffset,p.PropertyKey.kPropertyShadowRadius,p.PropertyKey.kPropertyShadowColor)}init(){const e=this.getDisplayedChildren();for(let t=0;t<e.length;t++){const r=e[t],n=this.factory(this.renderer,r,this);this.container.appendChild(n.container),this.children[t]=n}const t=this.component.getCalculated();this.setProperties(t),this.sizeToFit();for(const e of this.children)e.init()}ensureDisplayedChildren(){const e=[],t=this.getDisplayedChildren();for(let r=0;r<t.length;r++){const n=t[r],i=this.children.filter(e=>e.id===n.getUniqueId()).shift();e[r]=void 0!==i?i:this.factory(this.renderer,n,this,!0,r)}this.children.forEach(t=>{e.some(e=>e.id===t.id)||t.destroy()}),this.children=e}getDisplayedChildCount(){return this.component.getDisplayedChildCount()}getDisplayedChildren(){const e=[],t=this.component.getDisplayedChildCount();for(let r=0;r<t;r++){const t=this.component.getDisplayedChildAt(r);e.push(t)}return e}onPropertiesUpdated(){}setProperties(e){Object.keys(e).forEach(t=>{const r=parseInt(t,10);this.props[r]=e[r]}),Object.keys(e).forEach(t=>{const r=parseInt(t,10);if(r in e){const t=this.executors.get(r);t&&t(e)}}),this.onPropertiesUpdated()}updateDirtyProps(){const e=this.component.getDirtyProps();this.setProperties(e)}update(e,t){"string"==typeof t?(this.state[e]=t.toString(),this.component.updateEditText(e,t.toString())):(this.state[e]=t,this.component.update(e,t))}destroy(e=!1){this.container&&this.container.parentElement&&this.container.parentElement.removeChild(this.container),this.isDestroyed=!0,this.parent=void 0,delete this.renderer.componentMap[this.id],delete this.renderer.componentMap[this.assignedId],this.renderer=void 0;for(const t of this.children)t.destroy(e);this.children=void 0,e&&(this.component.delete(),this.component=void 0)}static numberToColor(e){return m.numberToColor(e)}static getGradientSpreadMethod(e){switch(e){case u.GradientSpreadMethod.REFLECT:return"reflect";case u.GradientSpreadMethod.REPEAT:return"repeat";case u.GradientSpreadMethod.PAD:default:return"pad"}}static getGradientUnits(e){switch(e){case c.GradientUnits.kGradientUnitsUserSpace:return"userSpaceOnUse";case c.GradientUnits.kGradientUnitsBoundingBox:default:return"objectBoundingBox"}}static fillAndStrokeConverter(e,t,r,n){return b.fillAndStrokeConverter({value:e,transform:t,parent:r,logger:n})}hasValidBounds(){return this.bounds.width>0&&this.bounds.width<1e6}static getClipPathElementId(e,r){if(!e||""===e)return"";const n=document.createElementNS(t.SVG_NS,"defs"),i=document.createElementNS(t.SVG_NS,"clipPath"),o=document.createElementNS(t.SVG_NS,"path"),a=t.uuidv4().toString();return i.setAttributeNS("","id",a),o.setAttributeNS("","d",e.toString()),i.appendChild(o),n.appendChild(i),r.appendChild(n),`url('#${a}')`}inflateAndAddChild(e,t){const r=this.component.inflateChild(t,e);let n;return r&&(n=this.factory(this.renderer,r,this,!0,e),this.children.splice(e,0,n)),n}remove(){return!!this.component.remove()&&(this.parent&&this.parent.children&&this.parent.children.splice(this.parent.children.indexOf(this),1),this.destroy(!0),!0)}boundsUpdated(){}isLayout(){return!1}sizeToFit(){if(this.renderer&&this.renderer.getLegacyClippingEnabled())return;const e=!!this.bounds,t=!!this.parent,r=this.layoutDirection===l.LayoutDirection.kLayoutDirectionLTR;if(!(e&&t&&r))return;const n=this.parent.component.getType()===a.ComponentType.kComponentTypeContainer,i=this.isLayout();if(!n||!i)return;const o=P.createBoundsFitter({containingBounds:this.parent.bounds,innerBounds:this.bounds,layoutDirection:this.layoutDirection}).fitBounds();if(o===this.bounds)return;const{width:s,height:d}=o,{width:u,height:c}=this.bounds;this.logger.warn(`Component ${this.id} has bounds that is bigger than parent bounds.\nCheck your template correctness.\nAdjusting ${this.id} to parent ${this.parent.id}\nWIDTH: ${u} => ${s}\nHEIGHT: ${c} => ${d}\n`);const p=y.getRectDifference(this.bounds,o);this.bounds=o,this.innerBounds&&((this.innerBounds.width>this.bounds.width||this.innerBounds.height>this.bounds.height)&&(this.innerBounds=y.getRectDifference(this.innerBounds,p)),k.applyAplRectToStyle({domElement:this.container,rectangle:this.bounds}),k.applyPaddingToStyle({domElement:this.container,bounds:this.bounds,innerBounds:this.innerBounds}),this.boundsUpdated())}alignSize(){return this.sizeToFit()}getProperties(){return this.component.getCalculated()}forceInvisible(e){this.doForceInvisible!==e&&(this.doForceInvisible=e,this.setDisplay())}getNormalDisplay(){return""}takeFocus(){return n(this,void 0,void 0,(function*(){const e=(yield this.renderer.context.getFocusableAreas())[this.id];e&&this.renderer.context.setFocus(d.FocusDirection.kFocusDirectionNone,e,this.id)}))}get lang(){return this.props[p.PropertyKey.kPropertyLang]||""}checkComponentTypeAndEnableClipping(){const e=this.component.getType();if(x.has(e))return;const t=this.parent&&E.has(this.parent.component.getType()),r=E.has(e),n=this.renderer&&this.renderer.getLegacyClippingEnabled();(r||t||!n)&&this.enableClipping()}enableClipping(){this.$container.css("overflow","hidden")}}t.Component=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(144);class i{static initialize(e,t){this.rootLogger.setDefaultLevel(e),this.rootLogger.methodFactory=(e,r,n)=>{const o=i.originalFactory(e,r,n);return r=>{t?t(e,n,r):o(`${e[0].toUpperCase()} ${n}:  ${r}`)}},this.rootLogger.setLevel(this.rootLogger.getLevel()),this.initialized=!0}static getLogger(e){return this.initialized||this.initialize("info"),this.rootLogger.getLogger(e)}}i.rootLogger=n,i.originalFactory=i.rootLogger.methodFactory,i.initialized=!1,t.LoggerFactory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kPropertyScrollDirection=0]="kPropertyScrollDirection",e[e.kPropertyAccessibilityActions=1]="kPropertyAccessibilityActions",e[e.kPropertyAccessibilityLabel=2]="kPropertyAccessibilityLabel",e[e.kPropertyAlign=3]="kPropertyAlign",e[e.kPropertyAlignItems=4]="kPropertyAlignItems",e[e.kPropertyAlignSelf=5]="kPropertyAlignSelf",e[e.kPropertyAudioTrack=6]="kPropertyAudioTrack",e[e.kPropertyAutoplay=7]="kPropertyAutoplay",e[e.kPropertyMuted=8]="kPropertyMuted",e[e.kPropertyBackgroundColor=9]="kPropertyBackgroundColor",e[e.kPropertyBorderBottomLeftRadius=10]="kPropertyBorderBottomLeftRadius",e[e.kPropertyBorderBottomRightRadius=11]="kPropertyBorderBottomRightRadius",e[e.kPropertyBorderColor=12]="kPropertyBorderColor",e[e.kPropertyBorderRadius=13]="kPropertyBorderRadius",e[e.kPropertyBorderRadii=14]="kPropertyBorderRadii",e[e.kPropertyBorderStrokeWidth=15]="kPropertyBorderStrokeWidth",e[e.kPropertyBorderTopLeftRadius=16]="kPropertyBorderTopLeftRadius",e[e.kPropertyBorderTopRightRadius=17]="kPropertyBorderTopRightRadius",e[e.kPropertyBorderWidth=18]="kPropertyBorderWidth",e[e.kPropertyBottom=19]="kPropertyBottom",e[e.kPropertyBounds=20]="kPropertyBounds",e[e.kPropertyCenterId=21]="kPropertyCenterId",e[e.kPropertyCenterIndex=22]="kPropertyCenterIndex",e[e.kPropertyChildHeight=23]="kPropertyChildHeight",e[e.kPropertyChildWidth=24]="kPropertyChildWidth",e[e.kPropertyChecked=25]="kPropertyChecked",e[e.kPropertyColor=26]="kPropertyColor",e[e.kPropertyColorKaraokeTarget=27]="kPropertyColorKaraokeTarget",e[e.kPropertyColorNonKaraoke=28]="kPropertyColorNonKaraoke",e[e.kPropertyCurrentPage=29]="kPropertyCurrentPage",e[e.kPropertyDescription=30]="kPropertyDescription",e[e.kPropertyDirection=31]="kPropertyDirection",e[e.kPropertyDisabled=32]="kPropertyDisabled",e[e.kPropertyDisplay=33]="kPropertyDisplay",e[e.kPropertyDrawnBorderWidth=34]="kPropertyDrawnBorderWidth",e[e.kPropertyEnd=35]="kPropertyEnd",e[e.kPropertyEntities=36]="kPropertyEntities",e[e.kPropertyFastScrollScale=37]="kPropertyFastScrollScale",e[e.kPropertyFilters=38]="kPropertyFilters",e[e.kPropertyFirstId=39]="kPropertyFirstId",e[e.kPropertyFirstIndex=40]="kPropertyFirstIndex",e[e.kPropertyFocusable=41]="kPropertyFocusable",e[e.kPropertyFontFamily=42]="kPropertyFontFamily",e[e.kPropertyFontSize=43]="kPropertyFontSize",e[e.kPropertyFontStyle=44]="kPropertyFontStyle",e[e.kPropertyFontWeight=45]="kPropertyFontWeight",e[e.kPropertyHandleTick=46]="kPropertyHandleTick",e[e.kPropertyHighlightColor=47]="kPropertyHighlightColor",e[e.kPropertyHint=48]="kPropertyHint",e[e.kPropertyHintColor=49]="kPropertyHintColor",e[e.kPropertyHintStyle=50]="kPropertyHintStyle",e[e.kPropertyHintWeight=51]="kPropertyHintWeight",e[e.kPropertyGestures=52]="kPropertyGestures",e[e.kPropertyGraphic=53]="kPropertyGraphic",e[e.kPropertyGrow=54]="kPropertyGrow",e[e.kPropertyHandleKeyDown=55]="kPropertyHandleKeyDown",e[e.kPropertyHandleKeyUp=56]="kPropertyHandleKeyUp",e[e.kPropertyHeight=57]="kPropertyHeight",e[e.kPropertyId=58]="kPropertyId",e[e.kPropertyInitialPage=59]="kPropertyInitialPage",e[e.kPropertyInnerBounds=60]="kPropertyInnerBounds",e[e.kPropertyItemsPerCourse=61]="kPropertyItemsPerCourse",e[e.kPropertyJustifyContent=62]="kPropertyJustifyContent",e[e.kPropertyKeyboardBehaviorOnFocus=63]="kPropertyKeyboardBehaviorOnFocus",e[e.kPropertyKeyboardType=64]="kPropertyKeyboardType",e[e.kPropertyLayoutDirection=65]="kPropertyLayoutDirection",e[e.kPropertyLayoutDirectionAssigned=66]="kPropertyLayoutDirectionAssigned",e[e.kPropertyLeft=67]="kPropertyLeft",e[e.kPropertyLetterSpacing=68]="kPropertyLetterSpacing",e[e.kPropertyLineHeight=69]="kPropertyLineHeight",e[e.kPropertyMaxHeight=70]="kPropertyMaxHeight",e[e.kPropertyMaxLength=71]="kPropertyMaxLength",e[e.kPropertyMaxLines=72]="kPropertyMaxLines",e[e.kPropertyMaxWidth=73]="kPropertyMaxWidth",e[e.kPropertyMediaBounds=74]="kPropertyMediaBounds",e[e.kPropertyMediaState=75]="kPropertyMediaState",e[e.kPropertyMinHeight=76]="kPropertyMinHeight",e[e.kPropertyMinWidth=77]="kPropertyMinWidth",e[e.kPropertyNavigation=78]="kPropertyNavigation",e[e.kPropertyNextFocusDown=79]="kPropertyNextFocusDown",e[e.kPropertyNextFocusForward=80]="kPropertyNextFocusForward",e[e.kPropertyNextFocusLeft=81]="kPropertyNextFocusLeft",e[e.kPropertyNextFocusRight=82]="kPropertyNextFocusRight",e[e.kPropertyNextFocusUp=83]="kPropertyNextFocusUp",e[e.kPropertyNotifyChildrenChanged=84]="kPropertyNotifyChildrenChanged",e[e.kPropertyNumbered=85]="kPropertyNumbered",e[e.kPropertyNumbering=86]="kPropertyNumbering",e[e.kPropertyOnBlur=87]="kPropertyOnBlur",e[e.kPropertyOnCancel=88]="kPropertyOnCancel",e[e.kPropertyOnDown=89]="kPropertyOnDown",e[e.kPropertyOnEnd=90]="kPropertyOnEnd",e[e.kPropertyOnFail=91]="kPropertyOnFail",e[e.kPropertyOnFocus=92]="kPropertyOnFocus",e[e.kPropertyOnLoad=93]="kPropertyOnLoad",e[e.kPropertyOnMount=94]="kPropertyOnMount",e[e.kPropertyOnMove=95]="kPropertyOnMove",e[e.kPropertyOnSpeechMark=96]="kPropertyOnSpeechMark",e[e.kPropertyHandlePageMove=97]="kPropertyHandlePageMove",e[e.kPropertyOnPageChanged=98]="kPropertyOnPageChanged",e[e.kPropertyOnPause=99]="kPropertyOnPause",e[e.kPropertyOnPlay=100]="kPropertyOnPlay",e[e.kPropertyOnPress=101]="kPropertyOnPress",e[e.kPropertyOnScroll=102]="kPropertyOnScroll",e[e.kPropertyOnSubmit=103]="kPropertyOnSubmit",e[e.kPropertyOnTextChange=104]="kPropertyOnTextChange",e[e.kPropertyOnUp=105]="kPropertyOnUp",e[e.kPropertyOnTimeUpdate=106]="kPropertyOnTimeUpdate",e[e.kPropertyOnTrackFail=107]="kPropertyOnTrackFail",e[e.kPropertyOnTrackReady=108]="kPropertyOnTrackReady",e[e.kPropertyOnTrackUpdate=109]="kPropertyOnTrackUpdate",e[e.kPropertyOpacity=110]="kPropertyOpacity",e[e.kPropertyOverlayColor=111]="kPropertyOverlayColor",e[e.kPropertyOverlayGradient=112]="kPropertyOverlayGradient",e[e.kPropertyPadding=113]="kPropertyPadding",e[e.kPropertyPaddingBottom=114]="kPropertyPaddingBottom",e[e.kPropertyPaddingEnd=115]="kPropertyPaddingEnd",e[e.kPropertyPaddingLeft=116]="kPropertyPaddingLeft",e[e.kPropertyPaddingRight=117]="kPropertyPaddingRight",e[e.kPropertyPaddingTop=118]="kPropertyPaddingTop",e[e.kPropertyPaddingStart=119]="kPropertyPaddingStart",e[e.kPropertyPageDirection=120]="kPropertyPageDirection",e[e.kPropertyPageId=121]="kPropertyPageId",e[e.kPropertyPageIndex=122]="kPropertyPageIndex",e[e.kPropertyPlayingState=123]="kPropertyPlayingState",e[e.kPropertyPosition=124]="kPropertyPosition",e[e.kPropertyPreserve=125]="kPropertyPreserve",e[e.kPropertyRangeKaraokeTarget=126]="kPropertyRangeKaraokeTarget",e[e.kPropertyResourceId=127]="kPropertyResourceId",e[e.kPropertyResourceOnFatalError=128]="kPropertyResourceOnFatalError",e[e.kPropertyResourceState=129]="kPropertyResourceState",e[e.kPropertyResourceType=130]="kPropertyResourceType",e[e.kPropertyRight=131]="kPropertyRight",e[e.kPropertyRole=132]="kPropertyRole",e[e.kPropertyScale=133]="kPropertyScale",e[e.kPropertyScrollAnimation=134]="kPropertyScrollAnimation",e[e.kPropertyScrollOffset=135]="kPropertyScrollOffset",e[e.kPropertyScrollPercent=136]="kPropertyScrollPercent",e[e.kPropertyScrollPosition=137]="kPropertyScrollPosition",e[e.kPropertySecureInput=138]="kPropertySecureInput",e[e.kPropertySelectOnFocus=139]="kPropertySelectOnFocus",e[e.kPropertyShadowColor=140]="kPropertyShadowColor",e[e.kPropertyShadowHorizontalOffset=141]="kPropertyShadowHorizontalOffset",e[e.kPropertyShadowRadius=142]="kPropertyShadowRadius",e[e.kPropertyShadowVerticalOffset=143]="kPropertyShadowVerticalOffset",e[e.kPropertyShrink=144]="kPropertyShrink",e[e.kPropertySize=145]="kPropertySize",e[e.kPropertySnap=146]="kPropertySnap",e[e.kPropertySource=147]="kPropertySource",e[e.kPropertySpacing=148]="kPropertySpacing",e[e.kPropertySpeech=149]="kPropertySpeech",e[e.kPropertyStart=150]="kPropertyStart",e[e.kPropertySubmitKeyType=151]="kPropertySubmitKeyType",e[e.kPropertyText=152]="kPropertyText",e[e.kPropertyTextAlign=153]="kPropertyTextAlign",e[e.kPropertyTextAlignAssigned=154]="kPropertyTextAlignAssigned",e[e.kPropertyTextAlignVertical=155]="kPropertyTextAlignVertical",e[e.kPropertyLang=156]="kPropertyLang",e[e.kPropertyTrackCount=157]="kPropertyTrackCount",e[e.kPropertyTrackCurrentTime=158]="kPropertyTrackCurrentTime",e[e.kPropertyTrackDuration=159]="kPropertyTrackDuration",e[e.kPropertyTrackEnded=160]="kPropertyTrackEnded",e[e.kPropertyTrackIndex=161]="kPropertyTrackIndex",e[e.kPropertyTrackPaused=162]="kPropertyTrackPaused",e[e.kPropertyTrackState=163]="kPropertyTrackState",e[e.kPropertyTransform=164]="kPropertyTransform",e[e.kPropertyTransformAssigned=165]="kPropertyTransformAssigned",e[e.kPropertyTop=166]="kPropertyTop",e[e.kPropertyUser=167]="kPropertyUser",e[e.kPropertyWidth=168]="kPropertyWidth",e[e.kPropertyOnCursorEnter=169]="kPropertyOnCursorEnter",e[e.kPropertyOnCursorExit=170]="kPropertyOnCursorExit",e[e.kPropertyLaidOut=171]="kPropertyLaidOut",e[e.kPropertyValidCharacters=172]="kPropertyValidCharacters",e[e.kPropertyVisualHash=173]="kPropertyVisualHash",e[e.kPropertyWrap=174]="kPropertyWrap"}(t.PropertyKey||(t.PropertyKey={}))},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(52)("wks"),i=r(37),o=r(6).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(45),o=r(2),a=r(1),s={[i.EventType.kEventTypeSendEvent]:"SendEvent",[i.EventType.kEventTypeControlMedia]:"ControlMedia",[i.EventType.kEventTypePlayMedia]:"PlayMedia",[i.EventType.kEventTypeRequestLineBounds]:"RequestLineBounds",[i.EventType.kEventTypeLineHighlight]:"LineHighlight",[i.EventType.kEventTypeFinish]:"Finish",[i.EventType.kEventTypeFocus]:"Focus",[i.EventType.kEventTypeOpenURL]:"OpenURL",[i.EventType.kEventTypeExtension]:"Extension",[i.EventType.kEventTypeDataSourceFetchRequest]:"DataSourceFetchRequest"};t.Event=class{constructor(e,t){this.event=e,this.renderer=t,this.isTerminated=!1,this.type=s[e.getType()]||"Event",this.logger=a.LoggerFactory.getLogger(this.type),e.addTerminateCallback(()=>{this.terminate()})}terminate(){this.isTerminated=!0}resolve(){this.event.resolve()}waitForValidLayout(e){return n(this,void 0,void 0,(function*(){for(;;){const t=e.getCalculatedByKey(o.PropertyKey.kPropertyBounds);if(t.width>0&&t.width<1e6)break;yield this.waitAFrame()}}))}wait(e){return new Promise(t=>{setTimeout(t,e)})}waitAFrame(){const e=Date.now();return new Promise(t=>{requestAnimationFrame(()=>{t(Date.now()-e)})})}destroy(){this.renderer=void 0,this.event=void 0}}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kEventPropertyAlign=0]="kEventPropertyAlign",e[e.kEventPropertyArguments=1]="kEventPropertyArguments",e[e.kEventPropertyAudioTrack=2]="kEventPropertyAudioTrack",e[e.kEventPropertyCommand=3]="kEventPropertyCommand",e[e.kEventPropertyComponent=4]="kEventPropertyComponent",e[e.kEventPropertyComponents=5]="kEventPropertyComponents",e[e.kEventPropertyDirection=6]="kEventPropertyDirection",e[e.kEventPropertyExtension=7]="kEventPropertyExtension",e[e.kEventPropertyExtensionURI=8]="kEventPropertyExtensionURI",e[e.kEventPropertyExtensionResourceId=9]="kEventPropertyExtensionResourceId",e[e.kEventPropertyFlags=10]="kEventPropertyFlags",e[e.kEventPropertyHeaders=11]="kEventPropertyHeaders",e[e.kEventPropertyHighlightMode=12]="kEventPropertyHighlightMode",e[e.kEventPropertyMediaType=13]="kEventPropertyMediaType",e[e.kEventPropertyName=14]="kEventPropertyName",e[e.kEventPropertyPosition=15]="kEventPropertyPosition",e[e.kEventPropertyRangeStart=16]="kEventPropertyRangeStart",e[e.kEventPropertyRangeEnd=17]="kEventPropertyRangeEnd",e[e.kEventPropertyReason=18]="kEventPropertyReason",e[e.kEventPropertySource=19]="kEventPropertySource",e[e.kEventPropertyValue=20]="kEventPropertyValue"}(t.EventProperty||(t.EventProperty={}))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(6),i=r(3),o=r(75),a=r(13),s=r(11),d=function(e,t,r){var u,c,l,p=e&d.F,f=e&d.G,h=e&d.S,y=e&d.P,m=e&d.B,g=e&d.W,v=f?i:i[t]||(i[t]={}),b=v.prototype,P=f?n:h?n[t]:(n[t]||{}).prototype;for(u in f&&(r=t),r)(c=!p&&P&&void 0!==P[u])&&s(v,u)||(l=c?P[u]:r[u],v[u]=f&&"function"!=typeof P[u]?r[u]:m&&c?o(l,n):g&&P[u]==l?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):y&&"function"==typeof l?o(Function.call,l):l,y&&((v.virtual||(v.virtual={}))[u]=l,e&d.R&&b&&!b[u]&&a(b,u,l)))};d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,r){var n=r(14),i=r(76),o=r(46),a=Object.defineProperty;t.f=r(15)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n;
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */!function(t,r){"use strict";"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,(function(r,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,d=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},u=o.push,c=o.indexOf,l={},p=l.toString,f=l.hasOwnProperty,h=f.toString,y=h.call(Object),m={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},b=r.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function k(e,t,r){var n,i,o=(r=r||b).createElement("script");if(o.text=e,t)for(n in P)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,i);r.head.appendChild(o).parentNode.removeChild(o)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[p.call(e)]||"object":typeof e}var T=function(e,t){return new T.fn.init(e,t)};function E(e){var t=!!e&&"length"in e&&e.length,r=S(e);return!g(e)&&!v(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}T.fn=T.prototype={jquery:"3.5.1",constructor:T,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(T.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(T.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,d=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===d&&(a=this,s--);s<d;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(u&&n&&(T.isPlainObject(n)||(i=Array.isArray(n)))?(r=a[t],o=i&&!Array.isArray(r)?[]:i||T.isPlainObject(r)?r:{},i=!1,a[t]=T.extend(u,o,n)):void 0!==n&&(a[t]=n));return a},T.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(r=f.call(t,"constructor")&&t.constructor)||h.call(r)!==y))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){k(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(E(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(E(Object(e))?T.merge(r,"string"==typeof e?[e]:e):u.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:c.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,r){var n,i,o=0,a=[];if(E(e))for(n=e.length;o<n;o++)null!=(i=t(e[o],o,r))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,r))&&a.push(i);return d(a)},guid:1,support:m}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var x=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){var t,r,n,i,o,a,s,d,u,c,l,p,f,h,y,m,g,v,b,P="sizzle"+1*new Date,k=e.document,S=0,T=0,E=de(),x=de(),w=de(),C=de(),A=function(e,t){return e===t&&(l=!0),0},_={}.hasOwnProperty,L=[],I=L.pop,R=L.push,M=L.push,D=L.slice,O=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",G="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+N+"*("+G+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+G+"))|)"+N+"*\\]",U=":("+G+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",K=new RegExp(N+"+","g"),j=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),V=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),z=new RegExp(N+"|>"),W=new RegExp(U),q=new RegExp("^"+G+"$"),$={ID:new RegExp("^#("+G+")"),CLASS:new RegExp("^\\.("+G+")"),TAG:new RegExp("^("+G+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),re=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ae=Pe((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(L=D.call(k.childNodes),k.childNodes),L[k.childNodes.length].nodeType}catch(e){M={apply:L.length?function(e,t){R.apply(e,D.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var o,s,u,c,l,h,g,v=t&&t.ownerDocument,k=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==k&&9!==k&&11!==k)return n;if(!i&&(p(t),t=t||f,y)){if(11!==k&&(l=Z.exec(e)))if(o=l[1]){if(9===k){if(!(u=t.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(v&&(u=v.getElementById(o))&&b(t,u)&&u.id===o)return n.push(u),n}else{if(l[2])return M.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&r.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(o)),n}if(r.qsa&&!C[e+" "]&&(!m||!m.test(e))&&(1!==k||"object"!==t.nodeName.toLowerCase())){if(g=e,v=t,1===k&&(z.test(e)||V.test(e))){for((v=ee.test(e)&&ge(t.parentNode)||t)===t&&r.scope||((c=t.getAttribute("id"))?c=c.replace(ne,ie):t.setAttribute("id",c=P)),s=(h=a(e)).length;s--;)h[s]=(c?"#"+c:":scope")+" "+be(h[s]);g=h.join(",")}try{return M.apply(n,v.querySelectorAll(g)),n}catch(t){C(e,!0)}finally{c===P&&t.removeAttribute("id")}}}return d(e.replace(j,"$1"),t,n,i)}function de(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function ue(e){return e[P]=!0,e}function ce(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var r=e.split("|"),i=r.length;i--;)n.attrHandle[r[i]]=t}function pe(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function ye(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue((function(t){return t=+t,ue((function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))}))}))}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,r=(e.ownerDocument||e).documentElement;return!Y.test(t||r&&r.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:k;return a!=f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,y=!o(f),k!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),r.scope=ce((function(e){return h.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),r.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=ce((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=Q.test(f.getElementsByClassName),r.getById=ce((function(e){return h.appendChild(e).id=P,!f.getElementsByName||!f.getElementsByName(P).length})),r.getById?(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,re);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r,n,i,o=t.getElementById(e);if(o){if((r=o.getAttributeNode("id"))&&r.value===e)return[o];for(i=t.getElementsByName(e),n=0;o=i[n++];)if((r=o.getAttributeNode("id"))&&r.value===e)return[o]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},g=[],m=[],(r.qsa=Q.test(f.querySelectorAll))&&(ce((function(e){var t;h.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+P+"-]").length||m.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=Q.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ce((function(e){r.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),g.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Q.test(h.compareDocumentPosition),b=t||Q.test(h.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e==f||e.ownerDocument==k&&b(k,e)?-1:t==f||t.ownerDocument==k&&b(k,t)?1:c?O(c,e)-O(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var r,n=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==f?-1:t==f?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return pe(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?pe(a[n],s[n]):a[n]==k?-1:s[n]==k?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),r.matchesSelector&&y&&!C[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){C(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=f&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=f&&p(e);var i=n.attrHandle[t.toLowerCase()],o=i&&_.call(n.attrHandle,t.toLowerCase())?i(e,t,!y):void 0;return void 0!==o?o:r.attributes||!y?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ne,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,o=0;if(l=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(A),l){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return c=null,e},i=se.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},(n=se.selectors={cacheLength:50,createPseudo:ue,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,re),e[3]=(e[3]||e[4]||e[5]||"").replace(te,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&W.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(K," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,d){var u,c,l,p,f,h,y=o!==a?"nextSibling":"previousSibling",m=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!d&&!s,b=!1;if(m){if(o){for(;y;){for(p=t;p=p[y];)if(s?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){for(b=(f=(u=(c=(l=(p=m)[P]||(p[P]={}))[p.uniqueID]||(l[p.uniqueID]={}))[e]||[])[0]===S&&u[1])&&u[2],p=f&&m.childNodes[f];p=++f&&p&&p[y]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){c[e]=[S,f,b];break}}else if(v&&(b=f=(u=(c=(l=(p=t)[P]||(p[P]={}))[p.uniqueID]||(l[p.uniqueID]={}))[e]||[])[0]===S&&u[1]),!1===b)for(;(p=++f&&p&&p[y]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++b||(v&&((c=(l=p[P]||(p[P]={}))[p.uniqueID]||(l[p.uniqueID]={}))[e]=[S,b]),p!==t)););return(b-=i)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[P]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,r){for(var n,o=i(e,t),a=o.length;a--;)e[n=O(e,o[a])]=!(r[n]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:ue((function(e){var t=[],r=[],n=s(e.replace(j,"$1"));return n[P]?ue((function(e,t,r,i){for(var o,a=n(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,n(t,null,o,r),t[0]=null,!r.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,re),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ue((function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,re).toLowerCase(),function(t){var r;do{if(r=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ye(!1),disabled:ye(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,r){return[r<0?r+t:r]})),even:me((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:me((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:me((function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e})),gt:me((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=he(t);function ve(){}function be(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function Pe(e,t,r){var n=t.dir,i=t.next,o=i||n,a=r&&"parentNode"===o,s=T++;return t.first?function(t,r,i){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,i);return!1}:function(t,r,d){var u,c,l,p=[S,s];if(d){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,d))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=(l=t[P]||(t[P]={}))[t.uniqueID]||(l[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=c[o])&&u[0]===S&&u[1]===s)return p[2]=u[2];if(c[o]=p,p[2]=e(t,r,d))return!0}return!1}}function ke(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function Se(e,t,r,n,i){for(var o,a=[],s=0,d=e.length,u=null!=t;s<d;s++)(o=e[s])&&(r&&!r(o,n,i)||(a.push(o),u&&t.push(s)));return a}function Te(e,t,r,n,i,o){return n&&!n[P]&&(n=Te(n)),i&&!i[P]&&(i=Te(i,o)),ue((function(o,a,s,d){var u,c,l,p=[],f=[],h=a.length,y=o||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?y:Se(y,p,e,s,d),g=r?i||(o?e:h||n)?[]:a:m;if(r&&r(m,g,s,d),n)for(u=Se(g,f),n(u,[],s,d),c=u.length;c--;)(l=u[c])&&(g[f[c]]=!(m[f[c]]=l));if(o){if(i||e){if(i){for(u=[],c=g.length;c--;)(l=g[c])&&u.push(m[c]=l);i(null,g=[],u,d)}for(c=g.length;c--;)(l=g[c])&&(u=i?O(o,l):p[c])>-1&&(o[u]=!(a[u]=l))}}else g=Se(g===a?g.splice(h,g.length):g),i?i(null,a,g,d):M.apply(a,g)}))}function Ee(e){for(var t,r,i,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],d=a?1:0,c=Pe((function(e){return e===t}),s,!0),l=Pe((function(e){return O(t,e)>-1}),s,!0),p=[function(e,r,n){var i=!a&&(n||r!==u)||((t=r).nodeType?c(e,r,n):l(e,r,n));return t=null,i}];d<o;d++)if(r=n.relative[e[d].type])p=[Pe(ke(p),r)];else{if((r=n.filter[e[d].type].apply(null,e[d].matches))[P]){for(i=++d;i<o&&!n.relative[e[i].type];i++);return Te(d>1&&ke(p),d>1&&be(e.slice(0,d-1).concat({value:" "===e[d-2].type?"*":""})).replace(j,"$1"),r,d<i&&Ee(e.slice(d,i)),i<o&&Ee(e=e.slice(i)),i<o&&be(e))}p.push(r)}return ke(p)}return ve.prototype=n.filters=n.pseudos,n.setFilters=new ve,a=se.tokenize=function(e,t){var r,i,o,a,s,d,u,c=x[e+" "];if(c)return t?0:c.slice(0);for(s=e,d=[],u=n.preFilter;s;){for(a in r&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),d.push(o=[])),r=!1,(i=V.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(j," ")}),s=s.slice(r.length)),n.filter)!(i=$[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?se.error(e):x(e,d).slice(0)},s=se.compile=function(e,t){var r,i=[],o=[],s=w[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=Ee(t[r]))[P]?i.push(s):o.push(s);(s=w(e,function(e,t){var r=t.length>0,i=e.length>0,o=function(o,a,s,d,c){var l,h,m,g=0,v="0",b=o&&[],P=[],k=u,T=o||i&&n.find.TAG("*",c),E=S+=null==k?1:Math.random()||.1,x=T.length;for(c&&(u=a==f||a||c);v!==x&&null!=(l=T[v]);v++){if(i&&l){for(h=0,a||l.ownerDocument==f||(p(l),s=!y);m=e[h++];)if(m(l,a||f,s)){d.push(l);break}c&&(S=E)}r&&((l=!m&&l)&&g--,o&&b.push(l))}if(g+=v,r&&v!==g){for(h=0;m=t[h++];)m(b,P,a,s);if(o){if(g>0)for(;v--;)b[v]||P[v]||(P[v]=I.call(d));P=Se(P)}M.apply(d,P),c&&!o&&P.length>0&&g+t.length>1&&se.uniqueSort(d)}return c&&(S=E,u=k),b};return r?ue(o):o}(o,i))).selector=e}return s},d=se.select=function(e,t,r,i){var o,d,u,c,l,p="function"==typeof e&&e,f=!i&&a(e=p.selector||e);if(r=r||[],1===f.length){if((d=f[0]=f[0].slice(0)).length>2&&"ID"===(u=d[0]).type&&9===t.nodeType&&y&&n.relative[d[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(te,re),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(d.shift().value.length)}for(o=$.needsContext.test(e)?0:d.length;o--&&(u=d[o],!n.relative[c=u.type]);)if((l=n.find[c])&&(i=l(u.matches[0].replace(te,re),ee.test(d[0].type)&&ge(t.parentNode)||t))){if(d.splice(o,1),!(e=i.length&&be(d)))return M.apply(r,i),r;break}}return(p||s(e,f))(i,t,!y,r,!t||ee.test(e)&&ge(t.parentNode)||t),r},r.sortStable=P.split("").sort(A).join("")===P,r.detectDuplicates=!!l,p(),r.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||le("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||le("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||le(F,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(r);T.find=x,T.expr=x.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=x.uniqueSort,T.text=x.getText,T.isXMLDoc=x.isXML,T.contains=x.contains,T.escapeSelector=x.escape;var w=function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&T(e).is(r))break;n.push(e)}return n},C=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},A=T.expr.match.needsContext;function _(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,r){return g(t)?T.grep(e,(function(e,n){return!!t.call(e,n,e)!==r})):t.nodeType?T.grep(e,(function(e){return e===t!==r})):"string"!=typeof t?T.grep(e,(function(e){return c.call(t,e)>-1!==r})):T.filter(t,e,r)}T.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?T.find.matchesSelector(n,e)?[n]:[]:T.find.matches(e,T.grep(t,(function(e){return 1===e.nodeType})))},T.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(T(e).filter((function(){for(t=0;t<n;t++)if(T.contains(i[t],this))return!0})));for(r=this.pushStack([]),t=0;t<n;t++)T.find(e,i[t],r);return n>1?T.uniqueSort(r):r},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&A.test(e)?T(e):e||[],!1).length}});var R,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||R,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),L.test(n[1])&&T.isPlainObject(t))for(n in t)g(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=b.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==r.ready?r.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,R=T(b);var D=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(T.contains(this,t[e]))return!0}))},closest:function(e,t){var r,n=0,i=this.length,o=[],a="string"!=typeof e&&T(e);if(!A.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&T.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?c.call(T(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w(e,"parentNode")},parentsUntil:function(e,t,r){return w(e,"parentNode",r)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return w(e,"nextSibling")},prevAll:function(e){return w(e,"previousSibling")},nextUntil:function(e,t,r){return w(e,"nextSibling",r)},prevUntil:function(e,t,r){return w(e,"previousSibling",r)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(_(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},(function(e,t){T.fn[e]=function(r,n){var i=T.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=T.filter(n,i)),this.length>1&&(O[e]||T.uniqueSort(i),D.test(e)&&i.reverse()),this.pushStack(i)}}));var N=/[^\x20\t\r\n\f]+/g;function G(e){return e}function B(e){throw e}function U(e,t,r,n){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(r):e&&g(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(N)||[],(function(e,r){t[r]=!0})),t}(e):T.extend({},e);var t,r,n,i,o=[],a=[],s=-1,d=function(){for(i=i||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<o.length;)!1===o[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=o.length,r=!1);e.memory||(r=!1),t=!1,i&&(o=r?[]:"")},u={add:function(){return o&&(r&&!t&&(s=o.length-1,a.push(r)),function t(r){T.each(r,(function(r,n){g(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==S(n)&&t(n)}))}(arguments),r&&!t&&d()),this},remove:function(){return T.each(arguments,(function(e,t){for(var r;(r=T.inArray(t,o,r))>-1;)o.splice(r,1),r<=s&&s--})),this},has:function(e){return e?T.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=r="",this},disabled:function(){return!o},lock:function(){return i=a=[],r||t||(o=r=""),this},locked:function(){return!!i},fireWith:function(e,r){return i||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||d()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred((function(r){T.each(t,(function(t,n){var i=g(e[n[4]])&&e[n[4]];o[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function a(e,t,n,i){return function(){var s=this,d=arguments,u=function(){var r,u;if(!(e<o)){if((r=n.apply(s,d))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(u)?i?u.call(r,a(o,t,G,i),a(o,t,B,i)):(o++,u.call(r,a(o,t,G,i),a(o,t,B,i),a(o,t,G,t.notifyWith))):(n!==G&&(s=void 0,d=[r]),(i||t.resolveWith)(s,d))}},c=i?u:function(){try{u()}catch(r){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(r,c.stackTrace),e+1>=o&&(n!==B&&(s=void 0,d=[r]),t.rejectWith(s,d))}};e?c():(T.Deferred.getStackHook&&(c.stackTrace=T.Deferred.getStackHook()),r.setTimeout(c))}}return T.Deferred((function(r){t[0][3].add(a(0,r,g(i)?i:G,r.notifyWith)),t[1][3].add(a(0,r,g(e)?e:G)),t[2][3].add(a(0,r,g(n)?n:B))})).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},o={};return T.each(t,(function(e,r){var a=r[2],s=r[5];i[r[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,r=t,n=Array(r),i=s.call(arguments),o=T.Deferred(),a=function(e){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,--t||o.resolveWith(n,i)}};if(t<=1&&(U(e,o.done(a(r)).resolve,o.reject,!t),"pending"===o.state()||g(i[r]&&i[r].then)))return o.then();for(;r--;)U(i[r],a(r),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&K.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){r.setTimeout((function(){throw e}))};var j=T.Deferred();function H(){b.removeEventListener("DOMContentLoaded",H),r.removeEventListener("load",H),T.ready()}T.fn.ready=function(e){return j.then(e).catch((function(e){T.readyException(e)})),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||j.resolveWith(b,[T]))}}),T.ready.then=j.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?r.setTimeout(T.ready):(b.addEventListener("DOMContentLoaded",H),r.addEventListener("load",H));var V=function(e,t,r,n,i,o,a){var s=0,d=e.length,u=null==r;if("object"===S(r))for(s in i=!0,r)V(e,t,s,r[s],!0,o,a);else if(void 0!==n&&(i=!0,g(n)||(a=!0),u&&(a?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(T(e),r)})),t))for(;s<d;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:u?t.call(e):d?t(e[0],r):o},z=/^-ms-/,W=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function $(e){return e.replace(z,"ms-").replace(W,q)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=T.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[$(t)]=r;else for(n in t)i[$(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map($):(t=$(t))in n?[t]:t.match(N)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||T.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var J=new X,Q=new X,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(r)}catch(e){}Q.set(e,t,r)}else r=void 0;return r}T.extend({hasData:function(e){return Q.hasData(e)||J.hasData(e)},data:function(e,t,r){return Q.access(e,t,r)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,r){return J.access(e,t,r)},_removeData:function(e,t){J.remove(e,t)}}),T.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=$(n.slice(5)),te(o,n,i[n]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Q.set(this,e)})):V(this,(function(t){var r;if(o&&void 0===t)return void 0!==(r=Q.get(o,e))||void 0!==(r=te(o,e))?r:void 0;this.each((function(){Q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Q.remove(this,e)}))}}),T.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=J.get(e,t),r&&(!n||Array.isArray(r)?n=J.access(e,t,T.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=T.queue(e,t),n=r.length,i=r.shift(),o=T._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,(function(){T.dequeue(e,t)}),o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return J.get(e,r)||J.access(e,r,{empty:T.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",r])}))})}}),T.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?T.queue(this[0],e):void 0===t?this:this.each((function(){var r=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&T.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){T.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=T.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=J.get(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],oe=b.documentElement,ae=function(e){return T.contains(e.ownerDocument,e)},se={composed:!0};oe.getRootNode&&(ae=function(e){return T.contains(e.ownerDocument,e)||e.getRootNode(se)===e.ownerDocument});var de=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===T.css(e,"display")};function ue(e,t,r,n){var i,o,a=20,s=n?function(){return n.cur()}:function(){return T.css(e,t,"")},d=s(),u=r&&r[3]||(T.cssNumber[t]?"":"px"),c=e.nodeType&&(T.cssNumber[t]||"px"!==u&&+d)&&ne.exec(T.css(e,t));if(c&&c[3]!==u){for(d/=2,u=u||c[3],c=+d||1;a--;)T.style(e,t,c+u),(1-o)*(1-(o=s()/d||.5))<=0&&(a=0),c/=o;c*=2,T.style(e,t,c+u),r=r||[]}return r&&(c=+c||+d||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=c,n.end=i)),i}var ce={};function le(e){var t,r=e.ownerDocument,n=e.nodeName,i=ce[n];return i||(t=r.body.appendChild(r.createElement(n)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ce[n]=i,i)}function pe(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(r=n.style.display,t?("none"===r&&(i[o]=J.get(n,"display")||null,i[o]||(n.style.display="")),""===n.style.display&&de(n)&&(i[o]=le(n))):"none"!==r&&(i[o]="none",J.set(n,"display",r)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}T.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){de(this)?T(this).show():T(this).hide()}))}});var fe,he,ye=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;fe=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),fe.appendChild(he),m.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",m.option=!!fe.lastChild;var ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&_(e,t)?T.merge([e],r):r}function Pe(e,t){for(var r=0,n=e.length;r<n;r++)J.set(e[r],"globalEval",!t||J.get(t[r],"globalEval"))}ve.tbody=ve.tfoot=ve.colgroup=ve.caption=ve.thead,ve.th=ve.td,m.option||(ve.optgroup=ve.option=[1,"<select multiple='multiple'>","</select>"]);var ke=/<|&#?\w+;/;function Se(e,t,r,n,i){for(var o,a,s,d,u,c,l=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===S(o))T.merge(p,o.nodeType?[o]:o);else if(ke.test(o)){for(a=a||l.appendChild(t.createElement("div")),s=(me.exec(o)||["",""])[1].toLowerCase(),d=ve[s]||ve._default,a.innerHTML=d[1]+T.htmlPrefilter(o)+d[2],c=d[0];c--;)a=a.lastChild;T.merge(p,a.childNodes),(a=l.firstChild).textContent=""}else p.push(t.createTextNode(o));for(l.textContent="",f=0;o=p[f++];)if(n&&T.inArray(o,n)>-1)i&&i.push(o);else if(u=ae(o),a=be(l.appendChild(o),"script"),u&&Pe(a),r)for(c=0;o=a[c++];)ge.test(o.type||"")&&r.push(o);return l}var Te=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ce(){return!1}function Ae(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function _e(e,t,r,n,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)_e(e,s,r,n,t[s],o);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=Ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return T().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),e.each((function(){T.event.add(this,t,i,n,r)}))}function Le(e,t,r){r?(J.set(e,t,!1),T.event.add(e,t,{namespace:!1,handler:function(e){var n,i,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(T.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=s.call(arguments),J.set(this,t,o),n=r(this,t),this[t](),o!==(i=J.get(this,t))||n?J.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(J.set(this,t,{value:T.event.trigger(T.extend(o[0],T.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&T.event.add(e,t,we)}T.event={global:{},add:function(e,t,r,n,i){var o,a,s,d,u,c,l,p,f,h,y,m=J.get(e);if(Y(e))for(r.handler&&(r=(o=r).handler,i=o.selector),i&&T.find.matchesSelector(oe,i),r.guid||(r.guid=T.guid++),(d=m.events)||(d=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(N)||[""]).length;u--;)f=y=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f&&(l=T.event.special[f]||{},f=(i?l.delegateType:l.bindType)||f,l=T.event.special[f]||{},c=T.extend({type:f,origType:y,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=d[f])||((p=d[f]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,n,h,a)||e.addEventListener&&e.addEventListener(f,a)),l.add&&(l.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),T.event.global[f]=!0)},remove:function(e,t,r,n,i){var o,a,s,d,u,c,l,p,f,h,y,m=J.hasData(e)&&J.get(e);if(m&&(d=m.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(f=y=(s=xe.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f){for(l=T.event.special[f]||{},p=d[f=(n?l.delegateType:l.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&y!==c.origType||r&&r.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,l.remove&&l.remove.call(e,c));a&&!p.length&&(l.teardown&&!1!==l.teardown.call(e,h,m.handle)||T.removeEvent(e,f,m.handle),delete d[f])}else for(f in d)T.event.remove(e,f+t[u],r,n,!0);T.isEmptyObject(d)&&J.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,o,a,s=new Array(arguments.length),d=T.event.fix(e),u=(J.get(this,"events")||Object.create(null))[d.type]||[],c=T.event.special[d.type]||{};for(s[0]=d,t=1;t<arguments.length;t++)s[t]=arguments[t];if(d.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,d)){for(a=T.event.handlers.call(this,d,u),t=0;(i=a[t++])&&!d.isPropagationStopped();)for(d.currentTarget=i.elem,r=0;(o=i.handlers[r++])&&!d.isImmediatePropagationStopped();)d.rnamespace&&!1!==o.namespace&&!d.rnamespace.test(o.namespace)||(d.handleObj=o,d.data=o.data,void 0!==(n=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(d.result=n)&&(d.preventDefault(),d.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,d),d.result}},handlers:function(e,t){var r,n,i,o,a,s=[],d=t.delegateCount,u=e.target;if(d&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},r=0;r<d;r++)void 0===a[i=(n=t[r]).selector+" "]&&(a[i]=n.needsContext?T(i,this).index(u)>-1:T.find(i,this,null,[u]).length),a[i]&&o.push(n);o.length&&s.push({elem:u,handlers:o})}return u=this,d<t.length&&s.push({elem:u,handlers:t.slice(d)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ye.test(t.type)&&t.click&&_(t,"input")&&Le(t,"click",we),!1},trigger:function(e){var t=this||e;return ye.test(t.type)&&t.click&&_(t,"input")&&Le(t,"click"),!0},_default:function(e){var t=e.target;return ye.test(t.type)&&t.click&&_(t,"input")&&J.get(t,"click")||_(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Te.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},T.event.addProp),T.each({focus:"focusin",blur:"focusout"},(function(e,t){T.event.special[e]={setup:function(){return Le(this,e,Ae),!1},trigger:function(){return Le(this,e),!0},delegateType:t}})),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===n||T.contains(n,i))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}})),T.fn.extend({on:function(e,t,r,n){return _e(this,e,t,r,n)},one:function(e,t,r,n){return _e(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,T(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Ce),this.each((function(){T.event.remove(this,e,r,t)}))}});var Ie=/<script|<style|<link/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,Me=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return _(e,"table")&&_(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var r,n,i,o,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(i in J.remove(t,"handle events"),s)for(r=0,n=s[i].length;r<n;r++)T.event.add(t,i,s[i][r]);Q.hasData(e)&&(o=Q.access(e),a=T.extend({},o),Q.set(t,a))}}function Ge(e,t){var r=t.nodeName.toLowerCase();"input"===r&&ye.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function Be(e,t,r,n){t=d(t);var i,o,a,s,u,c,l=0,p=e.length,f=p-1,h=t[0],y=g(h);if(y||p>1&&"string"==typeof h&&!m.checkClone&&Re.test(h))return e.each((function(i){var o=e.eq(i);y&&(t[0]=h.call(this,i,o.html())),Be(o,t,r,n)}));if(p&&(o=(i=Se(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=o),o||n)){for(s=(a=T.map(be(i,"script"),Oe)).length;l<p;l++)u=i,l!==f&&(u=T.clone(u,!0,!0),s&&T.merge(a,be(u,"script"))),r.call(e[l],u,l);if(s)for(c=a[a.length-1].ownerDocument,T.map(a,Fe),l=0;l<s;l++)u=a[l],ge.test(u.type||"")&&!J.access(u,"globalEval")&&T.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?T._evalUrl&&!u.noModule&&T._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):k(u.textContent.replace(Me,""),u,c))}return e}function Ue(e,t,r){for(var n,i=t?T.filter(t,e):e,o=0;null!=(n=i[o]);o++)r||1!==n.nodeType||T.cleanData(be(n)),n.parentNode&&(r&&ae(n)&&Pe(be(n,"script")),n.parentNode.removeChild(n));return e}T.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,i,o,a,s=e.cloneNode(!0),d=ae(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(a=be(s),n=0,i=(o=be(e)).length;n<i;n++)Ge(o[n],a[n]);if(t)if(r)for(o=o||be(e),a=a||be(s),n=0,i=o.length;n<i;n++)Ne(o[n],a[n]);else Ne(e,s);return(a=be(s,"script")).length>0&&Pe(a,!d&&be(e,"script")),s},cleanData:function(e){for(var t,r,n,i=T.event.special,o=0;void 0!==(r=e[o]);o++)if(Y(r)){if(t=r[J.expando]){if(t.events)for(n in t.events)i[n]?T.event.remove(r,n):T.removeEvent(r,n,t.handle);r[J.expando]=void 0}r[Q.expando]&&(r[Q.expando]=void 0)}}}),T.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return V(this,(function(e){return void 0===e?T.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return T.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ie.test(e)&&!ve[(me.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(T.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,(function(t){var r=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(be(this)),r&&r.replaceChild(t,this))}),e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){T.fn[e]=function(e){for(var r,n=[],i=T(e),o=i.length-1,a=0;a<=o;a++)r=a===o?this:this.clone(!0),T(i[a])[t](r),u.apply(n,r.get());return this.pushStack(n)}}));var Ke=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},He=function(e,t,r){var n,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in n=r.call(e),t)e.style[i]=o[i];return n},Ve=new RegExp(ie.join("|"),"i");function ze(e,t,r){var n,i,o,a,s=e.style;return(r=r||je(e))&&(""!==(a=r.getPropertyValue(t)||r[t])||ae(e)||(a=T.style(e,t)),!m.pixelBoxStyles()&&Ke.test(a)&&Ve.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(u).appendChild(c);var e=r.getComputedStyle(c);n="1%"!==e.top,d=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),oe.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,a,s,d,u=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,T.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),d},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==s&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",oe.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),s=parseInt(i.height)>3,oe.removeChild(e)),s}}))}();var qe=["Webkit","Moz","ms"],$e=b.createElement("div").style,Ye={};function Xe(e){return T.cssProps[e]||Ye[e]||(e in $e?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),r=qe.length;r--;)if((e=qe[r]+t)in $e)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,r){var n=ne.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function rt(e,t,r,n,i,o){var a="width"===t?1:0,s=0,d=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(d+=T.css(e,r+ie[a],!0,i)),n?("content"===r&&(d-=T.css(e,"padding"+ie[a],!0,i)),"margin"!==r&&(d-=T.css(e,"border"+ie[a]+"Width",!0,i))):(d+=T.css(e,"padding"+ie[a],!0,i),"padding"!==r?d+=T.css(e,"border"+ie[a]+"Width",!0,i):s+=T.css(e,"border"+ie[a]+"Width",!0,i));return!n&&o>=0&&(d+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-d-s-.5))||0),d}function nt(e,t,r){var n=je(e),i=(!m.boxSizingReliable()||r)&&"border-box"===T.css(e,"boxSizing",!1,n),o=i,a=ze(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ke.test(a)){if(!r)return a;a="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&_(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===T.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===T.css(e,"boxSizing",!1,n),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+rt(e,t,r||(i?"border":"content"),o,n,a)+"px"}function it(e,t,r,n,i){return new it.prototype.init(e,t,r,n,i)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=ze(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=$(t),d=Qe.test(t),u=e.style;if(d||(t=Xe(s)),a=T.cssHooks[t]||T.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:u[t];"string"==(o=typeof r)&&(i=ne.exec(r))&&i[1]&&(r=ue(e,t,i),o="number"),null!=r&&r==r&&("number"!==o||d||(r+=i&&i[3]||(T.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(d?u.setProperty(t,r):u[t]=r))}},css:function(e,t,r,n){var i,o,a,s=$(t);return Qe.test(t)||(t=Xe(s)),(a=T.cssHooks[t]||T.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,r)),void 0===i&&(i=ze(e,t,n)),"normal"===i&&t in et&&(i=et[t]),""===r||r?(o=parseFloat(i),!0===r||isFinite(o)?o||0:i):i}}),T.each(["height","width"],(function(e,t){T.cssHooks[t]={get:function(e,r,n){if(r)return!Je.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,n):He(e,Ze,(function(){return nt(e,t,n)}))},set:function(e,r,n){var i,o=je(e),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===T.css(e,"boxSizing",!1,o),d=n?rt(e,t,n,s,o):0;return s&&a&&(d-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),d&&(i=ne.exec(r))&&"px"!==(i[3]||"px")&&(e.style[t]=r,r=T.css(e,t)),tt(0,r,d)}}})),T.cssHooks.marginLeft=We(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ze(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),T.each({margin:"",padding:"",border:"Width"},(function(e,t){T.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+ie[n]+t]=o[n]||o[n-2]||o[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=tt)})),T.fn.extend({css:function(e,t){return V(this,(function(e,t,r){var n,i,o={},a=0;if(Array.isArray(t)){for(n=je(e),i=t.length;a<i;a++)o[t[a]]=T.css(e,t[a],!1,n);return o}return void 0!==r?T.style(e,t,r):T.css(e,t)}),e,t,arguments.length>1)}}),T.Tween=it,it.prototype={constructor:it,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(T.cssNumber[r]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,r=it.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||!T.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=it.prototype.init,T.fx.step={};var ot,at,st=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ut(){at&&(!1===b.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(ut):r.setTimeout(ut,T.fx.interval),T.fx.tick())}function ct(){return r.setTimeout((function(){ot=void 0})),ot=Date.now()}function lt(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=ie[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,r){for(var n,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(n=i[o].call(r,t,e))return n}function ft(e,t,r){var n,i,o=0,a=ft.prefilters.length,s=T.Deferred().always((function(){delete d.elem})),d=function(){if(i)return!1;for(var t=ot||ct(),r=Math.max(0,u.startTime+u.duration-t),n=1-(r/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(n);return s.notifyWith(e,[u,n,r]),n<1&&a?r:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},r),originalProperties:t,originalOptions:r,startTime:ot||ct(),duration:r.duration,tweens:[],createTween:function(t,r){var n=T.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var r,n,i,o,a;for(r in e)if(i=t[n=$(r)],o=e[r],Array.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),(a=T.cssHooks[n])&&"expand"in a)for(r in o=a.expand(o),delete e[n],o)r in e||(e[r]=o[r],t[r]=i);else t[n]=i}(c,u.opts.specialEasing);o<a;o++)if(n=ft.prefilters[o].call(u,e,c,u.opts))return g(n.stop)&&(T._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return T.map(c,pt,u),g(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),T.fx.timer(T.extend(d,{elem:e,anim:u,queue:u.opts.queue})),u}T.Animation=T.extend(ft,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ue(r.elem,e,ne.exec(t),r),r}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(N);for(var r,n=0,i=e.length;n<i;n++)r=e[n],ft.tweeners[r]=ft.tweeners[r]||[],ft.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,o,a,s,d,u,c,l="width"in t||"height"in t,p=this,f={},h=e.style,y=e.nodeType&&de(e),m=J.get(e,"fxshow");for(n in r.queue||(null==(a=T._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always((function(){p.always((function(){a.unqueued--,T.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[n],st.test(i)){if(delete t[n],o=o||"toggle"===i,i===(y?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;y=!0}f[n]=m&&m[n]||T.style(e,n)}if((d=!T.isEmptyObject(t))||!T.isEmptyObject(f))for(n in l&&1===e.nodeType&&(r.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=J.get(e,"display")),"none"===(c=T.css(e,"display"))&&(u?c=u:(pe([e],!0),u=e.style.display||u,c=T.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===T.css(e,"float")&&(d||(p.done((function(){h.display=u})),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),r.overflow&&(h.overflow="hidden",p.always((function(){h.overflow=r.overflow[0],h.overflowX=r.overflow[1],h.overflowY=r.overflow[2]}))),d=!1,f)d||(m?"hidden"in m&&(y=m.hidden):m=J.access(e,"fxshow",{display:u}),o&&(m.hidden=!y),y&&pe([e],!0),p.done((function(){for(n in y||pe([e]),J.remove(e,"fxshow"),f)T.style(e,n,f[n])}))),d=pt(y?m[n]:0,n,p),n in m||(m[n]=d.start,y&&(d.end=d.start,d.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),T.speed=function(e,t,r){var n=e&&"object"==typeof e?T.extend({},e):{complete:r||!r&&t||g(e)&&e,duration:e,easing:r&&t||t&&!g(t)&&t};return T.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in T.fx.speeds?n.duration=T.fx.speeds[n.duration]:n.duration=T.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){g(n.old)&&n.old.call(this),n.queue&&T.dequeue(this,n.queue)},n},T.fn.extend({fadeTo:function(e,t,r,n){return this.filter(de).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=T.isEmptyObject(e),o=T.speed(t,r,n),a=function(){var t=ft(this,T.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=T.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&dt.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));!t&&r||T.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=J.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=T.timers,a=n?n.length:0;for(r.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),T.each(["toggle","show","hide"],(function(e,t){var r=T.fn[t];T.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(lt(t,!0),e,n,i)}})),T.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){T.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),T.timers=[],T.fx.tick=function(){var e,t=0,r=T.timers;for(ot=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||T.fx.stop(),ot=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){at||(at=!0,ut())},T.fx.stop=function(){at=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ht,yt=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return V(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){T.removeAttr(this,e)}))}}),T.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?T.prop(e,t,r):(1===o&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?ht:void 0)),void 0!==r?null===r?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=T.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&_(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(N);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),ht={set:function(e,t,r){return!1===t?T.removeAttr(e,r):e.setAttribute(r,r),r}},T.each(T.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=yt[t]||T.find.attr;yt[t]=function(e,t,n){var i,o,a=t.toLowerCase();return n||(o=yt[a],yt[a]=i,i=null!=r(e,t,n)?a:null,yt[a]=o),i}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(N)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function Pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}T.fn.extend({prop:function(e,t){return V(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[T.propFix[e]||e]}))}}),T.extend({prop:function(e,t,r){var n,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(e)||(t=T.propFix[t]||t,i=T.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){T.propFix[this.toLowerCase()]=this})),T.fn.extend({addClass:function(e){var t,r,n,i,o,a,s,d=0;if(g(e))return this.each((function(t){T(this).addClass(e.call(this,t,bt(this)))}));if((t=Pt(e)).length)for(;r=this[d++];)if(i=bt(r),n=1===r.nodeType&&" "+vt(i)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i!==(s=vt(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,i,o,a,s,d=0;if(g(e))return this.each((function(t){T(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Pt(e)).length)for(;r=this[d++];)if(i=bt(r),n=1===r.nodeType&&" "+vt(i)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");i!==(s=vt(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):g(e)?this.each((function(r){T(this).toggleClass(e.call(this,r,bt(this),t),t)})):this.each((function(){var t,i,o,a;if(n)for(i=0,o=T(this),a=Pt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==r||((t=bt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+vt(bt(r))+" ").indexOf(t)>-1)return!0;return!1}});var kt=/\r/g;T.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=g(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,T(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,(function(e){return null==e?"":e+""}))),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(kt,""):null==r?"":r:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:vt(T.text(e))}},select:{get:function(e){var t,r,n,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],d=a?o+1:i.length;for(n=o<0?d:a?o:0;n<d;n++)if(((r=i[n]).selected||n===o)&&!r.disabled&&(!r.parentNode.disabled||!_(r.parentNode,"optgroup"))){if(t=T(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,i=e.options,o=T.makeArray(t),a=i.length;a--;)((n=i[a]).selected=T.inArray(T.valHooks.option.get(n),o)>-1)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],(function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},m.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in r;var St=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,n,i){var o,a,s,d,u,c,l,p,h=[n||b],y=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=s=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!St.test(y+T.event.triggered)&&(y.indexOf(".")>-1&&(m=y.split("."),y=m.shift(),m.sort()),u=y.indexOf(":")<0&&"on"+y,(e=e[T.expando]?e:new T.Event(y,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:T.makeArray(t,[e]),l=T.event.special[y]||{},i||!l.trigger||!1!==l.trigger.apply(n,t))){if(!i&&!l.noBubble&&!v(n)){for(d=l.delegateType||y,St.test(d+y)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(n.ownerDocument||b)&&h.push(s.defaultView||s.parentWindow||r)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?d:l.bindType||y,(c=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&c.apply(a,t),(c=u&&a[u])&&c.apply&&Y(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=y,i||e.isDefaultPrevented()||l._default&&!1!==l._default.apply(h.pop(),t)||!Y(n)||u&&g(n[y])&&!v(n)&&((s=n[u])&&(n[u]=null),T.event.triggered=y,e.isPropagationStopped()&&p.addEventListener(y,Tt),n[y](),e.isPropagationStopped()&&p.removeEventListener(y,Tt),T.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,r){var n=T.extend(new T.Event,r,{type:e,isSimulated:!0});T.event.trigger(n,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each((function(){T.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return T.event.trigger(e,t,r,!0)}}),m.focusin||T.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){T.event.simulate(t,e.target,T.event.fix(e))};T.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=J.access(n,t);i||n.addEventListener(e,r,!0),J.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=J.access(n,t)-1;i?J.access(n,t,i):(n.removeEventListener(e,r,!0),J.remove(n,t))}}}));var Et=r.location,xt={guid:Date.now()},wt=/\?/;T.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+e),t};var Ct=/\[\]$/,At=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function It(e,t,r,n){var i;if(Array.isArray(t))T.each(t,(function(t,i){r||Ct.test(e)?n(e,i):It(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,n)}));else if(r||"object"!==S(t))n(e,t);else for(i in t)It(e+"["+i+"]",t[i],r,n)}T.param=function(e,t){var r,n=[],i=function(e,t){var r=g(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,(function(){i(this.name,this.value)}));else for(r in e)It(r,e[r],t,i);return n.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Lt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!ye.test(e))})).map((function(e,t){var r=T(this).val();return null==r?null:Array.isArray(r)?T.map(r,(function(e){return{name:t.name,value:e.replace(At,"\r\n")}})):{name:t.name,value:r.replace(At,"\r\n")}})).get()}});var Rt=/%20/g,Mt=/#.*$/,Dt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:GET|HEAD)$/,Nt=/^\/\//,Gt={},Bt={},Ut="*/".concat("*"),Kt=b.createElement("a");function jt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(N)||[];if(g(r))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function Ht(e,t,r,n){var i={},o=e===Bt;function a(s){var d;return i[s]=!0,T.each(e[s]||[],(function(e,s){var u=s(t,r,n);return"string"!=typeof u||o||i[u]?o?!(d=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),d}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Vt(e,t){var r,n,i=T.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&T.extend(!0,e,n),e}Kt.href=Et.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,T.ajaxSettings),t):Vt(T.ajaxSettings,e)},ajaxPrefilter:jt(Gt),ajaxTransport:jt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,d,u,c,l,p,f=T.ajaxSetup({},t),h=f.context||f,y=f.context&&(h.nodeType||h.jquery)?T(h):T.event,m=T.Deferred(),g=T.Callbacks("once memory"),v=f.statusCode||{},P={},k={},S="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ot.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=k[e.toLowerCase()]=k[e.toLowerCase()]||e,P[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),x(0,t),this}};if(m.promise(E),f.url=((e||f.url||Et.href)+"").replace(Nt,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){d=b.createElement("a");try{d.href=f.url,d.href=d.href,f.crossDomain=Kt.protocol+"//"+Kt.host!=d.protocol+"//"+d.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=T.param(f.data,f.traditional)),Ht(Gt,f,t,E),u)return E;for(l in(c=T.event&&f.global)&&0==T.active++&&T.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ft.test(f.type),i=f.url.replace(Mt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Rt,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(wt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Dt,"$1"),p=(wt.test(i)?"&":"?")+"_="+xt.guid+++p),f.url=i+p),f.ifModified&&(T.lastModified[i]&&E.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&E.setRequestHeader("If-None-Match",T.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ut+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(!1===f.beforeSend.call(h,E,f)||u))return E.abort();if(S="abort",g.add(f.complete),E.done(f.success),E.fail(f.error),n=Ht(Bt,f,t,E)){if(E.readyState=1,c&&y.trigger("ajaxSend",[E,f]),u)return E;f.async&&f.timeout>0&&(s=r.setTimeout((function(){E.abort("timeout")}),f.timeout));try{u=!1,n.send(P,x)}catch(e){if(u)throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,d){var l,p,b,P,k,S=t;u||(u=!0,s&&r.clearTimeout(s),n=void 0,o=d||"",E.readyState=e>0?4:0,l=e>=200&&e<300||304===e,a&&(P=function(e,t,r){for(var n,i,o,a,s=e.contents,d=e.dataTypes;"*"===d[0];)d.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in s)if(s[i]&&s[i].test(n)){d.unshift(i);break}if(d[0]in r)o=d[0];else{for(i in r){if(!d[0]||e.converters[i+" "+d[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==d[0]&&d.unshift(o),r[o]}(f,E,a)),!l&&T.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),P=function(e,t,r,n){var i,o,a,s,d,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!d&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),d=o,o=c.shift())if("*"===o)o=d;else if("*"!==d&&d!==o){if(!(a=u[d+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[d+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+d+" to "+o}}}return{state:"success",data:t}}(f,P,E,l),l?(f.ifModified&&((k=E.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=k),(k=E.getResponseHeader("etag"))&&(T.etag[i]=k)),204===e||"HEAD"===f.type?S="nocontent":304===e?S="notmodified":(S=P.state,p=P.data,l=!(b=P.error))):(b=S,!e&&S||(S="error",e<0&&(e=0))),E.status=e,E.statusText=(t||S)+"",l?m.resolveWith(h,[p,S,E]):m.rejectWith(h,[E,S,b]),E.statusCode(v),v=void 0,c&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,f,l?p:b]),g.fireWith(h,[E,S]),c&&(y.trigger("ajaxComplete",[E,f]),--T.active||T.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,r){return T.get(e,t,r,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],(function(e,t){T[t]=function(e,r,n,i){return g(r)&&(i=i||n,n=r,r=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:r,success:n},T.isPlainObject(e)&&e))}})),T.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),T._evalUrl=function(e,t,r){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){T.globalEval(e,t,r)}})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){T(this).wrapInner(e.call(this,t))})):this.each((function(){var t=T(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(r){T(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){T(this).replaceWith(this.childNodes)})),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},Wt=T.ajaxSettings.xhr();m.cors=!!Wt&&"withCredentials"in Wt,m.ajax=Wt=!!Wt,T.ajaxTransport((function(e){var t,n;if(m.cors||Wt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),T.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),T.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=T("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){r&&r()}}}));var qt,$t=[],Yt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||T.expando+"_"+xt.guid++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,a,s=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){a=arguments},n.always((function(){void 0===o?T(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,$t.push(i)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((qt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),T.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((n=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(n)):t=b),o=!r&&[],(i=L.exec(e))?[t.createElement(i[1])]:(i=Se([e],t,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var n,i,o},T.fn.load=function(e,t,r){var n,i,o,a=this,s=e.indexOf(" ");return s>-1&&(n=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(n?T("<div>").append(T.parseHTML(e)).find(n):e)})).always(r&&function(e,t){a.each((function(){r.apply(this,o||[e.responseText,t,e])}))}),this},T.expr.pseudos.animated=function(e){return T.grep(T.timers,(function(t){return e===t.elem})).length},T.offset={setOffset:function(e,t,r){var n,i,o,a,s,d,u=T.css(e,"position"),c=T(e),l={};"static"===u&&(e.style.position="relative"),s=c.offset(),o=T.css(e,"top"),d=T.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+d).indexOf("auto")>-1?(a=(n=c.position()).top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(d)||0),g(t)&&(t=t.call(e,r,T.extend({},s))),null!=t.top&&(l.top=t.top-s.top+a),null!=t.left&&(l.left=t.left-s.left+i),"using"in t?t.using.call(e,l):("number"==typeof l.top&&(l.top+="px"),"number"==typeof l.left&&(l.left+="px"),c.css(l))}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){T.offset.setOffset(this,e,t)}));var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===T.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(n,"marginTop",!0),left:t.left-i.left-T.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||oe}))}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;T.fn[e]=function(n){return V(this,(function(e,n,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[n];o?o.scrollTo(r?o.pageXOffset:i,r?i:o.pageYOffset):e[n]=i}),e,n,arguments.length)}})),T.each(["top","left"],(function(e,t){T.cssHooks[t]=We(m.pixelPosition,(function(e,r){if(r)return r=ze(e,t),Ke.test(r)?T(e).position()[t]+"px":r}))})),T.each({Height:"height",Width:"width"},(function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){T.fn[n]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(!0===i||!0===o?"margin":"border");return V(this,(function(t,r,i){var o;return v(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?T.css(t,r,s):T.style(t,r,i,s)}),t,a?i:void 0,a)}}))})),T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){T.fn[t]=function(e){return this.on(t,e)}})),T.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){T.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;T.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),g(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=_,T.isFunction=g,T.isWindow=v,T.camelCase=$,T.type=S,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},T.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},void 0===(n=function(){return T}.apply(t,[]))||(e.exports=n);var Jt=r.jQuery,Qt=r.$;return T.noConflict=function(e){return r.$===T&&(r.$=Qt),e&&r.jQuery===T&&(r.jQuery=Jt),T},void 0===i&&(r.jQuery=r.$=T),T}))},function(e,t,r){var n=r(10),i=r(29);e.exports=r(15)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(27);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(28)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(158),i=r(35);e.exports=function(e){return n(i(e))}},function(e,t){e.exports={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Insert="insert",e.Remove="remove"}(t.ChildAction||(t.ChildAction={})),t.ENTER_KEY="Enter",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.ARROW_RIGHT="ArrowRight",t.ARROW_DOWN="ArrowDown",t.HttpStatusCodes={Ok:200,BadRequest:400}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicPropertyClipPath=0]="kGraphicPropertyClipPath",e[e.kGraphicPropertyCoordinateX=1]="kGraphicPropertyCoordinateX",e[e.kGraphicPropertyCoordinateY=2]="kGraphicPropertyCoordinateY",e[e.kGraphicPropertyFill=3]="kGraphicPropertyFill",e[e.kGraphicPropertyFillOpacity=4]="kGraphicPropertyFillOpacity",e[e.kGraphicPropertyFillTransform=5]="kGraphicPropertyFillTransform",e[e.kGraphicPropertyFillTransformAssigned=6]="kGraphicPropertyFillTransformAssigned",e[e.kGraphicPropertyFilters=7]="kGraphicPropertyFilters",e[e.kGraphicPropertyFontFamily=8]="kGraphicPropertyFontFamily",e[e.kGraphicPropertyFontSize=9]="kGraphicPropertyFontSize",e[e.kGraphicPropertyFontStyle=10]="kGraphicPropertyFontStyle",e[e.kGraphicPropertyFontWeight=11]="kGraphicPropertyFontWeight",e[e.kGraphicPropertyHeightActual=12]="kGraphicPropertyHeightActual",e[e.kGraphicPropertyHeightOriginal=13]="kGraphicPropertyHeightOriginal",e[e.kGraphicPropertyLang=14]="kGraphicPropertyLang",e[e.kGraphicPropertyLayoutDirection=15]="kGraphicPropertyLayoutDirection",e[e.kGraphicPropertyLetterSpacing=16]="kGraphicPropertyLetterSpacing",e[e.kGraphicPropertyOpacity=17]="kGraphicPropertyOpacity",e[e.kGraphicPropertyPathData=18]="kGraphicPropertyPathData",e[e.kGraphicPropertyPathLength=19]="kGraphicPropertyPathLength",e[e.kGraphicPropertyPivotX=20]="kGraphicPropertyPivotX",e[e.kGraphicPropertyPivotY=21]="kGraphicPropertyPivotY",e[e.kGraphicPropertyRotation=22]="kGraphicPropertyRotation",e[e.kGraphicPropertyScaleX=23]="kGraphicPropertyScaleX",e[e.kGraphicPropertyScaleY=24]="kGraphicPropertyScaleY",e[e.kGraphicPropertyViewportHeightActual=25]="kGraphicPropertyViewportHeightActual",e[e.kGraphicPropertyViewportWidthActual=26]="kGraphicPropertyViewportWidthActual",e[e.kGraphicPropertyScaleTypeHeight=27]="kGraphicPropertyScaleTypeHeight",e[e.kGraphicPropertyScaleTypeWidth=28]="kGraphicPropertyScaleTypeWidth",e[e.kGraphicPropertyStroke=29]="kGraphicPropertyStroke",e[e.kGraphicPropertyStrokeDashArray=30]="kGraphicPropertyStrokeDashArray",e[e.kGraphicPropertyStrokeDashOffset=31]="kGraphicPropertyStrokeDashOffset",e[e.kGraphicPropertyStrokeLineCap=32]="kGraphicPropertyStrokeLineCap",e[e.kGraphicPropertyStrokeLineJoin=33]="kGraphicPropertyStrokeLineJoin",e[e.kGraphicPropertyStrokeMiterLimit=34]="kGraphicPropertyStrokeMiterLimit",e[e.kGraphicPropertyStrokeOpacity=35]="kGraphicPropertyStrokeOpacity",e[e.kGraphicPropertyStrokeTransform=36]="kGraphicPropertyStrokeTransform",e[e.kGraphicPropertyStrokeTransformAssigned=37]="kGraphicPropertyStrokeTransformAssigned",e[e.kGraphicPropertyStrokeWidth=38]="kGraphicPropertyStrokeWidth",e[e.kGraphicPropertyText=39]="kGraphicPropertyText",e[e.kGraphicPropertyTextAnchor=40]="kGraphicPropertyTextAnchor",e[e.kGraphicPropertyTransform=41]="kGraphicPropertyTransform",e[e.kGraphicPropertyTransformAssigned=42]="kGraphicPropertyTransformAssigned",e[e.kGraphicPropertyTranslateX=43]="kGraphicPropertyTranslateX",e[e.kGraphicPropertyTranslateY=44]="kGraphicPropertyTranslateY",e[e.kGraphicPropertyVersion=45]="kGraphicPropertyVersion",e[e.kGraphicPropertyViewportHeightOriginal=46]="kGraphicPropertyViewportHeightOriginal",e[e.kGraphicPropertyViewportWidthOriginal=47]="kGraphicPropertyViewportWidthOriginal",e[e.kGraphicPropertyWidthActual=48]="kGraphicPropertyWidthActual",e[e.kGraphicPropertyWidthOriginal=49]="kGraphicPropertyWidthOriginal"}(t.GraphicPropertyKey||(t.GraphicPropertyKey={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFilterTypeBlend=0]="kFilterTypeBlend",e[e.kFilterTypeBlur=1]="kFilterTypeBlur",e[e.kFilterTypeColor=2]="kFilterTypeColor",e[e.kFilterTypeExtension=3]="kFilterTypeExtension",e[e.kFilterTypeGradient=4]="kFilterTypeGradient",e[e.kFilterTypeGrayscale=5]="kFilterTypeGrayscale",e[e.kFilterTypeNoise=6]="kFilterTypeNoise",e[e.kFilterTypeSaturate=7]="kFilterTypeSaturate"}(t.FilterType||(t.FilterType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(34),o=r(20),a=r(1),s=r(113);t.SVGFilters=new Set([o.FilterType.kFilterTypeBlur,o.FilterType.kFilterTypeBlend,o.FilterType.kFilterTypeColor,o.FilterType.kFilterTypeGradient,o.FilterType.kFilterTypeGrayscale,o.FilterType.kFilterTypeSaturate]),t.generateSVGDefsAndUseElement=(e,r,o)=>{if(e.filter(e=>t.SVGFilters.has(e.type)).length<=0)return;const a=document.createElementNS(n.SVG_NS,"defs"),s=document.createElementNS(n.SVG_NS,"use"),d=new i.ImageFilter(e,r,a,s).getSvgFilterElement();return void 0!==d?(d.id=o,a.appendChild(d),{svgDefsElement:a,svgUseElement:s}):void 0},t.generateSVGFeImage=(e,t,r)=>{const i=document.createElementNS(n.SVG_NS,"feImage"),o=[],a=n.uuidv4().toString();return i.setAttributeNS("","href",e),i.setAttributeNS("","result",a),i.setAttributeNS("","x","0"),i.setAttributeNS("","y","0"),i.setAttributeNS("","height","100%"),i.setAttributeNS("","width","100%"),i.setAttributeNS("","preserveAspectRatio","none"),o.push(i),r?t.setAttributeNS("","in2",a):t.setAttributeNS("","in",a),o},t.isIndexOutOfBound=(e,t)=>e>=0&&e>t-1||e<0&&e+t<0,t.createSVGImageFiltersApplier=function(e){const r={logger:a.LoggerFactory.getLogger("SVGImageFiltersApplier")};e=Object.assign(r,e);const{uuid:n,svgElement:i,imageElement:o,filters:d,imageSources:u}=e;return{applyFiltersToSVGImage(){const e="filter-"+n,r=t.generateSVGDefsAndUseElement(d,u,e);if(!s.isSomething(r))return;const{svgDefsElement:a,svgUseElement:c}=r,l=i.getElementsByTagName("defs");for(let e=0;e<l.length;e++){const t=l[e];i.removeChild(t)}const p=i.getElementsByTagName("use");for(let e=0;e<p.length;e++){const t=p[e];i.removeChild(t)}i.appendChild(c),i.appendChild(a),o.setAttribute("filter",`url('#${e}')`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=class{constructor(){this.downloadState="pending"}setDownloadState(e){this.downloadState=e}getDownloadState(){return this.downloadState}getBuffer(){return this.buffer}setBuffer(e){this.buffer=e}},function(e){e.PENDING="pending",e.PREPARED="prepared",e.PLAYING="playing",e.PAUSED="paused"}(t.ResourceState||(t.ResourceState={})),function(e){e.PLAY="play",e.PAUSE="pause",e.NEXT="next",e.PREVIOUS="previous",e.REWIND="rewind",e.SEEK="seek",e.SETTRACK="setTrack"}(t.ControlMediaCommandName||(t.ControlMediaCommandName={})),function(e){e.IDLE="idling",e.LOADED="loaded",e.PLAYING="playing",e.ENDED="ended",e.PAUSED="paused",e.BUFFERING="buffering",e.ERROR="error"}(t.PlaybackState||(t.PlaybackState={}))},function(e,t,r){var n,i,o;!function(r,a){"use strict";i=[t],void 0!==(o="function"==typeof(n=function(e){var t,r=(t=[],function(e){return t[0]=128==(128&e)?"1":"0",t[1]=64==(64&e)?"1":"0",t[2]=32==(32&e)?"1":"0",t[3]=16==(16&e)?"1":"0",t[4]=8==(8&e)?"1":"0",t[5]=4==(4&e)?"1":"0",t[6]=2==(2&e)?"1":"0",t[7]=1==(1&e)?"1":"0",t.join("")});e.getFrameByteLength=function(t,r,n,i,o){var a=e.sampleLengthMap[i][o],s=n?"11"===o?4:1:0,d=1e3*t/8;return Math.floor(a*d/r+s)},e.getXingOffset=function(e,t){var r="11"===t;return"11"===e?r?21:36:r?13:21},e.v1l1Bitrates={"0000":"free","0001":32,"0010":64,"0011":96,"0100":128,"0101":160,"0110":192,"0111":224,1e3:256,1001:288,1010:320,1011:352,1100:384,1101:416,1110:448,1111:"bad"},e.v1l2Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:160,1010:192,1011:224,1100:256,1101:320,1110:384,1111:"bad"},e.v1l3Bitrates={"0000":"free","0001":32,"0010":40,"0011":48,"0100":56,"0101":64,"0110":80,"0111":96,1e3:112,1001:128,1010:160,1011:192,1100:224,1101:256,1110:320,1111:"bad"},e.v2l1Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:144,1010:160,1011:176,1100:192,1101:224,1110:256,1111:"bad"},e.v2l2Bitrates={"0000":"free","0001":8,"0010":16,"0011":24,"0100":32,"0101":40,"0110":48,"0111":56,1e3:64,1001:80,1010:96,1011:112,1100:128,1101:144,1110:160,1111:"bad"},e.v2l3Bitrates=e.v2l2Bitrates,e.v1SamplingRates={"00":44100,"01":48e3,10:32e3,11:"reserved"},e.v2SamplingRates={"00":22050,"01":24e3,10:16e3,11:"reserved"},e.v25SamplingRates={"00":11025,"01":12e3,10:8e3,11:"reserved"},e.channelModes={"00":"Stereo","01":"Joint stereo (Stereo)",10:"Dual channel (Stereo)",11:"Single channel (Mono)"},e.mpegVersionDescription={"00":"MPEG Version 2.5 (unofficial)","01":"reserved",10:"MPEG Version 2 (ISO/IEC 13818-3)",11:"MPEG Version 1 (ISO/IEC 11172-3)"},e.layerDescription={"00":"reserved","01":"Layer III",10:"Layer II",11:"Layer I"},e.bitrateMap={11:{"01":e.v1l3Bitrates,10:e.v1l2Bitrates,11:e.v1l1Bitrates},10:{"01":e.v2l3Bitrates,10:e.v2l2Bitrates,11:e.v2l1Bitrates}},e.samplingRateMap={"00":e.v25SamplingRates,10:e.v2SamplingRates,11:e.v1SamplingRates},e.v1SampleLengths={"01":1152,10:1152,11:384},e.v2SampleLengths={"01":576,10:1152,11:384},e.sampleLengthMap={"01":e.v2SampleLengths,10:e.v2SampleLengths,11:e.v1SampleLengths},e.wordSeqFromStr=function(e){for(var t=e.length-1,r=[];t>=0;--t)r[t]=e.charCodeAt(t);return r},e.seq={id3:e.wordSeqFromStr("ID3"),xing:e.wordSeqFromStr("Xing"),info:e.wordSeqFromStr("Info")},e.noOp=function(){},e.unsynchsafe=function(e){for(var t=0,r=2130706432;r;)t>>=1,t|=e&r,r>>=8;return t},e.isSeq=function(e,t,r){for(var n=e.length-1;n>=0;n--)if(e[n]!==t.getUint8(r+n))return!1;return!0},e.locateSeq=function(t,r,n,i){for(var o=0,a=i-t.length+1;o<a;++o)if(e.isSeq(t,r,n+o))return n+o;return-1},e.locateStrTrm={iso:function(t,r,n){return e.locateSeq([0],t,r,n)},ucs:function(t,r,n){var i=e.locateSeq([0,0],t,r,n);return-1===i?-1:((i-r)%2!=0&&++i,i)}},e.readStr={iso:function(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer,t,r))},ucs:function(e,t,r){65534!==e.getUint16(t)&&65279!==e.getUint16(t)||(t+=2,r-=2);var n=e.buffer;return t%2==1&&(n=n.slice(t,t+r),t=0),String.fromCharCode.apply(null,new Uint16Array(n,t,r/2))}},e.readTrmStr={iso:function(t,r,n){var i=e.locateStrTrm.iso(t,r,n);return-1!==i&&(n=i-r),e.readStr.iso(t,r,n)},ucs:function(t,r,n){var i=e.locateStrTrm.ucs(t,r,n);return-1!==i&&(n=i-r),e.readStr.ucs(t,r,n)}},e.readFrameHeader=function(t,n){if(n||(n=0),t.byteLength-n<=4)return null;if(255!==t.getUint8(n))return null;var i=t.getUint8(n+1);if(i<224)return null;var o=r(i).substr(3,2),a=r(i).substr(5,2),s={_section:{type:"frameHeader",byteLength:4,offset:n},mpegAudioVersionBits:o,mpegAudioVersion:e.mpegVersionDescription[o],layerDescriptionBits:a,layerDescription:e.layerDescription[a],isProtected:1&i};if(s.protectionBit=s.isProtected?"1":"0","reserved"===s.mpegAudioVersion)return null;if("reserved"===s.layerDescription)return null;var d=t.getUint8(n+2);if(d=r(d),s.bitrateBits=d.substr(0,4),s.bitrate=e.bitrateMap[o][a][s.bitrateBits],"bad"===s.bitrate)return null;if(s.samplingRateBits=d.substr(4,2),s.samplingRate=e.samplingRateMap[o][s.samplingRateBits],"reserved"===s.samplingRate)return null;s.frameIsPaddedBit=d.substr(6,1),s.frameIsPadded="1"===s.frameIsPaddedBit,s.framePadding=s.frameIsPadded?1:0,s.privateBit=d.substr(7,1);var u=t.getUint8(n+3);return s.channelModeBits=r(u).substr(0,2),s.channelMode=e.channelModes[s.channelModeBits],s},e.readFrame=function(t,r,n){r||(r=0);var i={_section:{type:"frame",offset:r},header:e.readFrameHeader(t,r)},o=i.header;if(!o)return null;i._section.sampleLength=e.sampleLengthMap[o.mpegAudioVersionBits][o.layerDescriptionBits],i._section.byteLength=e.getFrameByteLength(o.bitrate,o.samplingRate,o.framePadding,o.mpegAudioVersionBits,o.layerDescriptionBits),i._section.nextFrameIndex=r+i._section.byteLength;var a=e.getXingOffset(o.mpegAudioVersionBits,o.channelModeBits);return e.isSeq(e.seq.xing,t,r+a)||e.isSeq(e.seq.info,t,r+a)||n&&!e.readFrameHeader(t,i._section.nextFrameIndex)?null:i}})?n.apply(t,i):n)&&(e.exports=o)}()},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(2),o=r(72),a=r(73),s=r(25),d=r(150),u=r(0),c=r(229),l=r(95),p=r(231),f=r(236);class h extends u.Component{constructor(e,t,r,d){super(e,t,r,d),this.textContainer=document.createElement("p"),this.$textContainer=n(this.textContainer),this.textCss={display:"table-cell","overflow-wrap":"break-word","white-space":"pre-wrap","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",hyphens:"none"},this.cacheKaraokeLineOffset=0,this.cacheKaraokeLine=0,this.setDimensions=()=>{this.setBoundsAndDisplay(),this.$textContainer.css(this.textCss),this.$textContainer.css("width",this.innerBounds.width),this.$textContainer.css("height",this.innerBounds.height),this.$textContainer.css("word-break","break-word")},this.setTextClamping=()=>{this.maxLines=this.props[i.PropertyKey.kPropertyMaxLines]},this.setText=()=>{this.styledText=this.props[i.PropertyKey.kPropertyText]},this.setLang=()=>{this.container.lang=this.lang},this.setFontStyle=()=>{s.FontUtils.setFontStyle({element:this.textContainer,fontStyle:this.props[i.PropertyKey.kPropertyFontStyle],lang:this.lang})},this.setFontWeight=()=>{s.FontUtils.setFontWeight({element:this.textContainer,fontWeight:this.props[i.PropertyKey.kPropertyFontWeight],lang:this.lang})},this.setFontFamily=()=>{s.FontUtils.setFontFamily({element:this.textContainer,fontFamily:this.props[i.PropertyKey.kPropertyFontFamily],lang:this.lang})},this.setLetterSpacing=()=>{this.$textContainer.css("letter-spacing",this.props[i.PropertyKey.kPropertyLetterSpacing])},this.setFontSize=()=>{this.$textContainer.css("font-size",this.props[i.PropertyKey.kPropertyFontSize])},this.setLineHeight=()=>{this.$textContainer.css("line-height",this.props[i.PropertyKey.kPropertyLineHeight])},this.setTextAlign=()=>{switch(this.props[i.PropertyKey.kPropertyTextAlign]){case o.TextAlign.kTextAlignCenter:this.$container.css("text-align","center");break;case o.TextAlign.kTextAlignLeft:this.$container.css("text-align","left");break;case o.TextAlign.kTextAlignRight:this.$container.css("text-align","right");break;case o.TextAlign.kTextAlignAuto:break;default:this.logger.warn("Incorrect TextAlign type: "+this.props[i.PropertyKey.kPropertyTextAlign])}},this.setTextAlignVertical=()=>{switch(this.props[i.PropertyKey.kPropertyTextAlignVertical]){case a.TextAlignVertical.kTextAlignVerticalCenter:this.$textContainer.css("vertical-align","middle");break;case a.TextAlignVertical.kTextAlignVerticalBottom:this.$textContainer.css("vertical-align","bottom");break;case a.TextAlignVertical.kTextAlignVerticalTop:this.$textContainer.css("vertical-align","top");break;case a.TextAlignVertical.kTextAlignVerticalAuto:break;default:this.logger.warn("Incorrect TextAlignVertical type: "+this.props[i.PropertyKey.kPropertyTextAlign])}},this.setColor=()=>{const e=this.props[i.PropertyKey.kPropertyColor];this.$textContainer.css("color",u.Component.numberToColor(e))},this.setKaraokeColors=()=>{this.renderer&&this.renderer.getLegacyKaraoke()?(this.colorKaraoke=this.props[i.PropertyKey.kPropertyColor],this.colorNonKaraoke=this.props[i.PropertyKey.kPropertyColorNonKaraoke],this.$textContainer.css("color",u.Component.numberToColor(this.colorNonKaraoke))):(this.colorKaraoke=this.props[i.PropertyKey.kPropertyColorKaraokeTarget],this.colorNonKaraoke=this.props[i.PropertyKey.kPropertyColor])},this.applyCssShadow=e=>{this.$textContainer.css("text-shadow",e)},this.richTextParser=new p.RichTextParser,this.propExecutor(this.setDimensions,i.PropertyKey.kPropertyBounds,i.PropertyKey.kPropertyInnerBounds)(this.setText,i.PropertyKey.kPropertyText)(this.setFontStyle,i.PropertyKey.kPropertyFontStyle)(this.setFontWeight,i.PropertyKey.kPropertyFontWeight)(this.setLetterSpacing,i.PropertyKey.kPropertyLetterSpacing)(this.setLang,i.PropertyKey.kPropertyLang)(this.setFontSize,i.PropertyKey.kPropertyFontSize)(this.setLineHeight,i.PropertyKey.kPropertyLineHeight)(this.setFontFamily,i.PropertyKey.kPropertyFontFamily)(this.setTextAlign,i.PropertyKey.kPropertyTextAlign)(this.setTextAlignVertical,i.PropertyKey.kPropertyTextAlignVertical)(this.setTextClamping,i.PropertyKey.kPropertyMaxLines)(this.setColor,i.PropertyKey.kPropertyColor)(this.setKaraokeColors,i.PropertyKey.kPropertyColorKaraokeTarget,i.PropertyKey.kPropertyColorNonKaraoke)}getLineRanges(){return this.lineRanges}resetKaraokeCache(){this.cacheKaraokeLineOffset=0,this.cacheKaraokeLine=0}getLineByRange(e,t){for(t<this.cacheKaraokeLineOffset&&this.resetKaraokeCache();this.cacheKaraokeLine<this.lineRanges.length;this.cacheKaraokeLine++){const t=this.lineRanges[this.cacheKaraokeLine],r=this.styledText.text.substring(t.start,t.end+1),n=f.encode(r);if(e>=this.cacheKaraokeLineOffset&&e<=this.cacheKaraokeLineOffset+n.length)return this.cacheKaraokeLine;this.cacheKaraokeLineOffset+=n.length}return this.resetKaraokeCache(),-1}getPlainText(){return this.styledText.text}highlight(e,t){const r=(e,r)=>{const n=this.textContainer.childNodes[e];r?n.style.color=u.Component.numberToColor(this.colorKaraoke):t?n.style.removeProperty("color"):n.style.color=u.Component.numberToColor(this.colorNonKaraoke)};this.setKaraokeColors();for(let t=0;t<this.textContainer.childNodes.length;t++)r(t,void 0===e||e===t)}unhighlight(){this.highlight(-1,!0)}reCreateDOM(){this.textContainer=this.richTextParser.processStyledText(this.styledText,this.textContainer),this.container.appendChild(this.textContainer)}doSplit(){const e=new c.Geometry(this.textContainer,this.innerBounds.top);this.lineRanges=e.splitByLine();let t=!0,r=3;for(;t&&--r>=0;){t=!1;const r=e.splitByLine();if(this.lineRanges.length!==r.length)t=!0;else for(let e=0;e<r.length;++e)if(this.lineRanges[e].start!==r[e].start){t=!0;break}this.lineRanges=r}}clipMaxLines(){let e=!1;if(0===this.maxLines)return e;for(let t=this.textContainer.childNodes.length-1;t>=this.maxLines;t--){const r=this.textContainer.childNodes[t];this.textContainer.removeChild(r),e=!0}return e}addEllipsis(){const e=n(this.textContainer.childNodes[this.textContainer.childNodes.length-1]);let t=e.find("data:not(:has(*))").last();if(t&&"…"===t.text()&&(t.remove(),t=e.find("data:not(:has(*))").last()),!t)return;const r=t.text();let i=d.replaceLastWordWithEllipsis(r);i===r&&(i=d.truncateEndWithEllipsis(r)),t.text(i)}onPropertiesUpdated(){const{width:e,height:t}=this.innerBounds,r=new y(this.component,e,t);for(r.init(),r.onMeasure(e,l.MeasureMode.Exactly,t,l.MeasureMode.Exactly);this.textContainer.firstChild;)this.textContainer.removeChild(this.textContainer.firstChild);const n=r.getContents();for(const e of n)this.textContainer.appendChild(e);this.container.appendChild(this.textContainer),this.lineRanges=r.getLineRanges()}}t.Text=h;class y extends h{constructor(e,t,r){super(null,e,null,null),this.measurementBox=document.createElement("div"),this.$measurementBox=n(this.measurementBox),this.$measurementBox.css("isolation","isolate"),this.$measurementBox.css("width",t+1),this.$measurementBox.css("height",r+1)}addComponent(){document.body.appendChild(this.measurementBox),this.measurementBox.appendChild(this.textContainer)}removeComponent(){this.measurementBox.removeChild(this.textContainer),document.body.removeChild(this.measurementBox)}getContents(){const e=this.textContainer.childNodes,t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r].cloneNode(!0);return t}onMeasure(e,t,r,n){this.$textContainer.css("width",""),this.$textContainer.css("height",""),this.addComponent();const o={width:0,height:0};switch(t){case l.MeasureMode.Exactly:o.width=e;break;case l.MeasureMode.AtMost:case l.MeasureMode.Undefined:default:o.width=Math.min(e,this.textContainer.clientWidth+1)}this.$textContainer.css("width",o.width),this.doSplit();let a=100;for(;this.clipMaxLines()&&--a>0;)this.addEllipsis(),this.doSplit();const s=0===this.textContainer.clientHeight?this.props[i.PropertyKey.kPropertyFontSize]*(this.props[i.PropertyKey.kPropertyLineHeight]||1.25):this.textContainer.clientHeight;return n===l.MeasureMode.Exactly?o.height=r:n===l.MeasureMode.AtMost?o.height=Math.min(r,s+1):n===l.MeasureMode.Undefined&&(o.height=s+1),this.$textContainer.css("height",o.height),this.removeComponent(),o}onPropertiesUpdated(){this.reCreateDOM()}}t.TextMeasurement=y},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(149),o=r(26),a=r(74),s=r(1),d={"amazon ember display":"amazon-ember-display","amazon ember":"amazon-ember",bookerly:"Bookerly","sans serif":"sans-serif",serif:"serif"},u={[a.FontStyle.kFontStyleNormal]:"normal",[a.FontStyle.kFontStyleItalic]:"italic"},c=u[a.FontStyle.kFontStyleNormal],l=["amazon ember"],p=[a.FontStyle.kFontStyleNormal],f=["normal",400,500,700,"bold"];class h{static initialize(){return n(this,void 0,void 0,(function*(){if(!this.initialized){const e=new Promise(e=>{this.initializationCallback=e}),t={custom:{families:["amazon-ember:n1,n2,n3,n4,n5,n6,n7,n8,n9,i1,i2,i3,i4,i5,i6,i7,i8,i9","amazon-ember-display:n1,n2,n3,n4,n5,n6,n7,n8,n9,i1,i2,i3,i4,i5,i6,i7,i8,i9","Bookerly:n1,n2,n5,i1,i4,i5"]},active:()=>{this.logger.debug("Fonts active"),this.initializationCallback()},inactive:()=>{this.logger.warn("Fonts inactive"),this.initializationCallback()},fontinactive:(e,t)=>{this.logger.warn(`Failed to load: ${e} : ${t}`)}};i.load(t),this.initialized=!0,yield e}}))}static getFont(e){return m(e)}static getFontStyle(e){return g(e)}static setFontFamily({element:e,fontFamily:t,lang:r},n={}){n=y(n);const{elementType:i}=n;v(r)&&!function(e){function t(e){let t=e.trim();return t=k(t,"-"," "),P(l,t)}const r=m(e);return b(e)?r.split(",").map(t).reduce((e,t)=>e||t,!1):t(e)}(t)&&this.logger.warn(`Font Family: "${t}" does not support "${r}"`),o.createStylesApplier({element:e,properties:{"font-family":m(t)},elementType:i}).applyStyle()}static setFontStyle({element:e,fontStyle:t,lang:r},n={}){n=y(n);const{elementType:i}=n;o.createStylesApplier({element:e,properties:{"font-style":g(t,r,this.logger)},elementType:i}).applyStyle()}static setFontWeight({element:e,fontWeight:t,lang:r},n={}){n=y(n);const{elementType:i}=n,a=function(e,t,r){if(v(t)&&!P(f,e)){let n=400;return e>=500&&(n=700),r.warn(`Font Weight: "${e}" not supported in "${t}". Default using "${n}"`),n}return e}(t,r,this.logger);o.createStylesApplier({element:e,properties:{"font-weight":""+a},elementType:i}).applyStyle()}}function y(e){const t={elementType:o.ElementType.HTML};return Object.assign(t,e)}function m(e,t){function r(e,t){const r=e.trim();let n=r.toLowerCase();return n=k(n,"-"," "),d.hasOwnProperty(n)?d[n]:t||r}return b(e)?e.split(",").map(e=>r(e,t)).reduce((e,t)=>e?`${e}, ${t}`:t,""):r(e,t)}function g(e,t,r){return u.hasOwnProperty(e)?function(e,t,r){if(v(t)&&!P(p,e)){const n=u.hasOwnProperty(e)?u[e]:"unsupported style",i=c;return r.warn(`Font Style: "${n}" not supported in "${t}". Default using "${i}"`),i}return u[e]}(e,t,r):c}function v(e){return void 0!==e&&0===e.indexOf("ar")}function b(e){return e.includes(",")}function P(e,t){return-1!==e.indexOf(t)}function k(e,t,r){return e.split(t).join(r)}h.initialized=!1,h.logger=s.LoggerFactory.getLogger("FontUtils"),t.FontUtils=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
const n=r(1);t.ElementType={HTML:"HTML",SVG:"SVG"},t.CssUnitType={Pixels:"px",Ems:"em",Percentage:"%",None:""};const i={[t.CssUnitType.None]:o,[t.CssUnitType.Pixels]:a,[t.CssUnitType.Ems]:a,[t.CssUnitType.Percentage]:a};function o(e){return e}function a(e,t){return`${e}${t}`}t.createStylesApplier=function(e){const r={cssUnitType:t.CssUnitType.None,elementType:t.ElementType.HTML},a=Object.assign(r,e),{element:s,properties:d,cssUnitType:u,elementType:c}=a,l=n.LoggerFactory.getLogger("StylesApplier"),p={[t.ElementType.HTML]:function({element:e,propertyName:t,propertyValue:r,propertyTransform:n}){e.style[t]=n(r,u)},[t.ElementType.SVG]:function({element:e,propertyName:t,propertyValue:r,propertyTransform:n}){e.setAttributeNS("",t,n(r,u))}};return{applyStyle(){let e=i[u];var t;t=u,i.hasOwnProperty(t)||(l.warn(`Css attribute ${u} is not supported. No adjustments made.`),e=o),Object.keys(d).map(t=>{p[c]({element:s,propertyValue:d[t],propertyTransform:e,propertyName:t})})}}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0}),t.numberToColor=function(e){return`rgba(${255&e>>24}, ${255&e>>16}, ${255&e>>8}, ${(255&e)/255})`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicElementTypeContainer=0]="kGraphicElementTypeContainer",e[e.kGraphicElementTypeGroup=1]="kGraphicElementTypeGroup",e[e.kGraphicElementTypePath=2]="kGraphicElementTypePath",e[e.kGraphicElementTypeText=3]="kGraphicElementTypeText"}(t.GraphicElementType||(t.GraphicElementType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.parseHeaders=function(e){const t=new Headers;if(!e)return t;for(const r of e){const e=r.indexOf(":");if(-1===e){n.LoggerFactory.getLogger("HeaderUtil").warn("Skip appending header with invalid format");continue}const i=r.substring(0,e),o=r.substring(e+1);t.append(i,o)}return t},t.toUrlRequest=function(e){return"string"==typeof e||e instanceof String?{url:e,headers:[]}:e}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Component{constructor(e,t,r,n){super(e,t,r,n),this.focus=()=>{this.container.focus()},this.blur=()=>{},this.container.tabIndex=-1}}t.ActionableComponent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=r(1),o=r(0),a=r(106),s=r(108),d=r(109),u=r(110),c=r(111),l=r(112);t.BITMAP_IMAGE_REGEX_CHECK="(jpeg|jpg|gif|png|http)",t.ImageFilter=class{constructor(e,t,r,n){this.logger=i.LoggerFactory.getLogger("ImageFilter"),this.filters=e,this.imageArray=t,this.svgDefsElement=r,this.svgUseElement=n,this.applyFilters()}applyFilters(){this.svgFilter=document.createElementNS(o.SVG_NS,"filter"),this.svgFilter.setAttributeNS("","filterUnits","userSpaceOnUse"),this.filters.forEach(e=>{if(e)switch(e.type){case n.FilterType.kFilterTypeBlur:{const t=s.getBlurFilter(e,this.imageArray);t&&this.appendFilterElement(t);break}case n.FilterType.kFilterTypeColor:{const t=d.getColorFilter(e);this.appendFilterElement(t);break}case n.FilterType.kFilterTypeBlend:{const t=a.getBlendFilter(e,this.imageArray);t&&this.appendFilterElement(t);break}case n.FilterType.kFilterTypeGradient:{const t=u.getGradientFilter(e,this.svgDefsElement,this.svgUseElement);this.appendFilterElement(t);break}case n.FilterType.kFilterTypeGrayscale:{const t=c.getGrayscaleFilter(e,this.imageArray);t&&this.appendFilterElement(t);break}case n.FilterType.kFilterTypeSaturate:{const t=l.getSaturateFilter(e,this.imageArray);t&&this.appendFilterElement(t);break}case n.FilterType.kFilterTypeExtension:case n.FilterType.kFilterTypeNoise:break;default:this.logger.warn("incorrect image filter type.")}})}appendFilterElement(e){e.filterImageArray.forEach(e=>{this.svgFilter.appendChild(e)}),this.svgFilter.appendChild(e.filterElement),this.imageArray.push(e.filterId)}getSvgFilterElement(){if(this.svgFilter.hasChildNodes())return this.svgFilter}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=!0},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kUpdatePressed=0]="kUpdatePressed",e[e.kUpdateTakeFocus=1]="kUpdateTakeFocus",e[e.kUpdatePressState=2]="kUpdatePressState",e[e.kUpdateScrollPosition=3]="kUpdateScrollPosition",e[e.kUpdatePagerPosition=4]="kUpdatePagerPosition",e[e.kUpdatePagerByEvent=5]="kUpdatePagerByEvent",e[e.kUpdateSubmit=6]="kUpdateSubmit",e[e.kUpdateTextChange=7]="kUpdateTextChange",e[e.kUpdateAccessibilityAction=8]="kUpdateAccessibilityAction"}(t.UpdateType||(t.UpdateType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LINEAR=0]="LINEAR",e[e.RADIAL=1]="RADIAL"}(t.GradientType||(t.GradientType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19),i=r(223),o=r(25),a=r(26),s=r(41);class d extends s.AVG{constructor({graphic:e,parent:t,logger:r,lang:o}){super({graphic:e,parent:t,logger:r,lang:o}),this.textAnchors=new Map([[i.GraphicTextAnchor.kGraphicTextAnchorStart,"start"],[i.GraphicTextAnchor.kGraphicTextAnchorMiddle,"middle"],[i.GraphicTextAnchor.kGraphicTextAnchorEnd,"end"]]),this.graphicKeysToSetters=new Map([[n.GraphicPropertyKey.kGraphicPropertyFill,this.setFill()],[n.GraphicPropertyKey.kGraphicPropertyFillOpacity,this.setAttribute("fill-opacity")],[n.GraphicPropertyKey.kGraphicPropertyFillTransform,this.setFillTransform()],[n.GraphicPropertyKey.kGraphicPropertyFontFamily,this.setFontFamily()],[n.GraphicPropertyKey.kGraphicPropertyFontSize,this.setAttribute("font-size")],[n.GraphicPropertyKey.kGraphicPropertyFontStyle,this.setFontStyle()],[n.GraphicPropertyKey.kGraphicPropertyFontWeight,this.setFontWeight()],[n.GraphicPropertyKey.kGraphicPropertyLetterSpacing,this.setAttribute("letter-spacing")],[n.GraphicPropertyKey.kGraphicPropertyStrokeTransform,this.setStroke()],[n.GraphicPropertyKey.kGraphicPropertyStroke,this.setStroke()],[n.GraphicPropertyKey.kGraphicPropertyStrokeWidth,this.setAttribute("stroke-width")],[n.GraphicPropertyKey.kGraphicPropertyStrokeOpacity,this.setAttribute("stroke-opacity")],[n.GraphicPropertyKey.kGraphicPropertyText,this.setInnerHtml()],[n.GraphicPropertyKey.kGraphicPropertyTextAnchor,this.setAttributeFromMap("text-anchor",this.textAnchors,"start")],[n.GraphicPropertyKey.kGraphicPropertyCoordinateX,this.setAttribute("x")],[n.GraphicPropertyKey.kGraphicPropertyCoordinateY,this.setAttribute("y")],[n.GraphicPropertyKey.kGraphicPropertyFilters,this.setFilter()]])}setFontStyle(){return e=>{o.FontUtils.setFontStyle({element:this.element,fontStyle:this.graphic.getValue(e),lang:this.lang},{elementType:a.ElementType.SVG})}}setFontWeight(){return e=>{o.FontUtils.setFontWeight({element:this.element,fontWeight:this.graphic.getValue(e),lang:this.lang},{elementType:a.ElementType.SVG})}}setFontFamily(){return e=>{o.FontUtils.setFontFamily({element:this.element,fontFamily:this.graphic.getValue(e),lang:this.lang},{elementType:a.ElementType.SVG})}}setInnerHtml(){return e=>{const t=this.graphic.getValue(e);this.element.innerHTML=t}}}t.AVGText=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),i=r(19),o=r(25),a=r(0),s=r(92),d=r(91);t.AVG=class{constructor({graphic:e,parent:t,logger:r,lang:i}){let o;if(this.referencedElements=new Map,this.graphic=e,this.parent=t,this.logger=r,this.lang=i||"",e.getType()===n.GraphicElementType.kGraphicElementTypeGroup)o="g";else if(e.getType()===n.GraphicElementType.kGraphicElementTypePath)o="path";else{if(e.getType()!==n.GraphicElementType.kGraphicElementTypeText)return void this.logger.debug(`GraphicElement type ${e.getType()} is not supported`);o="text"}this.element=document.createElementNS(a.SVG_NS,o),t.appendChild(this.element)}setAllProperties(){const e=new Set(this.graphicKeysToSetters.keys());this.updateProperties(this.graphicKeysToSetters,e)}updateDirty(){const e=new Set(this.graphic.getDirtyProperties());this.updateProperties(this.graphicKeysToSetters,e)}updateProperties(e,t){t.forEach(t=>{const r=e.get(t);r?r(t):this.logger.error("Could not update graphic property key: "+t)})}setAttribute(e){return t=>{const r=this.graphic.getValue(t);this.element.setAttributeNS("",e,null!=r?r.toString():"")}}setAttributeFromMap(e,t,r){return n=>{const i=this.graphic.getValue(n);let o=t.get(i);o||(o=r),this.element.setAttributeNS("",e,o)}}setFillAndStroke(e,t,r){return this.createElementForAttribute(r,()=>{const r=this.graphic.getValue(e);return d.fillAndStrokeConverter({value:this.graphic.getValue(t),transform:r,parent:this.parent,logger:this.logger,lang:this.lang})})}setFill(){return this.setFillAndStroke(i.GraphicPropertyKey.kGraphicPropertyFillTransform,i.GraphicPropertyKey.kGraphicPropertyFill,"fill")}setFillTransform(){return this.setFillAndStroke(i.GraphicPropertyKey.kGraphicPropertyFillTransform,i.GraphicPropertyKey.kGraphicPropertyFill,"fillTransform")}setStroke(){return this.setFillAndStroke(i.GraphicPropertyKey.kGraphicPropertyStrokeTransform,i.GraphicPropertyKey.kGraphicPropertyStroke,"stroke")}setFontStyle(e){return t=>{const r=this.graphic.getValue(t),n=o.FontUtils.getFontStyle(r);this.element.setAttributeNS("",e,null!=n?n.toString():"")}}setFilter(){return this.createElementForAttribute("filter",(()=>()=>{const e=s.createAndGetFilterElement(this.graphic.getValue(i.GraphicPropertyKey.kGraphicPropertyFilters),this.logger);if(e)return{value:`url(#${e.filterId})`,reference:e.filterElement}})())}createElementForAttribute(e,t){return r=>{this.referencedElements.has(r)&&this.element.parentElement.contains(this.referencedElements.get(r))&&this.element.parentElement.removeChild(this.referencedElements.get(r));const n=t();n?(this.element.setAttributeNS("",e,n.value),n.reference&&(this.element.parentElement.appendChild(n.reference),this.referencedElements.set(r,n.reference))):this.referencedElements.delete(r)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(224),i=r(225),o=r(19),a=r(41),s=new Map([[n.GraphicLineCap.kGraphicLineCapButt,"butt"],[n.GraphicLineCap.kGraphicLineCapRound,"round"],[n.GraphicLineCap.kGraphicLineCapSquare,"square"]]),d=new Map([[i.GraphicLineJoin.kGraphicLineJoinBevel,"bevel"],[i.GraphicLineJoin.kGraphicLineJoinMiter,"miter"],[i.GraphicLineJoin.kGraphicLineJoinRound,"round"]]);class u extends a.AVG{constructor(e,t,r){super({graphic:e,parent:t,logger:r}),this.graphicKeysToSetters=new Map([[o.GraphicPropertyKey.kGraphicPropertyFillOpacity,this.setAttribute("fill-opacity")],[o.GraphicPropertyKey.kGraphicPropertyStrokeWidth,this.setAttribute("stroke-width")],[o.GraphicPropertyKey.kGraphicPropertyStrokeOpacity,this.setAttribute("stroke-opacity")],[o.GraphicPropertyKey.kGraphicPropertyStrokeDashArray,this.setAttribute("stroke-dasharray")],[o.GraphicPropertyKey.kGraphicPropertyStrokeDashOffset,this.setAttribute("stroke-dashoffset")],[o.GraphicPropertyKey.kGraphicPropertyStrokeMiterLimit,this.setAttribute("stroke-miterlimit")],[o.GraphicPropertyKey.kGraphicPropertyPathData,this.setAttribute("d")],[o.GraphicPropertyKey.kGraphicPropertyStrokeLineCap,this.setAttributeFromMap("stroke-linecap",s,"butt")],[o.GraphicPropertyKey.kGraphicPropertyStrokeLineJoin,this.setAttributeFromMap("stroke-linejoin",d,"miter")],[o.GraphicPropertyKey.kGraphicPropertyFillTransform,this.setFill()],[o.GraphicPropertyKey.kGraphicPropertyFill,this.setFill()],[o.GraphicPropertyKey.kGraphicPropertyStrokeTransform,this.setStroke()],[o.GraphicPropertyKey.kGraphicPropertyStroke,this.setStroke()],[o.GraphicPropertyKey.kGraphicPropertyFilters,this.setFilter()],[o.GraphicPropertyKey.kGraphicPropertyPathLength,this.setPathLength()]])}setPathLength(){return e=>{const t=this.graphic.getValue(e);t&&"number"==typeof t&&t>0&&this.element.setAttributeNS("","pathLength",t.toString())}}}t.Path=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kTrackNotReady=0]="kTrackNotReady",e[e.kTrackReady=1]="kTrackReady",e[e.kTrackFailed=2]="kTrackFailed"}(t.TrackState||(t.TrackState={}))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const i=r(140);r(251),t.default=i.default;var o=r(256);t.Content=o.Content;var a=r(71);t.commandFactory=a.commandFactory;var s=r(96);t.componentFactory=s.componentFactory,n(r(130)),n(r(261)),n(r(262)),n(r(133)),n(r(0)),n(r(98)),n(r(99)),n(r(100)),n(r(101)),n(r(105)),n(r(120)),n(r(121)),n(r(122)),n(r(106)),n(r(108)),n(r(109)),n(r(110)),n(r(111)),n(r(115)),n(r(112)),n(r(69)),n(r(124)),n(r(123)),n(r(126)),n(r(95)),n(r(24)),n(r(119)),n(r(92)),n(r(66)),n(r(97)),n(r(127)),n(r(263)),n(r(134)),n(r(107)),n(r(264)),n(r(265)),n(r(266)),n(r(267)),n(r(268)),n(r(269)),n(r(60)),n(r(270)),n(r(70)),n(r(271)),n(r(7)),n(r(45)),n(r(20)),n(r(272)),n(r(273)),n(r(74)),n(r(39)),n(r(118)),n(r(68)),n(r(274)),n(r(275)),n(r(128)),n(r(129)),n(r(276)),n(r(2)),n(r(67)),n(r(72)),n(r(73)),n(r(43)),n(r(38)),n(r(135)),n(r(31)),n(r(93)),n(r(19)),n(r(277)),n(r(278)),n(r(279)),n(r(280)),n(r(281)),n(r(137)),n(r(22)),n(r(103)),n(r(21)),n(r(25)),n(r(116)),n(r(292)),n(r(1))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kEventTypeControlMedia=0]="kEventTypeControlMedia",e[e.kEventTypeFocus=1]="kEventTypeFocus",e[e.kEventTypeOpenURL=2]="kEventTypeOpenURL",e[e.kEventTypePlayMedia=3]="kEventTypePlayMedia",e[e.kEventTypePreroll=4]="kEventTypePreroll",e[e.kEventTypeRequestFirstLineBounds=5]="kEventTypeRequestFirstLineBounds",e[e.kEventTypeRequestLineBounds=6]="kEventTypeRequestLineBounds",e[e.kEventTypeLineHighlight=7]="kEventTypeLineHighlight",e[e.kEventTypeSendEvent=8]="kEventTypeSendEvent",e[e.kEventTypeSpeak=9]="kEventTypeSpeak",e[e.kEventTypeFinish=10]="kEventTypeFinish",e[e.kEventTypeExtension=11]="kEventTypeExtension",e[e.kEventTypeDataSourceFetchRequest=12]="kEventTypeDataSourceFetchRequest",e[e.kEventTypeReinflate=13]="kEventTypeReinflate",e[e.kEventTypeMediaRequest=14]="kEventTypeMediaRequest",e[e.kEventTypeOpenKeyboard=15]="kEventTypeOpenKeyboard"}(t.EventType||(t.EventType={}))},function(e,t,r){var n=r(27);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(14),i=r(157),o=r(53),a=r(51)("IE_PROTO"),s=function(){},d=function(){var e,t=r(77)("iframe"),n=o.length;for(t.style.display="none",r(161).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),d=e.F;n--;)delete d.prototype[o[n]];return d()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=d(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(78),i=r(53);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(52)("keys"),i=r(37);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){var n=r(3),i=r(6),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(36)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){e.exports=r(168)},function(e,t,r){var n=r(10).f,i=r(11),o=r(4)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(35);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(174)(!0);r(82)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){var n=r(6),i=r(3),o=r(36),a=r(86),s=r(10).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kComponentTypeContainer=0]="kComponentTypeContainer",e[e.kComponentTypeEditText=1]="kComponentTypeEditText",e[e.kComponentTypeExtension=2]="kComponentTypeExtension",e[e.kComponentTypeFrame=3]="kComponentTypeFrame",e[e.kComponentTypeGridSequence=4]="kComponentTypeGridSequence",e[e.kComponentTypeImage=5]="kComponentTypeImage",e[e.kComponentTypePager=6]="kComponentTypePager",e[e.kComponentTypeScrollView=7]="kComponentTypeScrollView",e[e.kComponentTypeSequence=8]="kComponentTypeSequence",e[e.kComponentTypeText=9]="kComponentTypeText",e[e.kComponentTypeTouchWrapper=10]="kComponentTypeTouchWrapper",e[e.kComponentTypeVectorGraphic=11]="kComponentTypeVectorGraphic",e[e.kComponentTypeVideo=12]="kComponentTypeVideo"}(t.ComponentType||(t.ComponentType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kLayoutDirectionInherit=0]="kLayoutDirectionInherit",e[e.kLayoutDirectionLTR=1]="kLayoutDirectionLTR",e[e.kLayoutDirectionRTL=2]="kLayoutDirectionRTL"}(t.LayoutDirection||(t.LayoutDirection={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),i=r(19),o=r(0),a=r(41),s=r(40),d=r(42);class u extends a.AVG{constructor({graphic:e,parent:t,logger:r,lang:n}){super({graphic:e,parent:t,logger:r,lang:n}),this.children=[],this.graphicKeysToSetters=new Map([[i.GraphicPropertyKey.kGraphicPropertyTransform,this.setAttribute("transform")],[i.GraphicPropertyKey.kGraphicPropertyOpacity,this.setAttribute("opacity")],[i.GraphicPropertyKey.kGraphicPropertyFilters,this.setFilter()],[i.GraphicPropertyKey.kGraphicPropertyClipPath,this.setClipPath()]])}setClipPath(){return e=>{const t=o.Component.getClipPathElementId(this.graphic.getValue(e),this.parent);this.element.setAttributeNS("","clip-path",t.toString())}}bootStrapChildren(e,t){for(let r=0;r<e.getChildCount();r++){const i=e.getChildAt(r);if(i.getType()===n.GraphicElementType.kGraphicElementTypeGroup){const e=new u({graphic:i,parent:this.element,logger:t,lang:this.lang});e.bootStrapChildren(i,t),this.children.push(e)}else if(i.getType()===n.GraphicElementType.kGraphicElementTypePath){const e=new d.Path(i,this.element,t);this.children.push(e)}else if(i.getType()===n.GraphicElementType.kGraphicElementTypeText){const e=new s.AVGText({graphic:i,parent:this.element,logger:t,lang:this.lang});this.children.push(e)}}for(const e of this.children)e.setAllProperties()}}t.Group=u},function(e,t,r){var n=r(227),i=r(228);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(238),o=r(1),a=r(32),s=r(18),d=r(65),u=new Map;t.requestMedia=(e,t,r,i)=>n(this,void 0,void 0,(function*(){i=function(e){const t={logger:o.LoggerFactory.getLogger("MediaRequestUtils")};return Object.assign(t,e)}(i);const{logger:n}=i;if(c[e])return yield c[e](t,r,i);n.error("Cannot make a media request with type "+e)}));const c={[i.EventMediaType.kEventMediaTypeImage]:(e,t,r)=>n(this,void 0,void 0,(function*(){const{renderer:t}=r;return yield d.loadAllImagesFromMediaSource(e.map(a.toUrlRequest),t)})),[i.EventMediaType.kEventMediaTypeVectorGraphic]:(e,t,r)=>n(this,void 0,void 0,(function*(){const{renderer:n}=r;return yield n.onRequestGraphic(e[e.length-1],t[e.length-1])})),[i.EventMediaType.kEventMediaTypeVideo]:()=>{}};function l(e,t){let r=e;return t?(t.forEach((e,t)=>r+=e+t),r):r}t.fetchMediaResource=function(e,t,r){const n=l(e,t);if(u.has(n))return function(e,t,r){const{renderer:n}=r,i=u.get(l(e,t));return i.then(t=>{n&&(t?n.mediaLoaded(e):n.mediaLoadFailed(e,s.HttpStatusCodes.BadRequest,"Bad request on "+e))}),i}(e,t,r);{const i=function(e,t,r){const{renderer:n}=r;return fetch(e,{headers:t}).then(t=>{if(t.status===s.HttpStatusCodes.Ok)return n&&n.mediaLoaded(e),r.extractFromResponse(t);n&&n.mediaLoadFailed(e,t.status,t.statusText)}).catch(t=>{n&&n.mediaLoadFailed(e,s.HttpStatusCodes.BadRequest,`Bad request: ${t.message} ${e}`)})}(e,t,r);return u.set(n,i),i}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(32),a=r(18),s=r(64),d=new Map,u=(e,t,r,i)=>n(this,void 0,void 0,(function*(){return new Promise((o,a)=>n(this,void 0,void 0,(function*(){r.onload=()=>{i&&i.mediaLoaded(e),o(r)},r.onerror=a,t.values().next().done?r.src=e:r.src=yield s.fetchMediaResource(e,t,{renderer:i,extractFromResponse:c})}))).catch(()=>(i&&i.mediaLoadFailed(e,a.HttpStatusCodes.BadRequest,"Bad request on "+e),p()))}));t.loadAllImagesFromMediaSource=(e,t)=>n(this,void 0,void 0,(function*(){return yield Promise.all(e.map(e=>n(this,void 0,void 0,(function*(){if(d.has(e.url)){const r=d.get(e.url);(yield r).src&&t?t.mediaLoaded(e.url):t&&t.mediaLoadFailed(e.url,a.HttpStatusCodes.BadRequest,"Bad request on "+e)}else{const r=o.parseHeaders(e.headers);l(e.url,r,t)}}))))}));const c=e=>e.blob().then(e=>URL.createObjectURL(e)),l=(e,t,r)=>{const n=p(),i=u(e,t,n,r);d.set(e,i)};t.getFetchedBlobUrlFrom=e=>n(this,void 0,void 0,(function*(){const t=yield d.get(e);return t?t.getAttribute("src"):e}));const p=()=>document.createElement("img");t.ImageRetrievalType={HTML:"HTML",HTML_CORS:"HTML_CORS"};const f={[t.ImageRetrievalType.HTML]:(e,t,r)=>n(this,void 0,void 0,(function*(){return d.has(e)||l(e,t,r),d.get(e)})),[t.ImageRetrievalType.CORS]:(e,t,r)=>n(this,void 0,void 0,(function*(){const n=p();return n.crossOrigin="anonymous",u(e,t,n,r)}))};t.getImageRetrievalUtils=function(e){const r={type:t.ImageRetrievalType.HTML,logger:i.LoggerFactory.getLogger("ImageRetrievalUtils")},{type:a,renderer:s,logger:d}=Object.assign(r,e);return{getImageElement(e){return n(this,void 0,void 0,(function*(){return f.hasOwnProperty(a)?f[a](e.url,o.parseHeaders(e.headers),s):(d.warn("Type of image retrieval is invalid: "+a),f[t.ImageRetrievalType.HTML](e.url,o.parseHeaders(e.headers),s))}))}}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),o=r(243),a=r(19),s=r(2),d=r(32),u=r(33),c={[o.GraphicLayoutDirection.kGraphicLayoutDirectionLTR]:"ltr",[o.GraphicLayoutDirection.kGraphicLayoutDirectionRTL]:"rtl"},l=new Headers({Accept:"application/json","Content-Type":"application/json"});t.extractVectorGraphicFromResponse=function(e){return e.text()};class p extends u.ActionableComponent{constructor(e,t,r,n,i){super(e,t,r,i),this.svg=document.createElementNS(p.SVG_NS,"svg"),this.container.appendChild(this.svg),this.vectorGraphicUpdater=n}setProperties(e){const t=e=>super[e];return n(this,void 0,void 0,(function*(){if(t("setProperties").call(this,e),this.graphic=this.component.getCalculatedByKey(s.PropertyKey.kPropertyGraphic),!this.graphic){const e=this.component.getCalculatedByKey(s.PropertyKey.kPropertySource),t=d.toUrlRequest(e),r=d.parseHeaders(t.headers);l.forEach((e,t)=>r.append(t,e));const n=yield this.renderer.onRequestGraphic(t.url,d.parseHeaders(t.headers));return void(n&&this.component.updateGraphic(n)||this.logger.warn("Invalid graphic at source "+t.url))}const r=this.graphic.getRoot();this.initSvg(r),this.vectorGraphicUpdater.updateElementsWithArgs({root:r,parentElement:this.svg,dirty:this.graphic.getDirty(),lang:this.container.lang})}))}initSvg(e){const t=e.getValue(a.GraphicPropertyKey.kGraphicPropertyLang);t&&(this.container.lang=t);const r=e.getValue(a.GraphicPropertyKey.kGraphicPropertyHeightActual),n=e.getValue(a.GraphicPropertyKey.kGraphicPropertyWidthActual),o=e.getValue(a.GraphicPropertyKey.kGraphicPropertyViewportHeightActual),s=e.getValue(a.GraphicPropertyKey.kGraphicPropertyViewportWidthActual),d=e.getValue(a.GraphicPropertyKey.kGraphicPropertyLayoutDirection);this.svg.setAttributeNS("","viewBox",`0 0 ${s} ${o}`);const u=this.getInnerBounds(),l=n/s,p=r/o;i(this.svg).css({display:"inline-block",height:o,left:u.left,position:"absolute",top:u.top,transform:`scale(${l}, ${p})`,transformOrigin:"top left",width:s,direction:c[d]})}getInnerBounds(){let e=this.component.getCalculatedByKey(s.PropertyKey.kPropertyMediaBounds);return void 0===e&&(e=this.component.getCalculatedByKey(s.PropertyKey.kPropertyInnerBounds)),e}}p.SVG_NS="http://www.w3.org/2000/svg",t.VectorGraphic=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kScrollDirectionVertical=0]="kScrollDirectionVertical",e[e.kScrollDirectionHorizontal=1]="kScrollDirectionHorizontal"}(t.ScrollDirection||(t.ScrollDirection={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kImageScaleNone=0]="kImageScaleNone",e[e.kImageScaleFill=1]="kImageScaleFill",e[e.kImageScaleBestFill=2]="kImageScaleBestFill",e[e.kImageScaleBestFit=3]="kImageScaleBestFit",e[e.kImageScaleBestFitDown=4]="kImageScaleBestFitDown"}(t.ImageScale||(t.ImageScale={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(0);class o extends i.Component{constructor(e,t,r,i){super(e,t,r,i),this.setScaleFromProp=()=>{this.setScale(this.props[n.PropertyKey.kPropertyScale])},this.propExecutor(this.setScaleFromProp,n.PropertyKey.kPropertyScale)}setTrackPaused(e){}}t.AbstractVideoComponent=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kDisplayStateHidden=0]="kDisplayStateHidden",e[e.kDisplayStateBackground=1]="kDisplayStateBackground",e[e.kDisplayStateForeground=2]="kDisplayStateForeground"}(t.DisplayState||(t.DisplayState={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(45),i=r(143),o=r(145),a=r(146),s=r(147),d=r(148),u=r(237),c=r(239),l=r(240),p=r(241),f=r(242);t.commandFactory=(e,t)=>{if(h[e.getType()])return h[e.getType()](e,t);throw new Error("Cannot create command with type "+e.getType())};const h={[n.EventType.kEventTypeSendEvent]:(e,t)=>{const r=new f.SendEvent(e,t);return r.execute(),r},[n.EventType.kEventTypeRequestLineBounds]:(e,t)=>{const r=new p.RequestLineBounds(e,t);return r.execute(),r},[n.EventType.kEventTypeLineHighlight]:(e,t)=>{const r=new d.LineHighlight(e,t);return r.execute(),r},[n.EventType.kEventTypeReinflate]:(e,t)=>{const r=new l.ReInflate(e,t);return r.execute(),r},[n.EventType.kEventTypeFinish]:(e,t)=>{const r=new a.Finish(e,t);return r.execute(),r},[n.EventType.kEventTypeFocus]:(e,t)=>{const r=new s.Focus(e,t);return r.execute(),r},[n.EventType.kEventTypeOpenURL]:(e,t)=>{const r=new c.OpenUrl(e,t);return r.execute(),r},[n.EventType.kEventTypeDataSourceFetchRequest]:(e,t)=>{const r=new i.DataSourceFetchRequest(e,t);return r.execute(),r},[n.EventType.kEventTypeExtension]:(e,t)=>{const r=new o.ExtensionEvent(e,t);return r.execute(),r},[n.EventType.kEventTypeMediaRequest]:(e,t)=>{const r=new u.MediaRequest(e,t);return r.execute(),r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kTextAlignAuto=0]="kTextAlignAuto",e[e.kTextAlignLeft=1]="kTextAlignLeft",e[e.kTextAlignCenter=2]="kTextAlignCenter",e[e.kTextAlignRight=3]="kTextAlignRight",e[e.kTextAlignStart=4]="kTextAlignStart",e[e.kTextAlignEnd=5]="kTextAlignEnd"}(t.TextAlign||(t.TextAlign={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kTextAlignVerticalAuto=0]="kTextAlignVerticalAuto",e[e.kTextAlignVerticalTop=1]="kTextAlignVerticalTop",e[e.kTextAlignVerticalCenter=2]="kTextAlignVerticalCenter",e[e.kTextAlignVerticalBottom=3]="kTextAlignVerticalBottom"}(t.TextAlignVertical||(t.TextAlignVertical={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFontStyleNormal=0]="kFontStyleNormal",e[e.kFontStyleItalic=1]="kFontStyleItalic"}(t.FontStyle||(t.FontStyle={}))},function(e,t,r){var n=r(156);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){e.exports=!r(15)&&!r(28)((function(){return 7!=Object.defineProperty(r(77)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(27),i=r(6).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(11),i=r(16),o=r(159)(!1),a=r(51)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),d=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>d;)n(s,r=t[d++])&&(~o(u,r)||u.push(r));return u}},function(e,t,r){var n=r(50),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(49);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){r(169);for(var n=r(6),i=r(13),o=r(17),a=r(4)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),d=0;d<s.length;d++){var u=s[d],c=n[u],l=c&&c.prototype;l&&!l[a]&&i(l,a,u),o[u]=o.Array}},function(e,t,r){"use strict";var n=r(36),i=r(9),o=r(83),a=r(13),s=r(17),d=r(172),u=r(55),c=r(173),l=r(4)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,h,y,m,g){d(r,t,h);var v,b,P,k=function(e){if(!p&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",T="values"==y,E=!1,x=e.prototype,w=x[l]||x["@@iterator"]||y&&x[y],C=w||k(y),A=y?T?k("entries"):C:void 0,_="Array"==t&&x.entries||w;if(_&&(P=c(_.call(new e)))!==Object.prototype&&P.next&&(u(P,S,!0),n||"function"==typeof P[l]||a(P,l,f)),T&&w&&"values"!==w.name&&(E=!0,C=function(){return w.call(this)}),n&&!g||!p&&!E&&x[l]||a(x,l,C),s[t]=C,s[S]=f,y)if(v={values:T?C:k("values"),keys:m?C:k("keys"),entries:A},g)for(b in v)b in x||o(x,b,v[b]);else i(i.P+i.F*(p||E),t,v);return v}},function(e,t,r){e.exports=r(13)},function(e,t,r){var n=r(85),i=r(4)("iterator"),o=r(17);e.exports=r(3).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(49),i=r(4)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){t.f=r(4)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(78),i=r(53).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFocusDirectionNone=0]="kFocusDirectionNone",e[e.kFocusDirectionForward=1]="kFocusDirectionForward",e[e.kFocusDirectionBackwards=2]="kFocusDirectionBackwards",e[e.kFocusDirectionUp=3]="kFocusDirectionUp",e[e.kFocusDirectionDown=4]="kFocusDirectionDown",e[e.kFocusDirectionLeft=5]="kFocusDirectionLeft",e[e.kFocusDirectionRight=6]="kFocusDirectionRight"}(t.FocusDirection||(t.FocusDirection={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(30),i=r(221),o=r(222);t.fillAndStrokeConverter=function(e){e=Object.assign({lang:""},e);const{value:t,transform:r,parent:a,logger:s,lang:d}=e;return"number"==typeof t?{value:n.numberToColor(t)}:void 0!==t.type?i.createGradientElement(t,r,a,s):t.getId()?o.getOrCreatePatternElementWithArgs({graphicPattern:t,transform:r,logger:s,lang:d}):void s.warn("Type is not supported yet.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),i=r(93),o=r(0);function a(e){const t=/msie\s|trident\/|edge\//i.test(window.navigator.userAgent);switch(e.type){case i.GraphicFilterType.kGraphicFilterTypeDropShadow:{if(t){const t=document.createElementNS(o.SVG_NS,"feGaussianBlur");t.setAttributeNS("","stdDeviation",e.radius.toString());const r=document.createElementNS(o.SVG_NS,"feOffset");r.setAttributeNS("","result","offOut"),r.setAttributeNS("","dx",e.horizontalOffset.toString()),r.setAttributeNS("","dy",e.verticalOffset.toString());const n=document.createElementNS(o.SVG_NS,"feFlood");n.setAttributeNS("","flood-color",o.Component.numberToColor(e.color));const i=document.createElementNS(o.SVG_NS,"feComposite");i.setAttributeNS("","operator","in"),i.setAttributeNS("","in2","offOut");const a=document.createElementNS(o.SVG_NS,"feMerge"),s=document.createElementNS(o.SVG_NS,"feMergeNode"),d=document.createElementNS(o.SVG_NS,"feMergeNode");return d.setAttributeNS("","in","SourceGraphic"),a.appendChild(s),a.appendChild(d),[t,r,n,i,a]}const r=document.createElementNS(o.SVG_NS,"feDropShadow");return r.setAttributeNS("","stdDeviation",e.radius.toString()),r.setAttributeNS("","dx",e.horizontalOffset.toString()),r.setAttributeNS("","dy",e.verticalOffset.toString()),n(r).css("flood-color",o.Component.numberToColor(e.color)),[r]}default:return[]}}t.createAndGetFilterElement=function(e,t){if(!e||0===e.length)return;const r=document.createElementNS(o.SVG_NS,"filter"),n=o.uuidv4().toString();return r.setAttributeNS("","id",n),r.setAttributeNS("","filterUnits","userSpaceOnUse"),e.map(a).forEach(e=>{e&&e.length>0?e.forEach(e=>r.appendChild(e)):t.warn("incorrect avg filter type.")}),{filterId:n,filterElement:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicFilterTypeDropShadow=0]="kGraphicFilterTypeDropShadow"}(t.GraphicFilterType||(t.GraphicFilterType={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(26);t.applyAplRectToStyle=e=>{const{domElement:t,rectangle:r}=e,{left:i,top:o,width:a,height:s}=r,d={left:i,top:o,width:a,height:s};n.createStylesApplier({element:t,properties:d,cssUnitType:n.CssUnitType.Pixels}).applyStyle()},t.applyPaddingToStyle=e=>{const{domElement:t,bounds:r,innerBounds:i}=e,{width:o,height:a}=r,{left:s,top:d,width:u,height:c}=i,l={"padding-left":s,"padding-right":o-s-u,"padding-top":d,"padding-bottom":a-d-c};n.createStylesApplier({element:t,properties:l,cssUnitType:n.CssUnitType.Pixels}).applyStyle()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Undefined=0]="Undefined",e[e.Exactly=1]="Exactly",e[e.AtMost=2]="AtMost"}(t.MeasureMode||(t.MeasureMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(66),i=r(97),o=r(98),a=r(99),s=r(100),d=r(101),u=r(105),c=r(248),l=r(119),p=r(120),f=r(121),h=r(24),y=r(122),m=r(60);t.componentFactory=(e,t,r,n=!1,i=-1)=>{const o=t.getUniqueId();if(e.componentMap[o]){const t=e.componentMap[o];return t.parent=r,n&&t instanceof h.Text&&(t.setDimensions(),r&&(i>=0&&r.container.children.length>0&&i<r.container.children.length?r.container.insertBefore(t.container,r.container.children.item(i)):r.container.appendChild(t.container))),t}if(g[t.getType()]){const o=g[t.getType()](e,t,r);return n&&(o instanceof h.Text&&o.init(),o.component.ensureLayout(),o.init(),r&&(i>=0&&r.container.children.length>0&&i<r.container.children.length?r.container.insertBefore(o.container,r.container.children.item(i)):r.container.appendChild(o.container))),o}throw new Error("Cannot create component with type "+t.getType())};const g={[m.ComponentType.kComponentTypeContainer]:(e,r,n)=>new o.Container(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeEditText]:(e,r,n)=>e.options.environment.disallowEditText?new c.NoOpComponent(e,r,t.componentFactory,n):new a.EditText(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeFrame]:(e,r,n)=>new s.Frame(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeImage]:(e,r,n)=>new u.Image(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypePager]:(e,r,n)=>new l.PagerComponent(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeScrollView]:(e,r,n)=>new p.ScrollView(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeSequence]:(e,r,n)=>new f.Sequence(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeGridSequence]:(e,r,n)=>new d.GridSequence(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeText]:(e,r,n)=>new h.Text(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeTouchWrapper]:(e,r,n)=>new y.TouchWrapper(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeVideo]:(e,r,n)=>e.options.environment.disallowVideo?new c.NoOpComponent(e,r,t.componentFactory,n):e.videoFactory.create(e,r,t.componentFactory,n),[m.ComponentType.kComponentTypeVectorGraphic]:(e,r,o)=>new n.VectorGraphic(e,r,t.componentFactory,new i.VectorGraphicElementUpdater,o)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44),i=r(31),o=r(40),a=r(62),s=r(42);var d=r(41);t.AVG=d.AVG;var u=r(62);t.Group=u.Group;var c=r(42);t.Path=c.Path;var l=r(40);t.AVGText=l.AVGText,t.VectorGraphicElementUpdater=class{constructor(){this.AVGByGraphicKey=new Map,this.walkable=new Set([i.GraphicElementType.kGraphicElementTypeContainer,i.GraphicElementType.kGraphicElementTypeGroup]),this.logger=n.LoggerFactory.getLogger("VectorGraphicUpdater")}updateElementsWithArgs({root:e,parentElement:t,dirty:r,lang:n}){this.orphanedAVGKeys=new Set(this.AVGByGraphicKey.keys()),this.walkTree(e,t,r,n),this.deleteOrphanedElements()}updateElements(e,t,r){this.updateElementsWithArgs({root:e,parentElement:t,dirty:r,lang:""})}walkTree(e,t,r,n){if(e&&this.walkable.has(e.getType()))for(let i=0;i<e.getChildCount();i++){const o=e.getChildAt(i);if(this.orphanedAVGKeys.delete(o.getId()),!this.AVGByGraphicKey.has(o.getId())){const e=this.createElement(o,t,n);e&&this.AVGByGraphicKey.set(o.getId(),e)}if(r&&r.hasOwnProperty(o.getId())){const e=this.AVGByGraphicKey.get(o.getId());e.graphic=r[o.getId()],e.updateDirty()}this.walkTree(o,this.AVGByGraphicKey.get(o.getId()).element,r,n)}}createElement(e,t,r){let n;if(e.getType()===i.GraphicElementType.kGraphicElementTypeGroup)n=new a.Group({graphic:e,parent:t,logger:this.logger,lang:r});else if(e.getType()===i.GraphicElementType.kGraphicElementTypePath)n=new s.Path(e,t,this.logger);else{if(e.getType()!==i.GraphicElementType.kGraphicElementTypeText)return void this.logger.debug(`GraphicElement type ${e.getType()} is not supported`);n=new o.AVGText({graphic:e,parent:t,logger:this.logger,lang:r})}return n.setAllProperties(),n}deleteOrphanedElements(){this.orphanedAVGKeys.forEach(e=>{const t=this.AVGByGraphicKey.get(e).element;t&&t.parentNode&&(this.AVGByGraphicKey.delete(e),t.parentNode.removeChild(t))}),this.orphanedAVGKeys.clear()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Component{constructor(e,t,r,n){super(e,t,r,n)}isLayout(){return!0}}t.Container=i},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),o=r(244),a=r(2),s=r(38),d=r(18),u=r(25),c=r(33),l=r(0),p=r(94);class f extends c.ActionableComponent{constructor(e,t,r,c){super(e,t,r,c),this.localFocused=!1,this.enterPressedDown=!1,this.isEdge=/msie\s|trident\/|edge\//i.test(window.navigator.userAgent),this.setTextBoundsAndDisplay=()=>{this.setBoundsAndDisplay(),this.setInnerBounds()},this.setBorderColor=()=>{i(this.inputElement).css("outline-color",l.Component.numberToColor(this.props[a.PropertyKey.kPropertyBorderColor]))},this.setBorderWidth=()=>{i(this.inputElement).css("outline-width",this.props[a.PropertyKey.kPropertyDrawnBorderWidth]),i(this.inputElement).css("outline-style","solid")},this.setColor=()=>{i(this.inputElement).css("color",l.Component.numberToColor(this.props[a.PropertyKey.kPropertyColor]))},this.setDisabled=()=>{this.inputElement.disabled=this.props[a.PropertyKey.kPropertyDisabled]},this.setLang=()=>{this.container.lang=this.lang},this.setFontStyle=()=>{u.FontUtils.setFontStyle({element:this.inputElement,fontStyle:this.props[a.PropertyKey.kPropertyFontStyle],lang:this.lang})},this.setFontWeight=()=>{u.FontUtils.setFontWeight({element:this.inputElement,fontWeight:this.props[a.PropertyKey.kPropertyFontWeight],lang:this.lang})},this.setFontFamily=()=>{u.FontUtils.setFontFamily({element:this.inputElement,fontFamily:this.props[a.PropertyKey.kPropertyFontFamily],lang:this.lang})},this.setFontSize=()=>{i(this.inputElement).css("font-size",this.props[a.PropertyKey.kPropertyFontSize])},this.setHighlightColor=()=>{this.addRuleToAvailableStyleSheet("#\\"+this.component.getUniqueId()+" input::selection","background-color: "+l.Component.numberToColor(this.props[a.PropertyKey.kPropertyHighlightColor]))},this.setHint=()=>{this.inputElement.placeholder=this.props[a.PropertyKey.kPropertyHint]},this.setHintColor=()=>{this.addRuleToAvailableStyleSheet("#\\"+this.component.getUniqueId()+" input"+(this.isEdge?"::-ms-input-placeholder":"::placeholder"),"color: "+l.Component.numberToColor(this.props[a.PropertyKey.kPropertyHintColor]))},this.setHintStyle=()=>{const e=u.FontUtils.getFontStyle(this.props[a.PropertyKey.kPropertyHintStyle]);this.addRuleToAvailableStyleSheet("#\\"+this.component.getUniqueId()+" input"+(this.isEdge?"::-ms-input-placeholder":"::placeholder"),"font-style: "+e)},this.setHintWeight=()=>{this.addRuleToAvailableStyleSheet("#\\"+this.component.getUniqueId()+" input"+(this.isEdge?"::-ms-input-placeholder":"::placeholder"),"font-weight: "+this.props[a.PropertyKey.kPropertyHintWeight])},this.setKeyboardType=()=>{switch(this.props[a.PropertyKey.kPropertyKeyboardType]){case o.KeyboardType.kKeyboardTypeDecimalPad:this.inputElement.setAttribute("inputmode","decimal"),this.inputElement.type="text";break;case o.KeyboardType.kKeyboardTypeNumberPad:this.inputElement.setAttribute("inputmode","numeric"),this.inputElement.type="text";break;case o.KeyboardType.kKeyboardTypeEmailAddress:this.inputElement.setAttribute("inputmode","email"),this.inputElement.type="email";break;case o.KeyboardType.kKeyboardTypePhonePad:this.inputElement.setAttribute("inputmode","tel"),this.inputElement.type="tel";break;case o.KeyboardType.kKeyboardTypeUrl:this.inputElement.setAttribute("inputmode","url"),this.inputElement.type="url";break;case o.KeyboardType.kKeyboardTypeNormal:default:this.inputElement.setAttribute("inputmode","text"),this.inputElement.type="text"}this.props[a.PropertyKey.kPropertySecureInput]&&(this.inputElement.type="password")},this.setMaxLength=()=>{this.props[a.PropertyKey.kPropertyMaxLength]>0&&(this.inputElement.maxLength=this.props[a.PropertyKey.kPropertyMaxLength])},this.setSelectTextOnFocus=()=>{this.inputElement.onfocus=e=>{const t=this.inputElement.type;this.inputElement.type="text",this.props[a.PropertyKey.kPropertySelectOnFocus]?this.inputElement.setSelectionRange(0,this.inputElement.value.length):this.inputElement.setSelectionRange(this.inputElement.value.length,this.inputElement.value.length),this.inputElement.type=t}},this.setInputSize=()=>{this.props[a.PropertyKey.kPropertySize]>0&&(this.inputElement.size=this.props[a.PropertyKey.kPropertySize])},this.setInputText=()=>n(this,void 0,void 0,(function*(){const e=yield this.filterText(this.props[a.PropertyKey.kPropertyText]);e.length>0&&(this.inputElement.value=e)})),this.focus=()=>{this.localFocused||(this.localFocused=!0,this.inputElement.focus(),this.takeFocus())},this.blur=()=>{this.localFocused&&(this.localFocused=!1,this.inputElement.blur())},this.onInput=()=>n(this,void 0,void 0,(function*(){this.inputElement.value=yield this.filterText(this.inputElement.value),this.update(s.UpdateType.kUpdateTextChange,this.inputElement.value)})),this.onSubmit=e=>{e.preventDefault()},this.onKeyup=e=>{e.key!==d.ENTER_KEY||!0!==this.enterPressedDown||e.asyncChecked||(this.update(s.UpdateType.kUpdateSubmit,0),this.enterPressedDown=!1),this.filterEventPropagation(e,this.inputElement)},this.onKeydown=e=>{e.key!==d.ENTER_KEY||e.asyncChecked||(this.enterPressedDown=!0),this.filterEventPropagation(e,this.inputElement)},this.initEditTextHtmlComponent(),this.inputElement.addEventListener("focus",this.focus),this.inputElement.addEventListener("blur",this.blur),this.formElement.onsubmit=this.onSubmit,this.inputElement.addEventListener("keyup",this.onKeyup),this.inputElement.addEventListener("keydown",this.onKeydown),this.inputElement.oninput=this.onInput,this.propExecutor(this.setBorderColor,a.PropertyKey.kPropertyBorderColor)(this.setBorderWidth,a.PropertyKey.kPropertyDrawnBorderWidth)(this.setColor,a.PropertyKey.kPropertyColor)(this.setDisabled,a.PropertyKey.kPropertyDisabled)(this.setLang,a.PropertyKey.kPropertyLang)(this.setFontFamily,a.PropertyKey.kPropertyFontFamily)(this.setFontSize,a.PropertyKey.kPropertyFontSize)(this.setFontStyle,a.PropertyKey.kPropertyFontStyle)(this.setFontWeight,a.PropertyKey.kPropertyFontWeight)(this.setHighlightColor,a.PropertyKey.kPropertyHighlightColor)(this.setHint,a.PropertyKey.kPropertyHint)(this.setHintColor,a.PropertyKey.kPropertyHintColor)(this.setHintStyle,a.PropertyKey.kPropertyHintStyle)(this.setHintWeight,a.PropertyKey.kPropertyHintWeight)(this.setKeyboardType,a.PropertyKey.kPropertyKeyboardType,a.PropertyKey.kPropertySecureInput)(this.setMaxLength,a.PropertyKey.kPropertyMaxLength)(this.setSelectTextOnFocus,a.PropertyKey.kPropertySelectOnFocus)(this.setInputSize,a.PropertyKey.kPropertySize)(this.setInputText,a.PropertyKey.kPropertyText)(this.setTextBoundsAndDisplay,a.PropertyKey.kPropertyBounds,a.PropertyKey.kPropertyInnerBounds,a.PropertyKey.kPropertyDisplay)}initEditTextHtmlComponent(){this.formElement=document.createElement("form"),this.formElement.autocomplete="off",i(this.formElement).css("max-width","100%"),i(this.formElement).css("max-height","100%"),this.inputElement=document.createElement("input"),i(this.inputElement).attr("id",this.id),this.setInnerBounds(),i(this.inputElement).css("background","transparent"),i(this.inputElement).css("border-color","transparent"),this.formElement.appendChild(this.inputElement),this.container.appendChild(this.formElement)}setInnerBounds(){const e=this.component.getCalculatedByKey(a.PropertyKey.kPropertyInnerBounds);e?p.applyAplRectToStyle({domElement:this.inputElement,rectangle:e}):(i(this.inputElement).css("max-width","100%"),i(this.inputElement).css("max-height","100%"))}filterText(e){return n(this,void 0,void 0,(function*(){const t=yield e.split("").map(e=>n(this,void 0,void 0,(function*(){return yield this.component.isCharacterValid(e)}))),r=yield Promise.all(t);return e.split("").filter((e,t)=>!0===r[t]).join("")}))}addRuleToAvailableStyleSheet(e,t){const r=document.styleSheets;for(let n=0;n<r.length;n++)try{r.item(n).addRule(e,t);break}catch(e){continue}}filterEventPropagation(e,t){this.shouldStopPropagation(e,t)&&(e.stopPropagation(),e.cancelBubble=!0)}shouldStopPropagation(e,t){if(t.selectionStart!==t.selectionEnd)return!0;switch(e.code){case d.ARROW_LEFT:case d.ARROW_UP:return 0!==t.selectionStart;case d.ARROW_RIGHT:case d.ARROW_DOWN:return t.selectionEnd!==t.value.length;default:return!1}}}t.EditText=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(0);class o extends i.Component{constructor(e,t,r,o){super(e,t,r,o),this.setBackgroundColor=()=>{this.$container.css("background-color",i.Component.numberToColor(this.props[n.PropertyKey.kPropertyBackgroundColor]))},this.setBorderRadii=()=>{const e=this.props[n.PropertyKey.kPropertyBorderRadii];this.$container.css("border-top-left-radius",e.topLeft()),this.$container.css("border-top-right-radius",e.topRight()),this.$container.css("border-bottom-right-radius",e.bottomRight()),this.$container.css("border-bottom-left-radius",e.bottomLeft())},this.setBorderColor=()=>{this.$container.css("border-color",i.Component.numberToColor(this.props[n.PropertyKey.kPropertyBorderColor]))},this.setBorderWidth=()=>{this.$container.css("border-width",this.props[n.PropertyKey.kPropertyBorderWidth])},this.$container.css({"border-style":"solid"}),this.propExecutor(this.setBackgroundColor,n.PropertyKey.kPropertyBackgroundColor)(this.setBorderRadii,n.PropertyKey.kPropertyBorderRadii)(this.setBorderColor,n.PropertyKey.kPropertyBorderColor)(this.setBorderWidth,n.PropertyKey.kPropertyBorderWidth)}isLayout(){return!0}}t.Frame=o},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(102);class i extends n.MultiChildScrollable{constructor(e,t,r,n){super(e,t,r,n)}getNormalDisplay(){return"grid"}}t.GridSequence=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(67),o=r(103),a=r(104);class s extends a.Scrollable{constructor(e,t,r,a){super(e,t,r,a),this.fullyLoaded=!1,this.setScrollPosition=()=>{this.container[this.scrollSide]=this.props[n.PropertyKey.kPropertyScrollPosition],this.container[this.scrollSide]!==this.props[n.PropertyKey.kPropertyScrollPosition]&&o.processNextTick(()=>{this.container[this.scrollSide]=this.props[n.PropertyKey.kPropertyScrollPosition]})},this.setScrollDirection=()=>{switch(this.props[n.PropertyKey.kPropertyScrollDirection]){case i.ScrollDirection.kScrollDirectionHorizontal:this.direction=i.ScrollDirection.kScrollDirectionHorizontal,this.length="width",this.scrollSide="scrollLeft",this.scrollSize="scrollWidth",this.side="left";break;case i.ScrollDirection.kScrollDirectionVertical:this.direction=i.ScrollDirection.kScrollDirectionVertical,this.length="height",this.scrollSide="scrollTop",this.scrollSize="scrollHeight",this.side="top";break;default:this.logger.warn("Incorrect ScrollDirection type")}},this.container.classList.add("scrollView"),this.propExecutor(this.setScrollDirection,n.PropertyKey.kPropertyScrollDirection)(this.setScrollPosition,n.PropertyKey.kPropertyScrollPosition)}init(){super.init()}allowFocus(e,t){return!(e>this.getPageSize()+parseInt(t.style[this.length],10))&&this.fullyLoaded}}t.MultiChildScrollable=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processNextTick=e=>{setTimeout(e,0)}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(67),o=r(38),a=r(33);class s extends a.ActionableComponent{constructor(e,t,r,a){super(e,t,r,a),this.direction=i.ScrollDirection.kScrollDirectionVertical,this.length="height",this.scrollSize="scrollHeight",this.scrollSide="scrollTop",this.side="top",this.hasFocusableChildren=!1,this.container.addEventListener("wheel",e=>n(this,void 0,void 0,(function*(){var t,r;const n=(this.getScrollPosition()+(t=e.deltaX,r=e.deltaY,Math.abs(t)>Math.abs(r)?t:r))/this.renderer.context.getScaleFactor();this.component.update(o.UpdateType.kUpdateScrollPosition,n)})))}isLayout(){return!0}allowFocus(e,t){return!(e>this.getPageSize()+parseInt(t.style[this.length],10))}getScrollPosition(){return this.container[this.scrollSide]}getScrollLength(){return this.container[this.scrollSize]}getPageSize(){return this.bounds[this.length]}getDirection(){return this.direction}}s.FOCUS_SCROLL_VELOCITY=5,t.Scrollable=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(20),o=r(68),a=r(2),s=r(32),d=r(245),u=r(30),c=r(21),l=r(65),p=r(114),f=r(113),h=r(0),y=r(247),m=r(26);class g extends h.Component{constructor(e,t,r,i){super(e,t,r,i),this.uuid=h.uuidv4(),this.imageProperties={},this.canvasElement=document.createElement("canvas"),this.svgElement=document.createElementNS(h.SVG_NS,"svg"),this.imageSVGElement=document.createElementNS(h.SVG_NS,"image"),this.imageOverlay=document.createElement("div"),this.imageView=document.createElement("div"),this.imageViewProperties={position:"relative",overflow:"hidden"},this.imageOverlayProperties={position:"absolute","z-index":1,top:"0px",left:"0px"},this.svgImageElementProperties={position:"relative"},this.applyCssShadow=e=>{m.createStylesApplier({element:this.imageView,properties:{"box-shadow":e},elementType:m.ElementType.HTML}).applyStyle()},this.getSourceArrayFromProperty=()=>{let e=this.props[a.PropertyKey.kPropertySource];return e=e instanceof Array?e:[e],e.map(s.toUrlRequest)},this.draw=()=>{this.fetchSource().then(()=>{this.setImageAlignment(),this.setBorderRadius(),this.setOverlayColor(),this.setOverlayGradient(),this.setImageScale(),this.renderImage().catch(e=>{this.logger.error("Error rendering image: "+e)})})},this.fetchSource=()=>n(this,void 0,void 0,(function*(){f.isSomething(this.imageSources)||(this.imageSources=this.getSourceArrayFromProperty(),yield l.loadAllImagesFromMediaSource(this.imageSources,this.renderer))})),this.setFilters=()=>{this.imageFilters=this.props[a.PropertyKey.kPropertyFilters]},this.setBorderRadius=()=>{this.borderRadius=this.props[a.PropertyKey.kPropertyBorderRadius],m.createStylesApplier({element:this.imageView,properties:{"border-radius":this.borderRadius},cssUnitType:m.CssUnitType.Pixels,elementType:m.ElementType.HTML}).applyStyle()},this.setOverlayColor=()=>{this.overlayColor=u.numberToColor(this.props[a.PropertyKey.kPropertyOverlayColor]),m.createStylesApplier({element:this.imageOverlay,properties:{"background-color":this.overlayColor}}).applyStyle()},this.setOverlayGradient=()=>{this.overlayGradient=p.getCssGradient(this.props[a.PropertyKey.kPropertyOverlayGradient],this.logger),m.createStylesApplier({element:this.imageOverlay,properties:{"background-image":this.overlayGradient}}).applyStyle()},this.setImageScale=()=>{this.imageScale=this.props[a.PropertyKey.kPropertyScale]},this.setImageAlignment=()=>{this.imageAlignment=this.props[a.PropertyKey.kPropertyAlign]},this.propExecutor(this.setBorderRadius,a.PropertyKey.kPropertyBorderRadius)(this.setOverlayColor,a.PropertyKey.kPropertyOverlayColor)(this.setOverlayGradient,a.PropertyKey.kPropertyOverlayGradient)(this.setImageScale,a.PropertyKey.kPropertyScale)(this.setImageAlignment,a.PropertyKey.kPropertyAlign)(this.setFilters,a.PropertyKey.kPropertyFilters)(this.fetchSource,a.PropertyKey.kPropertySource)}init(){super.init(),this.prepareImageView(),this.prepareImageOverlay(),this.draw()}boundsUpdated(){this.hasValidBounds()}onPropertiesUpdated(){this.hasSourceChanged()&&(this.imageSources=f.Nothing),this.draw()}hasSourceChanged(){const e=this.getSourceArrayFromProperty();return!f.isSomething(this.imageSources)||!d.arrayEquals(e,this.imageSources)}renderImage(){return n(this,void 0,void 0,(function*(){if(!f.isSomething(this.imageSources))return;const e=d.last(this.imageSources);if(!f.isSomething(e))return void this.logger.warn("Attempted to render image without image url.");const{height:t,width:r}=this.innerBounds,i={width:r,height:t},a=this.hasNoiseFilter||this.imageScale===o.ImageScale.kImageScaleNone,s=this.imageSources.length-1,u=yield Promise.all(this.imageSources.map((e,t)=>n(this,void 0,void 0,(function*(){let r;return r=a?yield p.createCanvasScaledImageProcessor({imageSource:e,canvas:this.canvasElement,imageDimensions:i,renderer:this.renderer,filters:this.imageFilters,applyFilterArgs:{currentImageIndex:t,isLastIndex:t===s},scalingOption:this.imageScale}):yield p.createScaledImageProcessor({imageSource:e,imageDimensions:i,renderer:this.renderer,scalingOption:this.imageScale}),r.scaleImage()})))),{scaledImageWidth:h,scaledImageHeight:g,scaledSource:v}=d.last(u),b=yield Promise.all(u.map(e=>n(this,void 0,void 0,(function*(){return yield l.getFetchedBlobUrlFrom(e.scaledSource.url)}))));c.createSVGImageFiltersApplier({uuid:this.uuid,svgElement:this.svgElement,imageElement:this.imageSVGElement,filters:this.imageFilters,imageSources:b}).applyFiltersToSVGImage();const P=yield l.getFetchedBlobUrlFrom(v.url);this.imageSVGElement.setAttribute("href",P),m.createStylesApplier({element:this.svgElement,properties:{height:g,width:h},elementType:m.ElementType.SVG}).applyStyle();const k=Math.min(t,g),S=Math.min(r,h);m.createStylesApplier({element:this.imageOverlay,properties:{height:k,width:S},cssUnitType:m.CssUnitType.Pixels}).applyStyle(),m.createStylesApplier({element:this.imageView,properties:{height:k,width:S},cssUnitType:m.CssUnitType.Pixels}).applyStyle();const T=y.createAligner({parentBounds:this.innerBounds,element:{width:h,height:g},layoutDirection:this.layoutDirection,imageAlign:this.imageAlignment}).getAlignment();m.createStylesApplier({element:this.imageView,properties:T,cssUnitType:m.CssUnitType.Pixels}).applyStyle();const E=y.createAligner({parentBounds:{height:k,width:S},element:{width:h,height:g},boundLimits:{maxTop:Number.NEGATIVE_INFINITY,maxLeft:Number.NEGATIVE_INFINITY,minLeft:Number.POSITIVE_INFINITY},layoutDirection:this.layoutDirection,imageAlign:this.imageAlignment}).getAlignment();m.createStylesApplier({element:this.svgElement,properties:E,cssUnitType:m.CssUnitType.Pixels}).applyStyle(),this.insertIntoDOM({element:this.imageView,properties:this.imageViewProperties})}))}insertIntoDOM({element:e,properties:t}){document.getElementById(e.id)||(m.createStylesApplier({element:e,properties:t}).applyStyle(),this.container.appendChild(e))}prepareImageView(){this.svgElement.getElementsByTagName("image").length>0||(m.createStylesApplier({element:this.imageSVGElement,properties:{preserveAspectRatio:"none",x:"0%",y:"0%",width:"100%",height:"100%"},elementType:m.ElementType.SVG}).applyStyle(),this.imageSVGElement.id="svg-image-element-"+this.uuid,this.svgElement.appendChild(this.imageSVGElement)),this.imageView.getElementsByTagName("svg").length>0||(m.createStylesApplier({element:this.svgElement,properties:this.svgImageElementProperties}).applyStyle(),this.svgElement.id="svg-element-"+this.uuid,this.imageView.appendChild(this.svgElement)),this.imageView.getElementsByTagName("div").length>0||(m.createStylesApplier({element:this.imageOverlay,properties:this.imageOverlayProperties}).applyStyle(),this.imageOverlay.id="image-overlay-"+this.uuid,this.imageView.appendChild(this.imageOverlay))}prepareImageOverlay(){this.imageOverlay.id="overlay-"+this.uuid}set borderRadius(e){this.imageProperties.borderRadius=e}get borderRadius(){return this.imageProperties.borderRadius}set borderColor(e){this.imageProperties.borderColor=e}get borderColor(){return this.imageProperties.borderColor}set borderWidth(e){this.imageProperties.borderWidth=e}get borderWidth(){return this.imageProperties.borderWidth}set overlayColor(e){this.imageProperties.overlayColor=e}get overlayColor(){return this.imageProperties.overlayColor}set overlayGradient(e){this.imageProperties.overlayGradient=e}get overlayGradient(){return this.imageProperties.overlayGradient}get hasNoiseFilter(){return this.props[a.PropertyKey.kPropertyFilters].some(e=>e.type===i.FilterType.kFilterTypeNoise)}set imageScale(e){this.imageProperties.imageScale=e}get imageScale(){return this.imageProperties.imageScale}set imageAlignment(e){this.imageProperties.imageAlignment=e}get imageAlignment(){return this.imageProperties.imageAlignment}set imageFilters(e){this.imageProperties.imageFilters=e}get imageFilters(){return this.imageProperties.imageFilters}get canvasRenderingContext(){return this.canvasElement.getContext("2d")}}t.Image=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(107),i=r(21),o=r(0),a=r(34);function s(e){switch(e){case n.BlendMode.kBlendModeNormal:return"normal";case n.BlendMode.kBlendModeMultiply:return"multiply";case n.BlendMode.kBlendModeScreen:return"screen";case n.BlendMode.kBlendModeOverlay:return"overlay";case n.BlendMode.kBlendModeDarken:return"darken";case n.BlendMode.kBlendModeLighten:return"lighten";case n.BlendMode.kBlendModeColorDodge:return"color-dodge";case n.BlendMode.kBlendModeColorBurn:return"color-burn";case n.BlendMode.kBlendModeHardLight:return"hard-light";case n.BlendMode.kBlendModeSoftLight:return"soft-light";case n.BlendMode.kBlendModeDifference:return"difference";case n.BlendMode.kBlendModeExclusion:return"exclusion";case n.BlendMode.kBlendModeHue:return"hue";case n.BlendMode.kBlendModeSaturation:return"saturation";case n.BlendMode.kBlendModeColor:return"color";case n.BlendMode.kBlendModeLuminosity:return"luminosity";default:return"normal"}}t.getBlendFilter=function(e,t){const r=o.uuidv4().toString();let n=[];const d=document.createElementNS(o.SVG_NS,"feBlend");d.setAttributeNS("","mode",s(e.mode)),d.setAttributeNS("","result",r);let u=e.source;if(i.isIndexOutOfBound(u,t.length))return;u<0&&(u+=t.length);let c=e.destination;if(i.isIndexOutOfBound(c,t.length))return;c<0&&(c+=t.length);const l=t[u],p=t[c];return l.match(a.BITMAP_IMAGE_REGEX_CHECK)?n=i.generateSVGFeImage(l,d):d.setAttributeNS("","in",l),p.match(a.BITMAP_IMAGE_REGEX_CHECK)?n=n.concat(i.generateSVGFeImage(p,d,!0)):d.setAttributeNS("","in2",p),{filterId:r,filterElement:d,filterImageArray:n}},t.getBlendMode=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kBlendModeNormal=0]="kBlendModeNormal",e[e.kBlendModeMultiply=1]="kBlendModeMultiply",e[e.kBlendModeScreen=2]="kBlendModeScreen",e[e.kBlendModeOverlay=3]="kBlendModeOverlay",e[e.kBlendModeDarken=4]="kBlendModeDarken",e[e.kBlendModeLighten=5]="kBlendModeLighten",e[e.kBlendModeColorDodge=6]="kBlendModeColorDodge",e[e.kBlendModeColorBurn=7]="kBlendModeColorBurn",e[e.kBlendModeHardLight=8]="kBlendModeHardLight",e[e.kBlendModeSoftLight=9]="kBlendModeSoftLight",e[e.kBlendModeDifference=10]="kBlendModeDifference",e[e.kBlendModeExclusion=11]="kBlendModeExclusion",e[e.kBlendModeHue=12]="kBlendModeHue",e[e.kBlendModeSaturation=13]="kBlendModeSaturation",e[e.kBlendModeColor=14]="kBlendModeColor",e[e.kBlendModeLuminosity=15]="kBlendModeLuminosity"}(t.BlendMode||(t.BlendMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(0),o=r(34);t.getBlurFilter=function(e,t){const r=i.uuidv4().toString();let a=[];const s=document.createElementNS(i.SVG_NS,"feGaussianBlur");s.setAttributeNS("","stdDeviation",e.radius.toString()),s.setAttributeNS("","result",r);let d=e.source;if(n.isIndexOutOfBound(d,t.length))return;d<0&&(d+=t.length);const u=t[d];return u.match(o.BITMAP_IMAGE_REGEX_CHECK)?a=n.generateSVGFeImage(u,s):s.setAttributeNS("","in",u),{filterId:r,filterElement:s,filterImageArray:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.getColorFilter=function(e){const t=n.uuidv4().toString(),r=document.createElementNS(n.SVG_NS,"feFlood");return r.setAttributeNS("","flood-color",n.Component.numberToColor(e.color)),r.setAttributeNS("","result",t),{filterId:t,filterElement:r,filterImageArray:[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(39),i=r(0);function o(e){const t=(360-e)*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(t))+"%",y1:Math.round(50+50*Math.cos(t))+"%",x2:Math.round(50+50*Math.sin(t+Math.PI))+"%",y2:Math.round(50+50*Math.cos(t+Math.PI))+"%"}}t.getGradientFilter=function(e,t,r){const a=i.uuidv4().toString(),s=[],d=e.gradient;let u;switch(d.type){case n.GradientType.LINEAR:const e=d.angle||0;u=document.createElementNS(i.SVG_NS,"linearGradient"),u.setAttributeNS("","x1",o(e).x1),u.setAttributeNS("","x2",o(e).x2),u.setAttributeNS("","y1",o(e).y1),u.setAttributeNS("","y2",o(e).y2);break;case n.GradientType.RADIAL:default:u=document.createElementNS(i.SVG_NS,"radialGradient")}u.setAttributeNS("","id",a);const c=d.inputRange||[];d.colorRange.map((e,t)=>{const r=document.createElementNS(i.SVG_NS,"stop");c.length>t&&r.setAttributeNS("","offset",100*c[t]+"%"),"number"!=typeof e?r.setAttributeNS("","stop-color",""+e):r.setAttributeNS("","stop-color",""+i.Component.numberToColor(e)),u.appendChild(r)}),t.appendChild(u);const l=document.createElementNS(i.SVG_NS,"rect"),p=i.uuidv4().toString();l.setAttributeNS("","height","100%"),l.setAttributeNS("","width","100%"),l.setAttributeNS("","fill",`url(#${a})`),l.setAttributeNS("","id",p),t.appendChild(l),r.setAttributeNS("","href","#"+p);const f=document.createElementNS(i.SVG_NS,"feImage"),h=i.uuidv4().toString();return f.setAttributeNS("","href","#"+p),f.setAttributeNS("","result",h),s.push(f),{filterId:h,filterElement:f,filterImageArray:s}},t.getAngleCoords=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(0),o=r(34);function a(e){return`${.2126+.7874*(1-e)} ${.7152-.7152*(1-e)} ${.0722-.0722*(1-e)} 0 0\n            ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0\n            ${.2126-.2126*(1-e)} ${.7152-.7152*(1-e)} ${.0722+.9278*(1-e)} 0 0\n            0     0     0     1 0`}t.getGrayscaleFilter=function(e,t){const r=i.uuidv4().toString();let s=[];const d=document.createElementNS(i.SVG_NS,"feColorMatrix");d.setAttribute("type","matrix"),d.setAttribute("values",a(e.amount)),d.setAttributeNS("","result",r);let u=e.source;if(n.isIndexOutOfBound(u,t.length))return;u<0&&(u+=t.length);const c=t[u];return c.match(o.BITMAP_IMAGE_REGEX_CHECK)?s=n.generateSVGFeImage(c,d):d.setAttributeNS("","in",c),{filterId:r,filterElement:d,filterImageArray:s}},t.getGrayscaleMatrix=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(21),i=r(0),o=r(34);t.getSaturateFilter=function(e,t){const r=i.uuidv4().toString();let a=[];const s=document.createElementNS(i.SVG_NS,"feColorMatrix");s.setAttribute("type","saturate"),s.setAttribute("values",e.amount.toString()),s.setAttributeNS("","result",r);let d=e.source;if(n.isIndexOutOfBound(d,t.length))return;d<0&&(d+=t.length);const u=t[d];return u.match(o.BITMAP_IMAGE_REGEX_CHECK)?a=n.generateSVGFeImage(u,s):s.setAttributeNS("","in",u),{filterId:r,filterElement:s,filterImageArray:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Nothing=Symbol("Nothing"),t.isSomething=function(e){return void 0!==e&&e!==t.Nothing}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(115),o=r(20),a=r(39),s=r(68),d=r(1),u=r(117),c=r(30),l=r(65);function p(e){return n(this,void 0,void 0,(function*(){const t={scalingOption:s.ImageScale.kImageScaleBestFit,logger:d.LoggerFactory.getLogger("ScaledImageRenderer")};e=Object.assign(t,e);const{imageDimensions:r,renderer:n,logger:i,imageSource:o}=e;let{scalingOption:a}=e;const u=yield l.getImageRetrievalUtils({type:l.ImageRetrievalType.HTML,renderer:n,logger:i}).getImageElement(o),{height:c,width:p}=u,{height:f,width:h}=r,y={height:f,width:h},m=h/p,g=f/c;function v(e){const{height:t,width:r}=function(e){return{height:Math.round(c*e),width:Math.round(p*e)}}(e);b({width:r,height:t})}function b({width:e,height:t}){y.height=t,y.width=e}const P={[s.ImageScale.kImageScaleNone]:function(){b({width:p,height:c})},[s.ImageScale.kImageScaleFill]:function(){b({width:h,height:f})},[s.ImageScale.kImageScaleBestFill]:function(){v(m>g?m:g)},[s.ImageScale.kImageScaleBestFit]:function(){v(m<g?m:g)},[s.ImageScale.kImageScaleBestFitDown]:function(){let e=1;(p>h||c>f)&&(e=m<g?m:g),v(e)}};return{scaleImage:()=>(P.hasOwnProperty(a)||(i.warn(`unrecognized scaling option ${a} defaulting to 'best-fit'`),a=s.ImageScale.kImageScaleBestFit),P[a](),{scaledImageHeight:y.height,scaledImageWidth:y.width,scaledSource:o})}}))}t.getCssGradient=function(e,t){if(!e)return"";let r="";const n=e.inputRange||[],i=e.colorRange.map((e,t)=>"number"!=typeof e?n.length>t?`${e} ${100*n[t]}%`:e:n.length>t?`${c.numberToColor(e)} ${100*n[t]}%`:c.numberToColor(e)).join(",");switch(e.type){case a.GradientType.LINEAR:r=`linear-gradient(${e.angle||0}deg, ${i})`;break;case a.GradientType.RADIAL:r=`radial-gradient(${i})`;break;default:t.warn("Incorrect gradient type")}return r},t.getCssPureColorGradient=function(e){return`linear-gradient(${e}, ${e})`},t.createScaledImageProcessor=p,t.createCanvasScaledImageProcessor=function(e){return n(this,void 0,void 0,(function*(){const t={scalingOption:s.ImageScale.kImageScaleBestFit,logger:d.LoggerFactory.getLogger("ScaledImageRenderer")};e=Object.assign(t,e);const{logger:r,canvas:n,filters:a,renderer:c,imageDimensions:f,imageSource:h,applyFilterArgs:y}=e;let{scalingOption:m}=e;const g=yield l.getImageRetrievalUtils({type:l.ImageRetrievalType.HTML,renderer:c,logger:r}).getImageElement(h),{height:v,width:b}=g,{height:P,width:k}=f;if(b<=k&&v<=P)return p({logger:r,imageDimensions:f,renderer:c,imageSource:h,scalingOption:m});const S=yield l.getImageRetrievalUtils({type:l.ImageRetrievalType.CORS,renderer:c,logger:r}).getImageElement(h),T=k/b,E=P/v,x=n.getContext("2d");function w(e){const{height:t,width:r}=function(e){return{height:Math.round(v*e),width:Math.round(b*e)}}(e);C({width:r,height:t}),x.drawImage(S,0,0,b,v,0,0,r,t)}function C({width:e,height:t}){n.height=t,n.width=e,u.browserIsFirefox(window.navigator.userAgent)||(x.imageSmoothingQuality="high")}function A({width:e,height:t}){const r=(k-e)/2,n=(P-t)/2;return{xCoordinate:Math.min(r,0),yCoordinate:Math.min(n,0)}}x.clearRect(0,0,k,P);const _={[s.ImageScale.kImageScaleNone]:function(){const e=b>k?k:b,t=v>P?P:v;C({width:e,height:t});const{xCoordinate:r,yCoordinate:n}=A({width:b,height:v}),i=Math.abs(r),o=Math.abs(n),a=b>k?k:b-i,s=v>P?P:v-o;x.drawImage(S,i,o,a,s,0,0,e,t)},[s.ImageScale.kImageScaleFill]:function(){const e=k,t=P;C({width:e,height:t});const{xCoordinate:r,yCoordinate:n}=A({width:e,height:t});x.drawImage(S,r,n,e,t)},[s.ImageScale.kImageScaleBestFill]:function(){w(T>E?T:E)},[s.ImageScale.kImageScaleBestFit]:function(){w(T<E?T:E)},[s.ImageScale.kImageScaleBestFitDown]:function(){let e=1;(b>k||v>P)&&(e=T<E?T:E),w(e)}};return{scaleImage:()=>(_.hasOwnProperty(m)||(r.warn(`unrecognized scaling option ${m} defaulting to 'best-fit'`),m=s.ImageScale.kImageScaleBestFit),_[m](),function(e){const t={logger:d.LoggerFactory.getLogger("CanvasImageFiltersApplier")};e=Object.assign(t,e);const{filters:r,canvas:n,canvasRenderingContext:a,logger:s}=e,u={[o.FilterType.kFilterTypeNoise]:function(e){const{width:t,height:r}=n,o=a.getImageData(0,0,t,r);o?(new i.Noise(e.useColor,e.kind,e.sigma).addNoise(o),a.putImageData(o,0,0)):s.warn("No image data to apply filter to, skipping noise filter.")}};return{applyFiltersToImage(e){e=Object.assign({currentImageIndex:1/0,isLastIndex:!1},e);const{currentImageIndex:t,isLastIndex:n}=e;r.filter(e=>u.hasOwnProperty(e.type)).forEach(e=>{const r=e.source;(r===t||n&&-1===r)&&u[e.type](e)})}}}({canvas:n,canvasRenderingContext:x,filters:a}).applyFiltersToImage(y),{scaledSource:{url:n.toDataURL("image/png",1)},scaledImageWidth:n.width,scaledImageHeight:n.height})}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20),i=r(246),o=r(116);t.isINoise=function(e){return e.type===n.FilterType.kFilterTypeNoise};class a{constructor(e,t,r){this.generate=!1,this.z1=0,this.gaussianNoise=()=>{if(this.generate){let e=0,t=0;do{e=o.SoftRandom.random(),t=o.SoftRandom.random()}while(0===e);const r=Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*t);return this.z1=Math.sqrt(-2*Math.log(e))*Math.sin(2*Math.PI*t),this.generate=!1,r}return this.generate=!0,this.z1},this.uniformNoise=()=>Math.sqrt(3)*(2*o.SoftRandom.random()-1),this.useColor=void 0===e?a.DEFAULT_USE_COLOR:e,this.kind=t||a.DEFAULT_KIND,this.sigma=0===r?0:r||a.DEFAULT_SIGMGA}addNoise(e){o.SoftRandom.seed(a.RANDOM_SEED);const t=this.kind===i.NoiseFilterKind.kFilterNoiseKindGaussian?this.gaussianNoise:this.uniformNoise,r=e.data;for(let e=0,n=r.length;e<n;e+=4){let n=t()*this.sigma;r[e]=r[e]+n,this.useColor&&(n=t()*this.sigma),r[e+1]=r[e+1]+n,this.useColor&&(n=t()*this.sigma),r[e+2]=r[e+2]+n}return e}}a.DEFAULT_USE_COLOR=!1,a.DEFAULT_KIND=i.NoiseFilterKind.kFilterNoiseKindGaussian,a.DEFAULT_SIGMGA=10,a.RANDOM_SEED=42,t.Noise=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static seed(e){this.seedValue=Math.round(e)}static random(){const e=1103515245*n.seedValue+12345&2147483647;return this.seedValue=e,e%n.DECIMAL_MASK/n.DECIMAL_MASK}}n.DECIMAL_MASK=1e8,t.SoftRandom=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserIsFirefox=function(e){return-1!==e.toLowerCase().indexOf("firefox")},t.browserIsEdge=function(e){return/msie\s|trident\/|edge\//i.test(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kImageAlignBottom=0]="kImageAlignBottom",e[e.kImageAlignBottomLeft=1]="kImageAlignBottomLeft",e[e.kImageAlignBottomRight=2]="kImageAlignBottomRight",e[e.kImageAlignCenter=3]="kImageAlignCenter",e[e.kImageAlignLeft=4]="kImageAlignLeft",e[e.kImageAlignRight=5]="kImageAlignRight",e[e.kImageAlignTop=6]="kImageAlignTop",e[e.kImageAlignTopLeft=7]="kImageAlignTopLeft",e[e.kImageAlignTopRight=8]="kImageAlignTopRight"}(t.ImageAlign||(t.ImageAlign={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(33);class o extends i.ActionableComponent{constructor(e,t,r,n){super(e,t,r,n)}isLayout(){return!0}getCoreCurrentPage(){return this.component.getCalculated()[n.PropertyKey.kPropertyCurrentPage]}getValue(){return this.getCoreCurrentPage()}}t.PagerComponent=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(12),o=r(2),a=r(104);class s extends a.Scrollable{constructor(e,t,r,n){super(e,t,r,n),this.container.classList.add("scrollView")}init(){super.init()}getChildTopOffset(e){if(0===this.children.length)return 0;const t=this.container;let r=e.container,n=0;do{n+=r.offsetTop||0,r=r.offsetParent}while(r&&r!==t);return n}setProperties(e){const t=e=>super[e];return n(this,void 0,void 0,(function*(){t("setProperties").call(this,e),o.PropertyKey.kPropertyScrollPosition in e&&(this.container[this.scrollSide]=this.props[o.PropertyKey.kPropertyScrollPosition],this.container[this.scrollSide]!==this.props[o.PropertyKey.kPropertyScrollPosition]&&setTimeout(()=>{this.container[this.scrollSide]=this.props[o.PropertyKey.kPropertyScrollPosition]},0))}))}destroy(){i(this.container).off("scroll"),super.destroy()}}t.ScrollView=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(102);class i extends n.MultiChildScrollable{constructor(e,t,r,n){super(e,t,r,n)}}t.Sequence=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),i=r(18),o=r(33);class a extends o.ActionableComponent{constructor(e,t,r,o){super(e,t,r,o),this.updateUponChildrenChange=()=>{this.handleComponentChildrenChange();for(const e of this.props[n.PropertyKey.kPropertyNotifyChildrenChanged])e.action===i.ChildAction.Insert?this.enableClipping():this.$container.css("overflow","visible")},this.propExecutor(this.updateUponChildrenChange,n.PropertyKey.kPropertyNotifyChildrenChanged)}isLayout(){return!0}}t.TouchWrapper=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(124),i=r(126);t.VideoFactory=class{create(e,t,r,o){return e.options.environment.disallowVideo?new i.VideoHolder(e,t,r,o):new n.Video(e,t,r,o)}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),o=r(125),a=r(69),s=i.LoggerFactory.getLogger("Video");class d extends a.AbstractVideoComponent{constructor(e,t,r,n){super(e,t,r,n),this.applyCssShadow=e=>{this.videoEventProcessor.applyCssShadow({shadowParams:e})},this.mediaPlayerHandle=t.getMediaPlayer().getMediaPlayerHandle(),this.mediaPlayerHandle&&(this.videoEventProcessor=this.mediaPlayerHandle.getProcessor(),this.mediaPlayerHandle.setVideoComponent(this))}setScale(e){this.mediaPlayerHandle.getSequencer().enqueueForProcessing(o.VideoInterface.SET_SCALE,{videoComponent:this.container,scale:e})}destroy(){s.info("#destroy"),super.destroy()}play(e){return n(this,void 0,void 0,(function*(){this.mediaPlayerHandle.getSequencer().enqueueForProcessing(o.VideoInterface.PLAY,{waitForFinish:e,fromEvent:!0,isSettingSource:!1})}))}pause(){return n(this,void 0,void 0,(function*(){this.mediaPlayerHandle.pause()}))}onEvent(e){}get player(){return this.videoEventProcessor.player}get audioTrack(){return this.videoEventProcessor.audioTrack}get playbackManager(){return this.videoEventProcessor.playbackManager}get currentMediaResource(){return this.videoEventProcessor.playbackManager.getCurrent()}get currentMediaState(){return this.videoEventProcessor.currentMediaState}}t.Video=d},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1);!function(e){e.ON_EVENT="onEvent",e.PLAY_MEDIA="playMedia",e.CONTROL_MEDIA="controlMedia",e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e.SEEK="seek",e.REWIND="rewind",e.PREVIOUS="previous",e.NEXT="next",e.SET_TRACK_LIST="setTrackList",e.SET_TRACK_INDEX="setTrackIndex",e.SET_AUDIO_TRACK="setAudioTrack",e.SET_MUTED="setMuted",e.SET_SCALE="setScale",e.ON_TIME_UPDATED="onTimeUpdated",e.APPLY_CSS_SHADOW="applyCssShadow"}(t.VideoInterface||(t.VideoInterface={})),t.createMediaEventSequencer=function(e){const t={logger:i.LoggerFactory.getLogger("MediaEventSequencer")};e=Object.assign(t,e);const{mediaEventProcessor:r,logger:o}=e;let a,s=!1,d=[];function u(){return n(this,void 0,void 0,(function*(){const e=d.shift();if(!e)return void(s=!1);const[t,r]=e;yield c(t,r),a=requestAnimationFrame(u)}))}function c(e,t,i){return new Promise(a=>{(function(e,t){return n(this,void 0,void 0,(function*(){o.info("processEvent "+e),yield r[e](t)}))})(e,t).then(()=>{l(a,i)}).catch(t=>{o.warn(`error processing ${e}: ${t}`),l(a,i)})})}function l(e,t){try{t&&t()}finally{e()}}return{processExclusively(e,t){return d=[],cancelAnimationFrame(a),s=!1,new Promise(r=>n(this,void 0,void 0,(function*(){yield c(e,t,r)})))},enqueueForProcessing(e,t){o.info("enqueueEvent "+e),d.push([e,t]),s||(s=!0,u().then(void 0))},destroy(){d=[],cancelAnimationFrame(a),s=!1}}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(69);class o extends i.AbstractVideoComponent{constructor(e,t,r,n){super(e,t,r,n)}onEvent(e){}play(e=!1){return n(this,void 0,void 0,(function*(){}))}pause(){return n(this,void 0,void 0,(function*(){}))}setScale(e){}}t.VideoHolder=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kAnimationQualityNone=0]="kAnimationQualityNone",e[e.kAnimationQualitySlow=1]="kAnimationQualitySlow",e[e.kAnimationQualityNormal=2]="kAnimationQualityNormal"}(t.AnimationQuality||(t.AnimationQuality={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kPointerCancel=0]="kPointerCancel",e[e.kPointerDown=1]="kPointerDown",e[e.kPointerUp=2]="kPointerUp",e[e.kPointerMove=3]="kPointerMove",e[e.kPointerTimeUpdate=4]="kPointerTimeUpdate",e[e.kPointerTargetChanged=5]="kPointerTargetChanged"}(t.PointerEventType||(t.PointerEventType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kMousePointer=0]="kMousePointer",e[e.kTouchPointer=1]="kTouchPointer"}(t.PointerType||(t.PointerType={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),i=r(63),o=r(257),a=r(22),s=r(258),d=r(260);class u{constructor(e){if(!e)throw new Error("eventListener is null");this.eventListener=e,this.resourceMap=new Map}prepare(e,t){const r=i(),n=new a.Resource;this.resourceMap.set(r,n);let o=!1;return fetch(e).then(e=>{if("cancelled"===n.getDownloadState())return o=!0,Promise.reject(void 0);if(!e.ok)throw new Error("Provided URL download failed with status code "+e.status);return e.arrayBuffer()}).then(e=>{if("cancelled"===n.getDownloadState())return o=!0,Promise.reject(void 0);const i=(new s.Demuxer).demux(e);if(t)try{const t=d.extractTextFrames(e);t.length>0&&this.eventListener.onMarker(r,t)}catch(e){u.logger.warn("Failed to extract text frames")}n.setBuffer(i),n.setDownloadState("complete"),this.eventListener.onPrepared(r)}).catch(e=>{o||this.onError(r,e),this.resourceMap.delete(r)}),r}onPlaybackFinished(e){this.eventListener.onPlaybackFinished(e)}onError(e,t){this.eventListener.onError(e,t)}playWithContext(e,t){const r=this.resourceMap.get(e);r&&r.getBuffer()?this.decodePromise||this.currentSource?this.onError(e,"Previous request not complete"):this.decodePromise=new o.CancelablePromise(t.decodeAudioData(r.getBuffer()),r=>{const n=this.getConnectedAudioNode(t);this.currentSource=t.createBufferSource(),this.currentSource.buffer=r,this.currentSource.connect(n),this.currentSource.onended=t=>{this.currentSource.disconnect(),n.disconnect(),this._audioNode=null,this.currentSource=null,this.onPlaybackFinished(e),this.resourceMap.delete(e)},this.currentSource.start(),this.eventListener.onPlaybackStarted(e),this.decodePromise=null},t=>{this.onError(e,t),this.decodePromise=null}):this.onError(e,"Not prepared")}setCurrentAudioNode(e){this.disconnectCurrentAudioNode(),this._audioNode=e}getConnectedAudioNode(e){return this._audioNode||(this._audioNode=e.createGain(),this._audioNode.connect(e.destination)),this._audioNode}disconnectCurrentAudioNode(){this._audioNode&&this._audioNode.disconnect()}cancelPendingAndRemoveCompleted(){const e=[];this.resourceMap.forEach((t,r)=>{const n=t.getDownloadState();"pending"===n?t.setDownloadState("cancelled"):"complete"===n&&e.push(r)}),e.forEach(e=>{this.resourceMap.delete(e)})}flush(){this.decodePromise?(this.decodePromise.cancel(),this.decodePromise=null):this.currentSource&&this.currentSource.stop(),this.cancelPendingAndRemoveCompleted()}}u.logger=n.LoggerFactory.getLogger("AudioPlayer"),t.AudioPlayer=u},function(e,t,r){var n,i,o;!function(a,s){"use strict";i=[t,r(23)],void 0!==(o="function"==typeof(n=function(e,t){var r={AENC:"Audio encryption",APIC:"Attached picture",CHAP:"Chapter",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},n={T:function(e,r,n){var i={encoding:e.getUint8(r)};return i.value=t.readStr[0===i.encoding?"iso":"ucs"](e,r+1,n-1),i},TXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var o=0===i.encoding?"iso":"ucs",a=r+1,s=t.locateStrTrm[o](e,a,n-4);return-1===s||(i.description=t.readStr[o](e,a,s-a),s+="ucs"===o?2:1,i.value=t.readStr[o](e,s,r+n-s)),i},W:function(e,r,n){return{value:t.readStr.iso(e,r,n)}},WXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var o=0===i.encoding?"iso":"ucs",a=r+1,s=t.locateStrTrm[o](e,a,n-4);return-1===s||(i.description=t.readStr[o](e,a,s-a),s+="ucs"===o?2:1,i.value=t.readStr.iso(e,s,r+n-s)),i},COMM:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;var o=0===i.encoding?"iso":"ucs",a=r+4;i.language=t.readTrmStr.iso(e,r+1,3);var s=t.locateStrTrm[o](e,a,n-4);return-1===s||(i.description=t.readStr[o](e,a,s-a),s+="ucs"===o?2:1,i.text=t.readStr[o](e,s,r+n-s)),i},UFID:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,identifier:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},IPLS:function(e,r,n){for(var i,o={encoding:e.getUint8(r),values:[]},a=0===o.encoding?"iso":"ucs",s=r+1;s<r+n;)-1===(i=t.locateStrTrm[a](e,s,n-(s-r)))&&(i=r+n),o.values.push(t.readStr[a](e,s,i-s)),s=i+("ucs"===a?2:1);return o},USER:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;i.language=t.readTrmStr.iso(e,r+1,3);var o=r+4,a=0===i.encoding?"iso":"ucs";return i.text=t.readStr[a](e,o,r+n-o),i},PRIV:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,privateData:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},PCNT:function(e,t,r){return r<4?{}:{counter:e.getUint32(t)}},POPM:function(e,r,n){var i={email:t.readTrmStr.iso(e,r,n)};return r+=i.email.length+1,n<6||(i.rating=e.getUint8(r),i.counter=e.getUint32(r+1)),i},APIC:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<4)return i;var o,a,s=0===i.encoding?"iso":"ucs";return o=r+1,-1===(a=t.locateStrTrm.iso(e,o,n-1))||(i.mimeType=t.readStr.iso(e,o,a-o),o=a+1,i.pictureType=e.getUint8(o),o+=1,-1===(a=t.locateStrTrm[s](e,o,r+n-o))||(i.description=t.readStr[s](e,o,a-o),o=a+("ucs"===s?2:1),i.pictureData=new DataView(e.buffer,o,r+n-o))),i},CHAP:function(r,n,i){var o={encoding:r.getUint8(n)},a=t.locateStrTrm.iso(r,n,i-1);if(-1===a)return o;o.id=t.readStr.iso(r,n,a-n),o.startTime=r.getUint32(a+1),o.endTime=r.getUint32(a+5),o.startOffset=r.getUint32(a+9),o.endOffset=r.getUint32(a+13);var s=a+17;for(o.frames=[];s<n+i;){var d=e.readId3v2TagFrame(r,s);o.frames.push(d),s+=d.header.size+10}return o}};e.readId3v2TagFrame=function(e,i){var o={header:{id:t.readStr.iso(e,i,4),size:e.getUint32(i+4),flagsOctet1:e.getUint8(i+8),flagsOctet2:e.getUint8(i+9)}};if(o.header.size<1)return o;var a,s,d=(a=n,"TXXX"===(s=o.header.id)?a.TXXX:"T"===s.charAt(0)?a.T:"WXXX"===s?a.WXXX:"W"===s.charAt(0)?a.W:"COMM"===s||"USLT"===s?a.COMM:a[s]||t.noOp);return o.name=r[o.header.id],o.content=d(e,i+10,o.header.size),o},e.readId3v2Tag=function(r,n){if(n||(n=0),r.byteLength-n<10)return null;if(!t.isSeq(t.seq.id3,r,n))return null;var i=r.getUint8(n+5),o={_section:{type:"ID3v2",offset:n},header:{majorVersion:r.getUint8(n+3),minorRevision:r.getUint8(n+4),flagsOctet:i,unsynchronisationFlag:128==(128&i),extendedHeaderFlag:64==(64&i),experimentalIndicatorFlag:32==(32&i),size:t.unsynchsafe(r.getUint32(n+6))},frames:[]};o._section.byteLength=o.header.size+10;var a,s=n+o._section.byteLength;if(3!==o.header.majorVersion)return o;for(n+=10;n<s&&0!==r.getUint32(n)&&(a=e.readId3v2TagFrame(r,n));)o.frames.push(a),n+=a.header.size+10;return o}})?n.apply(t,i):n)&&(e.exports=o)}()},function(e,t,r){var n,i,o;!function(a,s){"use strict";i=[t,r(23)],void 0!==(o="function"==typeof(n=function(e,t){e.readXingTag=function(e,r){r||(r=0);var n={_section:{type:"Xing",offset:r},header:t.readFrameHeader(e,r)},i=n.header;if(!i)return null;var o=r+t.getXingOffset(i.mpegAudioVersionBits,i.channelModeBits);return e.byteLength<o+4?null:(n.identifier=t.isSeq(t.seq.xing,e,o)?"Xing":t.isSeq(t.seq.info,e,o)&&"Info",n.identifier?(n._section.byteLength=t.getFrameByteLength(i.bitrate,i.samplingRate,i.framePadding,i.mpegAudioVersionBits,i.layerDescriptionBits),n._section.nextFrameIndex=r+n._section.byteLength,n):null)}})?n.apply(t,i):n)&&(e.exports=o)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAudioContextProvider=class{getAudioContext(){return this.audioContext||(this.audioContext=new AudioContext),Promise.resolve(this.audioContext)}releaseAudioContext(e){return this.audioContext?this.audioContext.close().then(()=>{this.audioContext=null}):Promise.resolve()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kAudioTrackBackground=0]="kAudioTrackBackground",e[e.kAudioTrackForeground=1]="kAudioTrackForeground",e[e.kAudioTrackNone=2]="kAudioTrackNone"}(t.AudioTrack||(t.AudioTrack={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kVideoScaleBestFill=0]="kVideoScaleBestFill",e[e.kVideoScaleBestFit=1]="kVideoScaleBestFit"}(t.VideoScale||(t.VideoScale={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEFAULT=-1]="DEFAULT",e[e.GENERIC=0]="GENERIC"}(t.MediaErrorCode||(t.MediaErrorCode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(63);t.PlaybackManager=class{constructor(){this.resources=new Map}setup(e){if(this.resources.clear(),Array.isArray(e)){let t=0;for(const r of e)this.addToPlaylist(t,r),t++}else this.addToPlaylist(0,e);this.current=0}getCurrentIndex(){return this.current}getTrackCount(){return this.resources.size}getCurrent(){const e=this.resources.get(this.current);if(!e)throw new Error("Sources misconfigured.");return e}next(){return this.current<this.resources.size-1&&(this.resources.get(this.current).loaded=!1,this.current++),this.reset(),this.getCurrent()}previous(){return this.current>0&&(this.resources.get(this.current).loaded=!1,this.current--),this.reset(),this.getCurrent()}setCurrent(e){this.current!==e&&(this.resources.get(this.current).loaded=!1),this.current=e,this.reset()}hasNext(){return!(!this.resources.get(this.current)||!this.resources.get(this.current+1))}hasPrevious(){return!(!this.resources.get(this.current)||!this.resources.get(this.current-1))}repeat(){const e=this.resources.get(this.current);return!(!e||-1!==e.repeatCount)||!!(e&&e.toRepeat>0)&&(e.toRepeat--,!0)}addToPlaylist(e,t){const r={id:n(),offset:t.offset,repeatCount:t.repeatCount,toRepeat:t.repeatCount,trackIndex:e,url:t.url,loaded:!1,duration:t.duration};this.resources.set(e,r)}reset(){const e=this.resources.get(this.current);e&&(e.toRepeat=e.repeatCount)}}},function(e,t,r){"undefined"!=typeof window&&(e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=13)}([function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var n=r(5);function i(){}var o={trace:i,debug:i,log:i,warn:i,info:i,error:i},a=o;function s(e,t){return"["+e+"] > "+t}var d=Object(n.a)();function u(e){var t=d.console[e];return t?function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];n[0]&&(n[0]=s(e,n[0])),t.apply(d.console,n)}:i}var c=function(e){if(d.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){a[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o},l=a},function(e,t,r){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},function(e,t,r){"use strict";var n,i;r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(n||(n={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException"}(i||(i={}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n,i=r(5),o=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var n=r,i=0;e.isHeader(t,r);)i+=10,i+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(i+=10),r+=i;if(i>0)return t.subarray(n,n+i)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,(r|=(127&e[t+2])<<7)|127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),n=0;n<r.length;n++){var i=r[n];if(e.isTimeStampFrame(i))return e._readTimeStamp(i)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),n=e._readSize(t,4);return{type:r,size:n,data:t.subarray(10,10+n)}},e.getID3Frames=function(t){for(var r=0,n=[];e.isHeader(t,r);){for(var i=e._readSize(t,r+6),o=(r+=10)+i;r+8<o;){var a=e._getFrameData(t.subarray(r)),s=e._decodeFrame(a);s&&n.push(s),r+=a.size+10}e.isFooter(t,r)&&(r+=10)}return n},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),n=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:n.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,n=e._utf8ArrayToStr(t.data.subarray(r),!0);r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var o=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:o}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,n=e._utf8ArrayToStr(t.data.subarray(r));r+=n.length+1;var i=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:n,data:i}}var o=e._utf8ArrayToStr(t.data);return{key:t.type,data:o}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);var r=a();if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var o,s,d,u=e.length,c="",l=0;l<u;){if(0===(o=e[l++])&&t)return c;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:s=e[l++],c+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=e[l++],d=e[l++],c+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&d)<<0)}}return c},e}();function a(){var e=Object(i.a)();return n||void 0===e.TextDecoder||(n=new e.TextDecoder("utf-8")),n}var s=o._utf8ArrayToStr;t.a=o},function(e,t,r){"use strict";function n(){return"undefined"==typeof window?self:window}r.d(t,"a",(function(){return n}))},function(e,t){e.exports=void 0},function(e,t,r){var n,i,o,a,s;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=s.normalizePath(n.path),s.buildURLFromParts(n)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var d=i.exec(a.path);a.netLoc=d[1],a.path=d[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,l=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(l)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=r.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),d=i?i+t:t;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],s]:e._events[d].push(s):(e._events[d]=s,e._eventsCount++),e}function d(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var d,u,c=this._events[s],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(u=1,d=new Array(l-1);u<l;u++)d[u-1]=arguments[u];c.fn.apply(c.context,d)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!d)for(p=1,d=new Array(l-1);p<l;p++)d[p-1]=arguments[p];c[u].fn.apply(c[u].context,d)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return d(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||d(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:d(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&d(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";var n=r(1),i=r(2),o=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),a=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),s=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],a=r[3],s=this.invSubMix,d=s[0],u=s[1],c=s[2],l=s[3],p=new Uint32Array(256),f=0,h=0,y=0;for(y=0;y<256;y++)p[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var m=h^h<<1^h<<2^h<<3^h<<4;m=m>>>8^255&m^99,e[f]=m,t[m]=f;var g=p[f],v=p[g],b=p[v],P=257*p[m]^16843008*m;n[f]=P<<24|P>>>8,i[f]=P<<16|P>>>16,o[f]=P<<8|P>>>24,a[f]=P,P=16843009*b^65537*v^257*g^16843008*f,d[m]=P<<24|P>>>8,u[m]=P<<16|P>>>16,c[m]=P<<8|P>>>24,l[m]=P,f?(f=g^p[p[p[b^g]]],h^=p[p[h]]):f=h=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,d,u=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(u),l=this.invKeySchedule=new Uint32Array(u),p=this.sBox,f=this.rcon,h=this.invSubMix,y=h[0],m=h[1],g=h[2],v=h[3];for(o=0;o<u;o++)o<i?s=c[o]=t[o]:(d=s,o%i==0?(d=p[(d=d<<8|d>>>24)>>>24]<<24|p[d>>>16&255]<<16|p[d>>>8&255]<<8|p[255&d],d^=f[o/i|0]<<24):i>6&&o%i==4&&(d=p[d>>>24]<<24|p[d>>>16&255]<<16|p[d>>>8&255]<<8|p[255&d]),c[o]=s=(c[o-i]^d)>>>0);for(a=0;a<u;a++)o=u-a,d=3&a?c[o]:c[o-4],l[a]=a<4||o<=4?d:y[p[d>>>24]]^m[p[d>>>16&255]]^g[p[d>>>8&255]]^v[p[255&d]],l[a]=l[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r,n){for(var i,o,a,s,d,u,c,l,p,f,h,y,m,g,v,b,P,k=this.keySize+6,S=this.invKeySchedule,T=this.invSBox,E=this.invSubMix,x=E[0],w=E[1],C=E[2],A=E[3],_=this.uint8ArrayToUint32Array_(r),L=_[0],I=_[1],R=_[2],M=_[3],D=new Int32Array(e),O=new Int32Array(D.length),F=this.networkToHostOrderSwap;t<D.length;){for(p=F(D[t]),f=F(D[t+1]),h=F(D[t+2]),y=F(D[t+3]),d=p^S[0],u=y^S[1],c=h^S[2],l=f^S[3],m=4,g=1;g<k;g++)i=x[d>>>24]^w[u>>16&255]^C[c>>8&255]^A[255&l]^S[m],o=x[u>>>24]^w[c>>16&255]^C[l>>8&255]^A[255&d]^S[m+1],a=x[c>>>24]^w[l>>16&255]^C[d>>8&255]^A[255&u]^S[m+2],s=x[l>>>24]^w[d>>16&255]^C[u>>8&255]^A[255&c]^S[m+3],d=i,u=o,c=a,l=s,m+=4;i=T[d>>>24]<<24^T[u>>16&255]<<16^T[c>>8&255]<<8^T[255&l]^S[m],o=T[u>>>24]<<24^T[c>>16&255]<<16^T[l>>8&255]<<8^T[255&d]^S[m+1],a=T[c>>>24]<<24^T[l>>16&255]<<16^T[d>>8&255]<<8^T[255&u]^S[m+2],s=T[l>>>24]<<24^T[d>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^S[m+3],m+=3,O[t]=F(i^L),O[t+1]=F(s^I),O[t+2]=F(a^R),O[t+3]=F(o^M),L=p,I=f,R=h,M=y,t+=4}return n?(P=(b=(v=O.buffer).byteLength)&&new DataView(v).getUint8(b-1))?v.slice(0,b-P):v:O.buffer},t.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),d=r(0),u=r(5),c=Object(u.a)(),l=function(){function e(e,t,r){var n=(void 0===r?{}:r).removePKCS7Padding,i=void 0===n||n;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var o=c.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}var t=e.prototype;return t.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.decrypt=function(e,t,r,n){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(d.b.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new s),u.expandKey(t),n(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(d.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new a(c,t)),this.fastAesKey.expandKey().then((function(a){new o(c,r).decrypt(e,a).catch((function(o){i.onWebCryptoError(o,e,t,r,n)})).then((function(e){n(e)}))})).catch((function(o){i.onWebCryptoError(o,e,t,r,n)}))}},t.onWebCryptoError=function(e,t,r,o,a){this.config.enableSoftwareAES?(d.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,o,a)):(d.b.error("decrypting error : "+e.message),this.observer.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},t.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}(),p=r(3);function f(e,t){return 255===e[t]&&240==(246&e[t+1])}function h(e,t){return 1&e[t+1]?7:9}function y(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function m(e,t){return!!(t+1<e.length&&f(e,t))}function g(e,t){if(m(e,t)){var r=h(e,t);t+5<e.length&&(r=y(e,t));var n=t+r;if(n===e.length||n+1<e.length&&f(e,n))return!0}return!1}function v(e,t,r,o,a){if(!e.samplerate){var s=function(e,t,r,o){var a,s,u,c,l,p=navigator.userAgent.toLowerCase(),f=o,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&t[r+2])>>>6),!((s=(60&t[r+2])>>>2)>h.length-1))return c=(1&t[r+2])<<2,c|=(192&t[r+3])>>>6,d.b.log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+c),/firefox/i.test(p)?s>=6?(a=5,l=new Array(4),u=s-3):(a=2,l=new Array(2),u=s):-1!==p.indexOf("android")?(a=2,l=new Array(2),u=s):(a=5,l=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&s>=6?u=s-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(s>=6&&1===c||/vivaldi/i.test(p))||!o&&1===c)&&(a=2,l=new Array(2)),u=s)),l[0]=a<<3,l[0]|=(14&s)>>1,l[1]|=(1&s)<<7,l[1]|=c<<3,5===a&&(l[1]|=(14&u)>>1,l[2]=(1&u)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:h[s],channelCount:c,codec:"mp4a.40."+a,manifestCodec:f};e.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s})}(t,r,o,a);e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,d.b.log("parsed codec:"+e.codec+",rate:"+s.samplerate+",nb channel:"+s.channelCount)}}function b(e){return 9216e4/e}function P(e,t,r,n,i){var o=function(e,t,r,n,i){var o,a,s=e.length;if(o=h(e,t),a=y(e,t),(a-=o)>0&&t+o+a<=s)return{headerLength:o,frameLength:a,stamp:r+n*i}}(t,r,n,i,b(e.samplerate));if(o){var a=o.stamp,s=o.headerLength,d=o.frameLength,u={unit:t.subarray(r+s,r+s+d),pts:a,dts:a};return e.samples.push(u),{sample:u,length:d+s}}}var k=r(4),S=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=(k.a.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(g(e,t))return d.b.log("ADTS sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=this._audioTrack,o=k.a.getID3Data(e,0)||[],a=k.a.getTimeStamp(o),s=Object(p.a)(a)?90*a:9e4*t,u=0,c=s,l=e.length,f=o.length,h=[{pts:c,dts:c,data:o}];f<l-1;)if(m(e,f)&&f+5<l){v(i,this.observer,e,f,i.manifestCodec);var y=P(i,e,f,s,u);if(!y){d.b.log("Unable to parse AAC frame");break}f+=y.length,c=y.sample.pts,u++}else k.a.isHeader(e,f)?(o=k.a.getID3Data(e,f),h.push({pts:c,dts:c,data:o}),f+=o.length):f++;this.remuxer.remux(i,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),T=r(10),E={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,n,i){if(!(r+24>t.length)){var o=this.parseHeader(t,r);if(o&&r+o.frameLength<=t.length){var a=n+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(r,r+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,o=e[t+2]>>2&3,a=e[t+2]>>1&1;if(1!==r&&0!==i&&15!==i&&3!==o){var s=3===r?3-n:3===n?3:4,d=1e3*E.BitratesMap[14*s+i-1],u=3===r?0:2===r?1:2,c=E.SamplingRateMap[3*u+o],l=e[t+3]>>6==3?1:2,p=E.SamplesCoefficients[r][n],f=E.BytesInSlot[n],h=8*p*f;return{sampleRate:c,channelCount:l,frameLength:parseInt(p*d/c+a,10)*f,samplesPerFrame:h}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),n=4;r&&r.frameLength&&(n=r.frameLength);var i=t+n;if(i===e.length||i+1<e.length&&this.isHeaderPattern(e,i))return!0}return!1}},x=E,w=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&d.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){var t,r=8,n=8;for(t=0;t<e;t++)0!==n&&(n=(r+this.readEG()+256)%256),r=0===n?r:n},t.readSPS=function(){var e,t,r,n,i,o,a,s=0,d=0,u=0,c=0,l=this.readUByte.bind(this),p=this.readBits.bind(this),f=this.readUEG.bind(this),h=this.readBoolean.bind(this),y=this.skipBits.bind(this),m=this.skipEG.bind(this),g=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(l(),e=l(),p(5),y(3),l(),g(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=f();if(3===b&&y(1),g(),g(),y(1),h())for(o=3!==b?8:12,a=0;a<o;a++)h()&&v(a<6?16:64)}g();var P=f();if(0===P)f();else if(1===P)for(y(1),m(),m(),t=f(),a=0;a<t;a++)m();g(),y(1),r=f(),n=f(),0===(i=p(1))&&y(1),y(1),h()&&(s=f(),d=f(),u=f(),c=f());var k=[1,1];if(h()&&h())switch(l()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[l()<<8|l(),l()<<8|l()]}return{width:Math.ceil(16*(r+1)-2*s-2*d),height:(2-i)*(n+1)*16-(i?2:4)*(u+c),pixelRatio:k}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),C=function(){function e(e,t,r,n){this.decryptdata=r,this.discardEPB=n,this.decrypter=new l(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},t.decryptAacSample=function(e,t,r,n){var i=e[t].unit,o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),i.set(o,16),n||s.decryptAacSamples(e,t+1,r)}))},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,n),!n)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<=e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,n=32;n<=e.length-16;n+=160,r+=16)e.set(t.subarray(r,r+16),n);return e},t.decryptAvcSample=function(e,t,r,n,i,o){var a=this.discardEPB(i.data),s=this.getAvcEncryptedData(a),d=this;this.decryptBuffer(s.buffer,(function(s){i.data=d.getAvcDecryptedUnit(a,s),o||d.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var o=i[r];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,n,o,a),!a)return}}}},e}(),A={video:1,audio:2,id3:3,text:4},_=function(){function e(e,t,r,n){this.observer=e,this.config=r,this.typeSupported=n,this.remuxer=t,this.sampleAes=null}var t=e.prototype;return t.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new C(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0||(r&&d.b.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:A[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",i),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3",i),this._txtTrack=e.createTrack("text",i),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.append=function(t,r,o,a){var s,u,c,l,p,f=t.length,h=!1;this.contiguous=o;var y=this.pmtParsed,m=this._avcTrack,g=this._audioTrack,v=this._id3Track,b=m.pid,P=g.pid,k=v.pid,S=this._pmtId,T=m.pesData,E=g.pesData,x=v.pesData,w=this._parsePAT,C=this._parsePMT,A=this._parsePES,_=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),I=this._parseMPEGPES.bind(this),R=this._parseID3PES.bind(this),M=e._syncOffset(t);for(f-=(f+M)%188,s=M;s<f;s+=188)if(71===t[s]){if(u=!!(64&t[s+1]),c=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((l=s+5+t[s+4])===s+188)continue}else l=s+4;switch(c){case b:u&&(T&&(p=A(T))&&_(p,!1),T={data:[],size:0}),T&&(T.data.push(t.subarray(l,s+188)),T.size+=s+188-l);break;case P:u&&(E&&(p=A(E))&&(g.isAAC?L(p):I(p)),E={data:[],size:0}),E&&(E.data.push(t.subarray(l,s+188)),E.size+=s+188-l);break;case k:u&&(x&&(p=A(x))&&R(p),x={data:[],size:0}),x&&(x.data.push(t.subarray(l,s+188)),x.size+=s+188-l);break;case 0:u&&(l+=t[l]+1),S=this._pmtId=w(t,l);break;case S:u&&(l+=t[l]+1);var D=C(t,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(b=D.avc)>0&&(m.pid=b),(P=D.audio)>0&&(g.pid=P,g.isAAC=D.isAAC),(k=D.id3)>0&&(v.pid=k),h&&!y&&(d.b.log("reparse from beginning"),h=!1,s=M-188),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:h=!0}}else this.observer.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(p=A(T))?(_(p,!0),m.pesData=null):m.pesData=T,E&&(p=A(E))?(g.isAAC?L(p):I(p),g.pesData=null):(E&&E.size&&d.b.log("last AAC PES packet truncated,might overlap between fragments"),g.pesData=E),x&&(p=A(x))?(R(p),v.pesData=null):v.pesData=x,null==this.sampleAes?this.remuxer.remux(g,m,v,this._txtTrack,r,o,a):this.decryptAndRemux(g,m,v,this._txtTrack,r,o,a)},t.decryptAndRemux=function(e,t,r,n,i,o,a){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){s.decryptAndRemuxAvc(e,t,r,n,i,o,a)}))}else this.decryptAndRemuxAvc(e,t,r,n,i,o,a)},t.decryptAndRemuxAvc=function(e,t,r,n,i,o,a){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){s.remuxer.remux(e,t,r,n,i,o,a)}))}else this.remuxer.remux(e,t,r,n,i,o,a)},t.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},t._parsePMT=function(e,t,r,n){var i,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(i=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<i;){switch(o=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!n){d.b.log("unknown stream type:"+e[t]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!n){d.b.log("unknown stream type:"+e[t]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:r?-1===a.audio&&(a.audio=o,a.isAAC=!1):d.b.log("MPEG audio found, not supported in this browser for now");break;case 36:d.b.warn("HEVC stream type found, not supported for now");break;default:d.b.log("unknown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a},t._parsePES=function(e){var t,r,n,i,o,a,s,u,c=0,l=e.data;if(!e||0===e.size)return null;for(;l[0].length<19&&l.length>1;){var p=new Uint8Array(l[0].length+l[1].length);p.set(l[0]),p.set(l[1],l[0].length),l[0]=p,l.splice(1,1)}if(1===((t=l[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;if(192&(r=t[7])&&((a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(a-=8589934592),64&r?((s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592),a-s>54e5&&(d.b.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),u=(i=t[8])+9,e.size<=u)return null;e.size-=u,o=new Uint8Array(e.size);for(var f=0,h=l.length;f<h;f++){var y=(t=l[f]).byteLength;if(u){if(u>y){u-=y;continue}t=t.subarray(u),y-=u,u=0}o.set(t,c),c+=y}return n&&(n-=i+3),{data:o,pts:a,dts:s,len:n}}return null},t.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,n=r.length;if(isNaN(e.pts)){if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(n||this.contiguous)?(e.id=n,r.push(e)):t.dropped++}e.debug.length&&d.b.log(e.pts+"/"+e.dts+":"+e.debug)},t._parseAVCPES=function(e,t){var r,n,i,o=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),d=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),l=function(e,t,r,n){return{key:e,pts:t,dts:r,units:[],debug:n}};e.data=null,d&&s.length&&!a.audFound&&(c(d,a),d=this.avcSample=l(!1,e.pts,e.dts,"")),s.forEach((function(t){switch(t.type){case 1:n=!0,d||(d=o.avcSample=l(!0,e.pts,e.dts,"")),d.frame=!0;var s=t.data;if(u&&s.length>4){var p=new w(s).readSliceType();2!==p&&4!==p&&7!==p&&9!==p||(d.key=!0)}break;case 5:n=!0,d||(d=o.avcSample=l(!0,e.pts,e.dts,"")),d.key=!0,d.frame=!0;break;case 6:n=!0,(r=new w(o.discardEPB(t.data))).readUByte();for(var f=0,h=0,y=!1,m=0;!y&&r.bytesAvailable>1;){f=0;do{f+=m=r.readUByte()}while(255===m);h=0;do{h+=m=r.readUByte()}while(255===m);if(4===f&&0!==r.bytesAvailable){if(y=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var g=r.readUByte(),v=31&g,b=[g,r.readUByte()];for(i=0;i<v;i++)b.push(r.readUByte()),b.push(r.readUByte()),b.push(r.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:b})}}else if(5===f&&0!==r.bytesAvailable){if(y=!0,h>16){var P=[];for(i=0;i<16;i++)P.push(r.readUByte().toString(16)),3!==i&&5!==i&&7!==i&&9!==i||P.push("-");var S=h-16,T=new Uint8Array(S);for(i=0;i<S;i++)T[i]=r.readUByte();o._insertSampleInOrder(o._txtTrack.samples,{pts:e.pts,payloadType:f,uuid:P.join(""),userDataBytes:T,userData:Object(k.b)(T.buffer)})}}else if(h<r.bytesAvailable)for(i=0;i<h;i++)r.readUByte()}break;case 7:if(n=!0,u=!0,!a.sps){var E=(r=new w(t.data)).readSPS();a.width=E.width,a.height=E.height,a.pixelRatio=E.pixelRatio,a.sps=[t.data],a.duration=o._duration;var x=t.data.subarray(1,4),C="avc1.";for(i=0;i<3;i++){var A=x[i].toString(16);A.length<2&&(A="0"+A),C+=A}a.codec=C}break;case 8:n=!0,a.pps||(a.pps=[t.data]);break;case 9:n=!1,a.audFound=!0,d&&c(d,a),d=o.avcSample=l(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,d&&(d.debug+="unknown NAL "+t.type+" ")}d&&n&&d.units.push(t)})),t&&d&&(c(d,a),this.avcSample=null)},t._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var n=r-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)},t._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t._parseAVCNALu=function(e){var t,r,n,i,o=0,a=e.byteLength,s=this._avcTrack,d=s.naluState||0,u=d,c=[],l=-1;for(-1===d&&(l=0,i=31&e[0],d=0,o=1);o<a;)if(t=e[o++],d)if(1!==d)if(t)if(1===t){if(l>=0)n={data:e.subarray(l,o-d-1),type:i},c.push(n);else{var p=this._getLastNalUnit();if(p&&(u&&o<=4-u&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-u)),(r=o-d-1)>0)){var f=new Uint8Array(p.data.byteLength+r);f.set(p.data,0),f.set(e.subarray(0,r),p.data.byteLength),p.data=f}}o<a?(l=o,i=31&e[o],d=0):d=-1}else d=0;else d=3;else d=t?0:2;else d=t?0:1;if(l>=0&&d>=0&&(n={data:e.subarray(l,a),type:i,state:d},c.push(n)),0===c.length){var h=this._getLastNalUnit();if(h){var y=new Uint8Array(h.data.byteLength+e.byteLength);y.set(h.data,0),y.set(e,h.data.byteLength),h.data=y}}return s.naluState=d,c},t.discardEPB=function(e){for(var t,r,n=e.byteLength,i=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=n-i.length,r=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),r[o]=e[a];return r},t._parseAACPES=function(e){var t,r,o,a,s,u,c,l=this._audioTrack,p=e.data,f=e.pts,h=this.aacOverFlow,y=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+p.byteLength);g.set(h,0),g.set(p,h.byteLength),p=g}for(o=0,s=p.length;o<s-1&&!m(p,o);o++);if(!o||(o<s-1?(u="AAC PES did not start with ADTS header,offset:"+o,c=!1):(u="no ADTS header found in AAC PES",c=!0),d.b.warn("parsing error:"+u),this.observer.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:c,reason:u}),!c)){if(v(l,this.observer,p,o,this.audioCodec),r=0,t=b(l.samplerate),h&&y){var k=y+t;Math.abs(k-f)>1&&(d.b.log("AAC: align PTS for overlapping frames by "+Math.round((k-f)/90)),f=k)}for(;o<s;){if(m(p,o)){if(o+5<s){var S=P(l,p,o,f,r);if(S){o+=S.length,a=S.sample.pts,r++;continue}}break}o++}h=o<s?p.subarray(o,s):null,this.aacOverFlow=h,this.aacLastPTS=a}},t._parseMPEGPES=function(e){for(var t=e.data,r=t.length,n=0,i=0,o=e.pts;i<r;)if(x.isHeader(t,i)){var a=x.appendFrame(this._audioTrack,t,i,o,n);if(!a)break;i+=a.length,n++}else i++},t._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),L=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:n,inputTimeScale:9e4}},t.resetTimeStamp=function(){},e.probe=function(e){var t,r,n=k.a.getID3Data(e,0);if(n&&void 0!==k.a.getTimeStamp(n))for(t=n.length,r=Math.min(e.length-1,t+100);t<r;t++)if(x.probe(e,t))return d.b.log("MPEG Audio sync word found !"),!0;return!1},t.append=function(e,t,r,n){for(var i=k.a.getID3Data(e,0),o=k.a.getTimeStamp(i),a=o?90*o:9e4*t,s=i.length,d=e.length,u=0,c=0,l=this._audioTrack,p=[{pts:a,dts:a,data:i}];s<d;)if(x.isHeader(e,s)){var f=x.appendFrame(l,e,s,a,u);if(!f)break;s+=f.length,c=f.sample.pts,u++}else k.a.isHeader(e,s)?(i=k.a.getID3Data(e,s),p.push({pts:c,dts:c,data:i}),s+=i.length):s++;this.remuxer.remux(l,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,n)},t.destroy=function(){},e}(),I=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),R=Math.pow(2,32)-1,M=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),d=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,d,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),n=8,i=r.length,o=i;i--;)n+=r[i].byteLength;for((t=new Uint8Array(n))[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),i=0,n=8;i<o;i++)t.set(r[i],n),n+=r[i].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(R+1)),i=Math.floor(r%(R+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(R+1)),i=Math.floor(r%(R+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,o)},e.sdtp=function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,o=[],a=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),d=t.width,u=t.height,c=t.pixelRatio[0],l=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,255&d,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,l>>24,l>>16&255,l>>8&255,255&l])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,o=t.height,a=Math.floor(n/(R+1)),s=Math.floor(n%(R+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,o=Math.floor(r/(R+1)),a=Math.floor(r%(R+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,o,a,s,d,u=t.samples||[],c=u.length,l=12+16*c,p=new Uint8Array(l);for(r+=8+l,p.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)o=(i=u[n]).duration,a=i.size,s=i.flags,d=i.cts,p.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*n);return e.box(e.types.trun,p)},e.initSegment=function(t){e.types||e.init();var r,n=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+n.byteLength)).set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();function D(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function O(e,t){return void 0===t&&(t=!1),D(e,1e3,1/9e4,t)}function F(e,t){return void 0===t&&(t=1),D(e,9e4,1/t)}var N,G=F(10),B=F(.2),U=function(){function e(e,t,r,n){this.observer=e,this.config=t,this.typeSupported=r;var i=navigator.userAgent;this.isSafari=n&&n.indexOf("Apple")>-1&&i&&!i.match("CriOS"),this.ISGenerated=!1}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},t.resetInitSegment=function(){this.ISGenerated=!1},t.remux=function(e,t,r,i,o,a,s){if(this.ISGenerated||this.generateIS(e,t,o),this.ISGenerated){var u=e.samples.length,c=t.samples.length,l=o,p=o;if(u&&c){var f=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;l+=Math.max(0,f),p+=Math.max(0,-f)}if(u){e.timescale||(d.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,o));var h,y=this.remuxAudio(e,l,a,s);c&&(y&&(h=y.endPTS-y.startPTS),t.timescale||(d.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,o)),this.remuxVideo(t,p,a,h,s))}else if(c){var m=this.remuxVideo(t,p,a,0,s);m&&e.codec&&this.remuxEmptyAudio(e,l,a,m)}}r.samples.length&&this.remuxID3(r,o),i.samples.length&&this.remuxText(i,o),this.observer.trigger(n.a.FRAG_PARSED)},t.generateIS=function(e,t,r){var o,a,s=this.observer,u=e.samples,c=t.samples,l=this.typeSupported,p="audio/mp4",f={},h={tracks:f},y=void 0===this._initPTS;if(y&&(o=a=1/0),e.config&&u.length&&(e.timescale=e.samplerate,d.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(l.mpeg?(p="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3")),f.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&l.mpeg?new Uint8Array:M.initSegment([e]),metadata:{channelCount:e.channelCount}},y&&(o=a=u[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&c.length){var m=t.inputTimeScale;t.timescale=m,f.video={container:"video/mp4",codec:t.codec,initSegment:M.initSegment([t]),metadata:{width:t.width,height:t.height}},y&&(o=Math.min(o,c[0].pts-m*r),a=Math.min(a,c[0].dts-m*r),this.observer.trigger(n.a.INIT_PTS_FOUND,{initPTS:o}))}Object.keys(f).length?(s.trigger(n.a.FRAG_PARSING_INIT_SEGMENT,h),this.ISGenerated=!0,y&&(this._initPTS=o,this._initDTS=a)):s.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.remuxVideo=function(e,t,r,o,a){var s,u,c,l,p,f,h,y=8,m=e.timescale,g=e.samples,v=[],b=g.length,P=this._PTSNormalize,k=this._initPTS,S=this.nextAvcDts,T=this.isSafari;if(0!==b){T&&(r|=g.length&&S&&(a&&Math.abs(t-S/m)<.1||Math.abs(g[0].pts-S-k)<m/5)),r||(S=t*m),g.forEach((function(e){e.pts=P(e.pts-k,S),e.dts=P(e.dts-k,S)})),g.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n||e.id-t.id}));var E=g.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-1*B)}),0);if(E<0){d.b.warn("PTS < DTS detected in video samples, shifting DTS by "+O(E,!0)+" ms to overcome this issue");for(var x=0;x<g.length;x++)g[x].dts+=E}var w=g[0];p=Math.max(w.dts,0),l=Math.max(w.pts,0);var C=p-S;r&&C&&(C>1?d.b.log("AVC: "+O(C,!0)+" ms hole between fragments detected,filling it"):C<-1&&d.b.log("AVC: "+O(-C,!0)+" ms overlapping between fragments detected"),p=S,g[0].dts=p,l=Math.max(l-C,S),g[0].pts=l,d.b.log("Video: PTS/DTS adjusted: "+O(l,!0)+"/"+O(p,!0)+", delta: "+O(C,!0)+" ms")),w=g[g.length-1],h=Math.max(w.dts,0),f=Math.max(w.pts,0,h),T&&(s=Math.round((h-p)/(g.length-1)));for(var A=0,_=0,L=0;L<b;L++){for(var I=g[L],R=I.units,D=R.length,F=0,N=0;N<D;N++)F+=R[N].data.length;_+=F,A+=D,I.length=F,I.dts=T?p+L*s:Math.max(I.dts,p),I.pts=Math.max(I.pts,I.dts)}var G=_+4*A+8;try{u=new Uint8Array(G)}catch(e){return void this.observer.trigger(n.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating video mdat "+G})}var U=new DataView(u.buffer);U.setUint32(0,G),u.set(M.types.mdat,4);for(var K=0;K<b;K++){for(var j=g[K],H=j.units,V=0,z=void 0,W=0,q=H.length;W<q;W++){var $=H[W],Y=$.data,X=$.data.byteLength;U.setUint32(y,X),y+=4,u.set(Y,y),y+=X,V+=4+X}if(T)z=Math.max(0,s*Math.round((j.pts-j.dts)/s));else{if(K<b-1)s=g[K+1].dts-j.dts;else{var J=this.config,Q=j.dts-g[K>0?K-1:K].dts;if(J.stretchShortVideoTrack){var Z=J.maxBufferHole,ee=Math.floor(Z*m),te=(o?l+o*m:this.nextAudioPts)-j.pts;te>ee?((s=te-Q)<0&&(s=Q),d.b.log("It is approximately "+O(te,!1)+" ms to the next segment; using duration "+O(s,!1)+" ms for the last video frame.")):s=Q}else s=Q}z=Math.round(j.pts-j.dts)}v.push({size:V,duration:s,cts:z,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=h+s;var re=e.dropped;if(e.nbNalu=0,e.dropped=0,v.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=v[0].flags;ne.dependsOn=2,ne.isNonSync=0}e.samples=v,c=M.moof(e.sequenceNumber++,p,e),e.samples=[];var ie={data1:c,data2:u,startPTS:l/m,endPTS:(f+s)/m,startDTS:p/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:v.length,dropped:re};return this.observer.trigger(n.a.FRAG_PARSING_DATA,ie),ie}},t.remuxAudio=function(e,t,r,o){var a,s,u,c,l,p,f=e.inputTimeScale,h=e.timescale,y=f/h,m=(e.isAAC?1024:1152)*y,g=this._PTSNormalize,v=this._initPTS,b=!e.isAAC&&this.typeSupported.mpeg,P=b?0:8,k=e.samples,S=[],T=this.nextAudioPts;if(r|=k.length&&T&&(o&&Math.abs(t-T/f)<.1||Math.abs(k[0].pts-T-v)<20*m),k.forEach((function(e){e.pts=e.dts=g(e.pts-v,t*f)})),0!==(k=k.filter((function(e){return e.pts>=0}))).length){if(r||(T=o?t*f:k[0].pts),e.isAAC)for(var E=this.config.maxAudioFramesDrift,x=0,w=T;x<k.length;){var C,A=k[x];if((C=A.pts-w)<=-E*m)d.b.warn("Dropping 1 audio frame @ "+O(w,!0)+" ms due to "+O(C,!0)+" ms overlap."),k.splice(x,1);else if(C>=E*m&&C<G&&w){var _=Math.round(C/m);d.b.warn("Injecting "+_+" audio frames @ "+O(w,!0)+" ms due to "+O(w,!0)+" ms gap.");for(var L=0;L<_;L++){var R=Math.max(w,0);(s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),s=A.unit.subarray()),k.splice(x,0,{unit:s,pts:R,dts:R}),w+=m,x++}A.pts=A.dts=w,w+=m,x++}else Math.abs(C),A.pts=A.dts=w,w+=m,x++}for(var D=k.length,F=0;D--;)F+=k[D].unit.byteLength;for(var N=0,B=k.length;N<B;N++){var U=k[N],K=U.unit,j=U.pts;if(void 0!==p)a.duration=Math.round((j-p)/y);else{var H=j-T,V=0;if(r&&e.isAAC&&H){if(H>0&&H<G)V=Math.round((j-T)/m),d.b.log(O(H,!0)+" ms hole between AAC samples detected,filling it"),V>0&&((s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(s=K.subarray()),F+=V*s.length);else if(H<-12){d.b.log("drop overlapping AAC sample, expected/parsed/delta: "+O(T,!0)+" ms / "+O(j,!0)+" ms / "+O(-H,!0)+" ms"),F-=K.byteLength;continue}j=T}if(l=j,!(F>0))return;F+=P;try{u=new Uint8Array(F)}catch(e){return void this.observer.trigger(n.a.ERROR,{type:i.b.MUX_ERROR,details:i.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}b||(new DataView(u.buffer).setUint32(0,F),u.set(M.types.mdat,4));for(var z=0;z<V;z++)(s=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(d.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),s=K.subarray()),u.set(s,P),P+=s.byteLength,a={size:s.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a)}u.set(K,P);var W=K.byteLength;P+=W,a={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},S.push(a),p=j}var q=0;if((D=S.length)>=2&&(q=S[D-2].duration,a.duration=q),D){this.nextAudioPts=T=p+y*q,e.samples=S,c=b?new Uint8Array:M.moof(e.sequenceNumber++,l/y,e),e.samples=[];var $=l/f,Y=T/f,X={data1:c,data2:u,startPTS:$,endPTS:Y,startDTS:$,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:D};return this.observer.trigger(n.a.FRAG_PARSING_DATA,X),X}return null}},t.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,o=i/(e.samplerate?e.samplerate:i),a=this.nextAudioPts,s=(void 0!==a?a:n.startDTS*i)+this._initDTS,u=n.endDTS*i+this._initDTS,c=1024*o,l=Math.ceil((u-s)/c),p=I.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(d.b.warn("remux empty Audio"),p){for(var f=[],h=0;h<l;h++){var y=s+h*c;f.push({unit:p,pts:y,dts:y})}e.samples=f,this.remuxAudio(e,t,r)}else d.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.remuxID3=function(e){var t,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS,a=this._initDTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-o)/i,t.dts=(t.dts-a)/i;this.observer.trigger(n.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},t.remuxText=function(e){e.samples.sort((function(e,t){return e.pts-t.pts}));var t,r=e.samples.length,i=e.inputTimeScale,o=this._initPTS;if(r){for(var a=0;a<r;a++)(t=e.samples[a]).pts=(t.pts-o)/i;this.observer.trigger(n.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},t._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}(),K=function(){function e(e){this.observer=e}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(){},t.resetInitSegment=function(){},t.remux=function(e,t,r,i,o,a,s,d){var u=this.observer,c="";e&&(c+="audio"),t&&(c+="video"),u.trigger(n.a.FRAG_PARSING_DATA,{data1:d,startPTS:o,startDTS:o,type:c,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(n.a.FRAG_PARSED)},e}(),j=Object(u.a)();try{N=j.performance.now.bind(j.performance)}catch(e){d.b.debug("Unable to use Performance API on this environment"),N=j.Date.now}var H=function(){function e(e,t,r,n){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n}var t=e.prototype;return t.destroy=function(){var e=this.demuxer;e&&e.destroy()},t.push=function(e,t,r,i,o,a,s,d,u,c,p,f){var h=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var y=this.decrypter;null==y&&(y=this.decrypter=new l(this.observer,this.config));var m=N();y.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var l=N();h.observer.trigger(n.a.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:l}}),h.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,a,s,d,u,c,p,f)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),i,o,a,s,d,u,c,p,f)},t.pushDecrypted=function(e,t,r,o,a,s,d,u,c,l,p,f){var h=this.demuxer;if(!h||(d||u)&&!this.probe(e)){for(var y=this.observer,m=this.typeSupported,g=this.config,v=[{demux:_,remux:U},{demux:T.a,remux:K},{demux:S,remux:U},{demux:L,remux:U}],b=0,P=v.length;b<P;b++){var k=v[b],E=k.demux.probe;if(E(e)){var x=this.remuxer=new k.remux(y,g,m,this.vendor);h=new k.demux(y,x,g,m),this.probe=E;break}}if(!h)return void y.trigger(n.a.ERROR,{type:i.b.MEDIA_ERROR,details:i.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=h}var w=this.remuxer;(d||u)&&(h.resetInitSegment(r,o,a,l),w.resetInitSegment()),d&&(h.resetTimeStamp(f),w.resetTimeStamp(f)),"function"==typeof h.setDecryptData&&h.setDecryptData(t),h.append(e,s,c,p)},e}();t.a=H},function(e,t,r){"use strict";var n=r(0),i=r(1),o=Math.pow(2,32)-1,a=function(){function e(e,t){this.observer=e,this.remuxer=t}var t=e.prototype;return t.resetTimeStamp=function(e){this.initPTS=e},t.resetInitSegment=function(t,r,n,o){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:o?t:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:r,initSegment:o?t:null}),a.video&&(s.video={container:"video/mp4",codec:n,initSegment:o?t:null})),this.observer.trigger(i.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else r&&(this.audioCodec=r),n&&(this.videoCodec=n)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var n,i,o,a,s,d,u=[];if(t.data?(s=t.start,o=t.end,t=t.data):(s=0,o=t.byteLength),!r.length)return null;for(n=s;n<o;)d=(i=e.readUint32(t,n))>1?n+i:o,e.bin2str(t.subarray(n+4,n+8))===r[0]&&(1===r.length?u.push({data:t,start:n+8,end:d}):(a=e.findBox({data:t,start:n+8,end:d},r.slice(1))).length&&(u=u.concat(a))),n=d;return u},e.parseSegmentIndex=function(t){var r,n=e.findBox(t,["moov"])[0],i=n?n.end:null,o=0,a=e.findBox(t,["sidx"]);if(!a||!a[0])return null;r=[];var s=(a=a[0]).data[0];o=0===s?8:16;var d=e.readUint32(a,o);o+=4,o+=0===s?8:16,o+=2;var u=a.end+0,c=e.readUint16(a,o);o+=2;for(var l=0;l<c;l++){var p=o,f=e.readUint32(a,p);p+=4;var h=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var y=e.readUint32(a,p);p+=4,r.push({referenceSize:h,subsegmentDuration:y,info:{duration:y/d,start:u,end:u+h-1}}),u+=h,o=p+=4}return{earliestPresentationTime:0,timescale:d,version:s,referencesCount:c,references:r,moovEndOffset:i}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var o=i.data[i.start],a=0===o?12:20,s=e.readUint32(i,a),d=e.findBox(t,["mdia","mdhd"])[0];if(d){a=0===(o=d.data[d.start])?12:20;var u=e.readUint32(d,a),c=e.findBox(t,["mdia","hdlr"])[0];if(c){var l={soun:"audio",vide:"video"}[e.bin2str(c.data.subarray(c.start+8,c.start+12))];if(l){var p=e.findBox(t,["mdia","minf","stbl","stsd"]);if(p.length){p=p[0];var f=e.bin2str(p.data.subarray(p.start+12,p.start+16));n.b.log("MP4Demuxer:"+l+":"+f+" found")}r[s]={timescale:u,type:l},r[l]={timescale:u,id:s}}}}}})),r},e.getStartDTS=function(t,r){var n,i,o;return n=e.findBox(r,["moof","traf"]),i=[].concat.apply([],n.map((function(r){return e.findBox(r,["tfhd"]).map((function(n){var i,o;return i=e.readUint32(n,4),o=t[i].timescale||9e4,e.findBox(r,["tfdt"]).map((function(t){var r,n;return r=t.data[t.start],n=e.readUint32(t,4),1===r&&(n*=Math.pow(2,32),n+=e.readUint32(t,8)),n}))[0]/o}))}))),o=Math.min.apply(null,i),isFinite(o)?o:0},e.offsetStartDTS=function(t,r,n){e.findBox(r,["moof","traf"]).map((function(r){return e.findBox(r,["tfhd"]).map((function(i){var a=e.readUint32(i,4),s=t[a].timescale||9e4;e.findBox(r,["tfdt"]).map((function(t){var r=t.data[t.start],i=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,i-n*s);else{i*=Math.pow(2,32),i+=e.readUint32(t,8),i-=n*s,i=Math.max(i,0);var a=Math.floor(i/(o+1)),d=Math.floor(i%(o+1));e.writeUint32(t,4,a),e.writeUint32(t,8,d)}}))}))}))},t.append=function(t,r,n,o){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,d=this.initPTS;if(void 0===d){var u=e.getStartDTS(a,t);this.initPTS=d=u-r,this.observer.trigger(i.a.INIT_PTS_FOUND,{initPTS:d})}e.offsetStartDTS(a,t,d),s=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,s,n,o,t)},t.destroy=function(){},e}();t.a=a},function(e,t,r){function n(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var n=r(r.s=ENTRY_MODULE);return n.default||n}var i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function o(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e,t,n){var a={};a[n]=[];var s=t.toString(),d=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!d)return a;for(var u,c=d[1],l=new RegExp("(\\\\n|\\W)"+o(c)+i,"g");u=l.exec(s);)"dll-reference"!==u[3]&&a[n].push(u[3]);for(l=new RegExp("\\("+o(c)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)'+i,"g");u=l.exec(s);)e[u[2]]||(a[n].push(u[1]),e[u[2]]=r(u[1]).m),a[u[2]]=a[u[2]]||[],a[u[2]].push(u[4]);for(var p,f=Object.keys(a),h=0;h<f.length;h++)for(var y=0;y<a[f[h]].length;y++)p=a[f[h]][y],isNaN(1*p)||(a[f[h]][y]=1*a[f[h]][y]);return a}function s(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:r.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var r={main:[t]},n={main:[]},i={main:{}};s(r);)for(var o=Object.keys(r),d=0;d<o.length;d++){var u=o[d],c=r[u].pop();if(i[u]=i[u]||{},!i[u][c]&&e[u][c]){i[u][c]=!0,n[u]=n[u]||[],n[u].push(c);for(var l=a(e,e[u][c],u),p=Object.keys(l),f=0;f<p.length;f++)r[p[f]]=r[p[f]]||[],r[p[f]]=r[p[f]].concat(l[p[f]])}}return n}(i,e),d="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",d=d+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),d=d+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([d],{type:"text/javascript"});if(t.bare)return u;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),l=new window.Worker(c);return l.objectURL=c,l}},function(e,t,r){"use strict";r.r(t);var n=r(9),i=r(1),o=r(0),a=r(8);t.default=function(e){var t=new a.EventEmitter;t.trigger=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(n))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.demuxer=new n.a(t,a.typeSupported,s,a.vendor),Object(o.a)(s.debug),r("init",null);break;case"demux":e.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),t.on(i.a.FRAG_DECRYPTED,r),t.on(i.a.FRAG_PARSING_INIT_SEGMENT,r),t.on(i.a.FRAG_PARSED,r),t.on(i.a.ERROR,r),t.on(i.a.FRAG_PARSING_METADATA,r),t.on(i.a.FRAG_PARSING_USERDATA,r),t.on(i.a.INIT_PTS_FOUND,r),t.on(i.a.FRAG_PARSING_DATA,(function(t,r){var n=[],i={event:t,data:r};r.data1&&(i.data1=r.data1.buffer,n.push(r.data1.buffer),delete r.data1),r.data2&&(i.data2=r.data2.buffer,n.push(r.data2.buffer),delete r.data2),e.postMessage(i,n)}))}},function(e,t,r){"use strict";r.r(t);var n,i,o=r(7),a=r(2),s=r(3),d=r(1),u=r(0),c={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},l=function(){function e(e){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=e,this.onEvent=this.onEvent.bind(this);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){},t.onHandlerDestroyed=function(){},t.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},t.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(c[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},t.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},t.onEvent=function(e,t){this.onEventGeneric(e,t)},t.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){u.b.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(d.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();!function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(n||(n={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}));var p=r(10);var f,h=function(){function e(e,t){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=e,this.reluri=t}var t;return(t=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();!function(e){e.AUDIO="audio",e.VIDEO="video"}(f||(f={}));var y=function(){function e(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((e={})[f.AUDIO]=!1,e[f.VIDEO]=!1,e),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var t,r=e.prototype;return r.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},r.addElementaryStream=function(e){this._elementaryStreams[e]=!0},r.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},r.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},r.setDecryptDataFromLevelKey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new h(e.baseuri,e.reluri)).method=e.method,r.iv=this.createInitializationVector(t)),r},(t=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!=typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&u.b.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(s.a)(this.programDateTime))return null;var e=Object(s.a)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();var m=function(){function e(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}var t;return(t=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(s.a)(this.fragments[0].programDateTime))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}(),g=/^(\d+)x(\d+)$/,v=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,b=function(){function e(t){for(var r in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&(this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.enumeratedString=function(e){return this[e]},t.decimalResolution=function(e){var t=g.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(v.lastIndex=0;null!==(t=v.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r},e}(),P={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function k(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}var S=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,T=/#EXT-X-MEDIA:(.*)/g,E=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),x=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,w=/\.(mp4|m4s|m4v|m4a)$/i,C=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},e.resolve=function(e,t){return o.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,r){var n,i=[];function o(e,t){["video","audio"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=P[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}for(S.lastIndex=0;null!=(n=S.exec(t));){var a={},s=a.attrs=new b(n[1]);a.url=e.resolve(n[2],r);var d=s.decimalResolution("RESOLUTION");d&&(a.width=d.width,a.height=d.height),a.bitrate=s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),a.name=s.NAME,o([].concat((s.CODECS||"").split(/[ ,]+/)),a),a.videoCodec&&-1!==a.videoCodec.indexOf("avc1")&&(a.videoCodec=e.convertAVC1ToAVCOTI(a.videoCodec)),i.push(a)}return i},e.parseMasterPlaylistMedia=function(t,r,n,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(T.lastIndex=0;null!==(o=T.exec(t));){var d=new b(o[1]);if(d.TYPE===n){var u={id:s++,groupId:d["GROUP-ID"],name:d.NAME||d.LANGUAGE,type:n,default:"YES"===d.DEFAULT,autoselect:"YES"===d.AUTOSELECT,forced:"YES"===d.FORCED,lang:d.LANGUAGE};if(d.URI&&(u.url=e.resolve(d.URI,r)),i.length){var c=e.findGroup(i,u.groupId);u.audioCodec=c?c.codec:i[0].codec}a.push(u)}}return a},e.parseLevelPlaylist=function(e,t,r,n,i){var o,a,d,c=0,l=0,p=new m(t),f=0,g=null,v=new y,P=null;for(E.lastIndex=0;null!==(o=E.exec(e));){var k=o[1];if(k){v.duration=parseFloat(k);var S=(" "+o[2]).slice(1);v.title=S||null,v.tagList.push(S?["INF",k,S]:["INF",k])}else if(o[3]){if(Object(s.a)(v.duration)){var T=c++;v.type=n,v.start=l,d&&(v.levelkey=d),v.sn=T,v.level=r,v.cc=f,v.urlId=i,v.baseurl=t,v.relurl=(" "+o[3]).slice(1),A(v,g),p.fragments.push(v),g=v,l+=v.duration,v=new y}}else if(o[4]){var C=(" "+o[4]).slice(1);g?v.setByteRange(C,g):v.setByteRange(C)}else if(o[5])v.rawProgramDateTime=(" "+o[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),null===P&&(P=p.fragments.length);else{if(!(o=o[0].match(x))){u.b.warn("No matches on slow regex match for level playlist!");continue}for(a=1;a<o.length&&void 0===o[a];a++);var _=(" "+o[a+1]).slice(1),L=(" "+o[a+2]).slice(1);switch(o[a]){case"#":v.tagList.push(L?[_,L]:[_]);break;case"PLAYLIST-TYPE":p.type=_.toUpperCase();break;case"MEDIA-SEQUENCE":c=p.startSN=parseInt(_);break;case"TARGETDURATION":p.targetduration=parseFloat(_);break;case"VERSION":p.version=parseInt(_);break;case"EXTM3U":break;case"ENDLIST":p.live=!1;break;case"DIS":f++,v.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(_);break;case"KEY":var I=new b(_),R=I.enumeratedString("METHOD"),M=I.URI,D=I.hexadecimalInteger("IV");R&&(d=new h(t,M),M&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(R)>=0&&(d.method=R,d.key=null,d.iv=D));break;case"START":var O=new b(_).decimalFloatingPoint("TIME-OFFSET");Object(s.a)(O)&&(p.startTimeOffset=O);break;case"MAP":var F=new b(_);v.relurl=F.URI,F.BYTERANGE&&v.setByteRange(F.BYTERANGE),v.baseurl=t,v.level=r,v.type=n,v.sn="initSegment",p.initSegment=v,(v=new y).rawProgramDateTime=p.initSegment.rawProgramDateTime;break;default:u.b.warn("line parsed but not handled: "+o)}}}return(v=g)&&!v.relurl&&(p.fragments.pop(),l-=v.duration),p.totalduration=l,p.averagetargetduration=l/p.fragments.length,p.endSN=c-1,p.startCC=p.fragments[0]?p.fragments[0].cc:0,p.endCC=f,!p.initSegment&&p.fragments.length&&p.fragments.every((function(e){return w.test(e.relurl)}))&&(u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(v=new y).relurl=p.fragments[0].relurl,v.baseurl=t,v.level=r,v.type=n,v.sn="initSegment",p.initSegment=v,p.needSidxRanges=!0),P&&function(e,t){for(var r=e[t],n=t-1;n>=0;n--){var i=e[n];i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(p.fragments,P),p},e}();function A(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(s.a)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}var _=window.performance,L=function(e){var t,r;function o(t){var r;return(r=e.call(this,t,d.a.MANIFEST_LOADING,d.a.LEVEL_LOADING,d.a.AUDIO_TRACK_LOADING,d.a.SUBTITLE_TRACK_LOADING)||this).loaders={},r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.canHaveQualityLevels=function(e){return e!==n.AUDIO_TRACK&&e!==n.SUBTITLE_TRACK},o.mapContextToLevelType=function(e){switch(e.type){case n.AUDIO_TRACK:return i.AUDIO;case n.SUBTITLE_TRACK:return i.SUBTITLE;default:return i.MAIN}},o.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r};var c=o.prototype;return c.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return e.loader=i,this.loaders[e.type]=i,i},c.getInternalLoader=function(e){return this.loaders[e.type]},c.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},c.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},c.destroy=function(){this.destroyInternalLoaders(),e.prototype.destroy.call(this)},c.onManifestLoading=function(e){this.load({url:e.url,type:n.MANIFEST,level:0,id:null,responseType:"text"})},c.onLevelLoading=function(e){this.load({url:e.url,type:n.LEVEL,level:e.level,id:e.id,responseType:"text"})},c.onAudioTrackLoading=function(e){this.load({url:e.url,type:n.AUDIO_TRACK,level:null,id:e.id,responseType:"text"})},c.onSubtitleTrackLoading=function(e){this.load({url:e.url,type:n.SUBTITLE_TRACK,level:null,id:e.id,responseType:"text"})},c.load=function(e){var t=this.hls.config;u.b.debug("Loading playlist of type "+e.type+", level: "+e.level+", id: "+e.id);var r,i,o,a,s=this.getInternalLoader(e);if(s){var d=s.context;if(d&&d.url===e.url)return u.b.trace("playlist request ongoing"),!1;u.b.warn("aborting previous loader for type: "+e.type),s.abort()}switch(e.type){case n.MANIFEST:r=t.manifestLoadingMaxRetry,i=t.manifestLoadingTimeOut,o=t.manifestLoadingRetryDelay,a=t.manifestLoadingMaxRetryTimeout;break;case n.LEVEL:r=0,a=0,o=0,i=t.levelLoadingTimeOut;break;default:r=t.levelLoadingMaxRetry,i=t.levelLoadingTimeOut,o=t.levelLoadingRetryDelay,a=t.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(e);var c={timeout:i,maxRetry:r,retryDelay:o,maxRetryDelay:a},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u.b.debug("Calling internal loader delegate for URL: "+e.url),s.load(e,c,l),!0},c.loadsuccess=function(e,t,r,n){if(void 0===n&&(n=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,n);if(this.resetInternalLoader(r.type),"string"!=typeof e.data)throw new Error('expected responseType of "text" for PlaylistLoader');var i=e.data;t.tload=_.now(),0===i.indexOf("#EXTM3U")?i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,n):this._handleMasterPlaylist(e,t,r,n):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",n)},c.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},c.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},c._handleMasterPlaylist=function(e,t,r,n){var i=this.hls,a=e.data,s=o.getResponseUrl(e,r),c=C.parseMasterPlaylist(a,s);if(c.length){var l=c.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),p=C.parseMasterPlaylistMedia(a,s,"AUDIO",l),f=C.parseMasterPlaylistMedia(a,s,"SUBTITLES");if(p.length){var h=!1;p.forEach((function(e){e.url||(h=!0)})),!1===h&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(u.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1}))}i.trigger(d.a.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:f,url:s,stats:t,networkDetails:n})}else this._handleManifestParsingError(e,r,"no level found in manifest",n)},c._handleTrackOrLevelPlaylist=function(e,t,r,i){var a=this.hls,u=r.id,c=r.level,l=r.type,p=o.getResponseUrl(e,r),f=Object(s.a)(u)?u:0,h=Object(s.a)(c)?c:f,y=o.mapContextToLevelType(r),m=C.parseLevelPlaylist(e.data,p,h,y,f);if(m.tload=t.tload,l===n.MANIFEST){var g={url:p,details:m};a.trigger(d.a.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:p,stats:t,networkDetails:i})}if(t.tparsed=_.now(),m.needSidxRanges){var v=m.initSegment.url;this.load({url:v,isSidxRequest:!0,type:l,level:c,levelDetails:m,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=m,this._handlePlaylistLoaded(e,t,r,i)},c._handleSidxRequest=function(e,t){if("string"==typeof e.data)throw new Error("sidx request must be made with responseType of array buffer");var r=p.a.parseSegmentIndex(new Uint8Array(e.data));if(r){var n=r.references,i=t.levelDetails;n.forEach((function(e,t){var r=e.info;if(i){var n=i.fragments[t];0===n.byteRange.length&&n.setByteRange(String(1+r.end-r.start)+"@"+String(r.start))}})),i&&i.initSegment.setByteRange(String(r.moovEndOffset)+"@0")}},c._handleManifestParsingError=function(e,t,r,n){this.hls.trigger(d.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:n})},c._handleNetworkError=function(e,t,r,i){var o,s;void 0===r&&(r=!1),void 0===i&&(i=null),u.b.info("A network error occured while loading a "+e.type+"-type playlist");var c=this.getInternalLoader(e);switch(e.type){case n.MANIFEST:o=r?a.a.MANIFEST_LOAD_TIMEOUT:a.a.MANIFEST_LOAD_ERROR,s=!0;break;case n.LEVEL:o=r?a.a.LEVEL_LOAD_TIMEOUT:a.a.LEVEL_LOAD_ERROR,s=!1;break;case n.AUDIO_TRACK:o=r?a.a.AUDIO_TRACK_LOAD_TIMEOUT:a.a.AUDIO_TRACK_LOAD_ERROR,s=!1;break;default:s=!1}c&&(c.abort(),this.resetInternalLoader(e.type));var l={type:a.b.NETWORK_ERROR,details:o,fatal:s,url:e.url,loader:c,context:e,networkDetails:t};i&&(l.response=i),this.hls.trigger(d.a.ERROR,l)},c._handlePlaylistLoaded=function(e,t,r,i){var a=r.type,s=r.level,u=r.id,c=r.levelDetails;if(c&&c.targetduration)if(o.canHaveQualityLevels(r.type))this.hls.trigger(d.a.LEVEL_LOADED,{details:c,level:s||0,id:u||0,stats:t,networkDetails:i});else switch(a){case n.AUDIO_TRACK:this.hls.trigger(d.a.AUDIO_TRACK_LOADED,{details:c,id:u,stats:t,networkDetails:i});break;case n.SUBTITLE_TRACK:this.hls.trigger(d.a.SUBTITLE_TRACK_LOADED,{details:c,id:u,stats:t,networkDetails:i})}else this._handleManifestParsingError(e,r,"invalid target duration",i)},o}(l),I=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.FRAG_LOADING)||this).loaders={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){var t=this.loaders;for(var r in t){var n=t[r];n&&n.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onFragLoading=function(e){var t=e.frag,r=t.type,n=this.loaders,i=this.hls.config,o=i.fLoader,a=i.loader;t.loaded=0;var d,c,l,p=n[r];p&&(u.b.warn("abort previous fragment loader for type: "+r),p.abort()),p=n[r]=t.loader=i.fLoader?new o(i):new a(i),d={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var f=t.byteRangeStartOffset,h=t.byteRangeEndOffset;Object(s.a)(f)&&Object(s.a)(h)&&(d.rangeStart=f,d.rangeEnd=h),c={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},p.load(d,c,l)},i.loadsuccess=function(e,t,r,n){void 0===n&&(n=null);var i=e.data,o=r.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(d.a.FRAG_LOADED,{payload:i,frag:o,stats:t,networkDetails:n})},i.loaderror=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(d.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},i.loadtimeout=function(e,t,r){void 0===r&&(r=null);var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[n.type]=void 0,this.hls.trigger(d.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},i.loadprogress=function(e,t,r,n){void 0===n&&(n=null);var i=t.frag;i.loaded=e.loaded,this.hls.trigger(d.a.FRAG_LOAD_PROGRESS,{frag:i,stats:e,networkDetails:n})},n}(l),R=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.KEY_LOADING)||this).loaders={},r.decryptkey=null,r.decrypturl=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){for(var t in this.loaders){var r=this.loaders[t];r&&r.destroy()}this.loaders={},e.prototype.destroy.call(this)},i.onKeyLoading=function(e){var t=e.frag,r=t.type,n=this.loaders[r];if(t.decryptdata){var i=t.decryptdata.uri;if(i!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;if(n&&(u.b.warn("abort previous key loader for type:"+r),n.abort()),!i)return void u.b.warn("key uri is falsy");t.loader=this.loaders[r]=new o.loader(o),this.decrypturl=i,this.decryptkey=null;var a={url:i,frag:t,responseType:"arraybuffer"},s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};t.loader.load(a,s,c)}else this.decryptkey&&(t.decryptdata.key=this.decryptkey,this.hls.trigger(d.a.KEY_LOADED,{frag:t}))}else u.b.warn("Missing decryption data on fragment in onKeyLoading")},i.loadsuccess=function(e,t,r){var n=r.frag;n.decryptdata?(this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,delete this.loaders[n.type],this.hls.trigger(d.a.KEY_LOADED,{frag:n})):u.b.error("after key load, decryptdata unset")},i.loaderror=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(d.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},i.loadtimeout=function(e,t){var r=t.frag,n=r.loader;n&&n.abort(),delete this.loaders[r.type],this.hls.trigger(d.a.ERROR,{type:a.b.NETWORK_ERROR,details:a.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},n}(l),M="NOT_LOADED",D="APPENDING",O="PARTIAL",F=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.BUFFER_APPENDED,d.a.FRAG_BUFFERED,d.a.FRAG_LOADED)||this).bufferPadding=.2,r.fragments=Object.create(null),r.timeRanges=Object.create(null),r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,l.prototype.destroy.call(this),e.prototype.destroy.call(this)},i.getBufferedFrag=function(e,t){var r=this.fragments,n=Object.keys(r).filter((function(n){var i=r[n];if(i.body.type!==t)return!1;if(!i.buffered)return!1;var o=i.body;return o.startPTS<=e&&e<=o.endPTS}));if(0===n.length)return null;var i=n.pop();return r[i].body},i.detectEvictedFragments=function(e,t){var r,n,i=this;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[e];if(s){r=s.time;for(var d=0;d<r.length;d++)if(n=r[d],!1===i.isTimeBuffered(n.startPTS,n.endPTS,t)){i.removeFragment(a.body);break}}}}))},i.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),n=this.fragments[r];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(e.hasElementaryStream(r)){var i=t.timeRanges[r];n.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,i)}})))},i.getBufferedTimes=function(e,t,r){for(var n,i,o=[],a=!1,s=0;s<r.length;s++){if(n=r.start(s)-this.bufferPadding,i=r.end(s)+this.bufferPadding,e>=n&&t<=i){o.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))});break}if(e<i&&t>n)o.push({startPTS:Math.max(e,r.start(s)),endPTS:Math.min(t,r.end(s))}),a=!0;else if(t<=n)break}return{time:o,partial:a}},i.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.getPartialFragment=function(e){var t,r,n,i=this,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var d=i.fragments[s];i.isPartial(d)&&(r=d.body.startPTS-i.bufferPadding,n=d.body.endPTS+i.bufferPadding,e>=r&&e<=n&&(t=Math.min(e-r,n-e),a<=t&&(o=d.body,a=t)))})),o},i.getState=function(e){var t=this.getFragmentKey(e),r=this.fragments[t],n=M;return void 0!==r&&(n=r.buffered?!0===this.isPartial(r)?O:"OK":D),n},i.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.isTimeBuffered=function(e,t,r){for(var n,i,o=0;o<r.length;o++){if(n=r.start(o)-this.bufferPadding,i=r.end(o)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},i.onFragLoaded=function(e){var t=e.frag;Object(s.a)(t.sn)&&!t.bitrateTest&&(this.fragments[this.getFragmentKey(t)]={body:t,range:Object.create(null),buffered:!1})},i.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)}))},i.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.removeAllFragments=function(){this.fragments=Object.create(null)},n}(l),N=function(e,t){for(var r=0,n=e.length-1,i=null,o=null;r<=n;){var a=t(o=e[i=(r+n)/2|0]);if(a>0)r=i+1;else{if(!(a<0))return o;n=i-1}}return null},G=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,n=0;n<r.length;n++)if(t>=r.start(n)&&t<=r.end(n))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var n,i=e.buffered,o=[];for(n=0;n<i.length;n++)o.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(o,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var o=n.length;if(o){var a=n[o-1].end;e[i].start-a<r?e[i].end>a&&(n[o-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var s,d=0,u=t,c=t,l=0;l<n.length;l++){var p=n[l].start,f=n[l].end;if(t+r>=p&&t<f)u=p,d=(c=f)-t;else if(t+r<p){s=p;break}}return{len:d,start:u,end:c,nextStart:s}},e}(),B=r(8),U=r(11),K=r(9);function j(){return window.MediaSource||window.WebKitMediaSource}var H=r(5),V=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.trigger=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.emit.apply(this,[e,e].concat(r))},n}(B.EventEmitter),z=Object(H.a)(),W=j()||{isTypeSupported:function(){return!1}},q=function(){function e(e,t){var r=this;this.hls=e,this.id=t;var n=this.observer=new V,i=e.config,o=function(t,n){(n=n||{}).frag=r.frag,n.id=r.id,e.trigger(t,n)};n.on(d.a.FRAG_DECRYPTED,o),n.on(d.a.FRAG_PARSING_INIT_SEGMENT,o),n.on(d.a.FRAG_PARSING_DATA,o),n.on(d.a.FRAG_PARSED,o),n.on(d.a.ERROR,o),n.on(d.a.FRAG_PARSING_METADATA,o),n.on(d.a.FRAG_PARSING_USERDATA,o),n.on(d.a.INIT_PTS_FOUND,o);var s={mp4:W.isTypeSupported("video/mp4"),mpeg:W.isTypeSupported("audio/mpeg"),mp3:W.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(i.enableWorker&&"undefined"!=typeof Worker){var l;u.b.log("demuxing in webworker");try{l=this.w=U(12),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(d.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:s,vendor:c,id:t,config:JSON.stringify(i)})}catch(e){u.b.warn("Error in worker:",e),u.b.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&z.URL.revokeObjectURL(l.objectURL),this.demuxer=new K.a(n,s,i,c),this.w=void 0}}else this.demuxer=new K.a(n,s,i,c)}var t=e.prototype;return t.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.push=function(e,t,r,n,i,o,a,d){var c=this.w,l=Object(s.a)(i.startPTS)?i.startPTS:i.start,p=i.decryptdata,f=this.frag,h=!(f&&i.cc===f.cc),y=!(f&&i.level===f.level),m=f&&i.sn===f.sn+1,g=!y&&m;if(h&&u.b.log(this.id+":discontinuity detected"),y&&u.b.log(this.id+":switch detected"),this.frag=i,c)c.postMessage({cmd:"demux",data:e,decryptdata:p,initSegment:t,audioCodec:r,videoCodec:n,timeOffset:l,discontinuity:h,trackSwitch:y,contiguous:g,duration:o,accurateTimeOffset:a,defaultInitPTS:d},e instanceof ArrayBuffer?[e]:[]);else{var v=this.demuxer;v&&v.push(e,p,t,r,n,l,h,y,g,o,a,d)}},t.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":z.URL.revokeObjectURL(this.w.objectURL);break;case d.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},e}();function $(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}}function Y(e,t,r){var n=e[t],i=e[r],o=i.startPTS;Object(s.a)(o)?r>t?(n.duration=o-n.start,n.duration<0&&u.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(i.duration=n.start-o,i.duration<0&&u.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):i.start=r>t?n.start+n.duration:Math.max(n.start-i.duration,0)}function X(e,t,r,n,i,o){var a=r;if(Object(s.a)(t.startPTS)){var d=Math.abs(t.startPTS-r);Object(s.a)(t.deltaPTS)?t.deltaPTS=Math.max(d,t.deltaPTS):t.deltaPTS=d,a=Math.max(r,t.startPTS),r=Math.min(r,t.startPTS),n=Math.max(n,t.endPTS),i=Math.min(i,t.startDTS),o=Math.max(o,t.endDTS)}var u=r-t.start;t.start=t.startPTS=r,t.maxStartPTS=a,t.endPTS=n,t.startDTS=i,t.endDTS=o,t.duration=n-r;var c,l,p,f=t.sn;if(!e||f<e.startSN||f>e.endSN)return 0;for(c=f-e.startSN,(l=e.fragments)[c]=t,p=c;p>0;p--)Y(l,p,p-1);for(p=c;p<l.length-1;p++)Y(l,p,p+1);return e.PTSKnown=!0,u}function J(e,t){t.fragments.forEach((function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}})),t.PTSKnown=!0}function Q(e,t,r){!function(e,t,r){if(function(e,t,r){var n=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(n=!0),n}(e,r,t)){var n=function(e,t){var r=e.fragments,n=t.fragments;if(n.length&&r.length){var i=function(e,t){for(var r=null,n=0;n<e.length;n+=1){var i=e[n];if(i&&i.cc===t){r=i;break}}return r}(r,n[0].cc);if(i&&(!i||i.startPTS))return i;u.b.log("No frag in previous level to align on")}else u.b.log("No fragments to align")}(r.details,t);n&&(u.b.log("Adjusting PTS using last level due to CC increase within current level"),J(n.start,t))}}(e,r,t),!r.PTSKnown&&t&&function(e,t){if(t&&t.fragments.length){if(!e.hasProgramDateTime||!t.hasProgramDateTime)return;var r=t.fragments[0].programDateTime,n=(e.fragments[0].programDateTime-r)/1e3+t.fragments[0].start;Object(s.a)(n)&&(u.b.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),J(n,e))}}(r,t.details)}function Z(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function ee(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}var te=function(){function e(e,t,r,n){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var t=e.prototype;return t.poll=function(e){var t=this.config,r=this.media,n=this.stalled,i=r.currentTime,o=r.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,i===e){if((s||a)&&(this.stalled=null),!r.paused&&!r.ended&&0!==r.playbackRate&&r.buffered.length){var d=G.bufferInfo(r,i,0),c=d.len>0,l=d.nextStart||0;if(c||l){if(o){if(d.len>2||!l||l-i>2)return;this.moved=!1}if(!this.moved&&this.stalled){var p=Math.max(l,d.start||0)-i;if(p>0&&p<=2)return void this._trySkipBufferHole(null)}var f=self.performance.now();if(null!==n){var h=f-n;!o&&h>=250&&this._reportStall(d.len);var y=G.bufferInfo(r,i,t.maxBufferHole);this._tryFixBufferStall(y,h)}else this.stalled=f}}}else if(this.moved=!0,null!==n){if(this.stallReported){var m=self.performance.now()-n;u.b.warn("playback not stuck anymore @"+i+", after "+Math.round(m)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media.currentTime,o=n.getPartialFragment(i);o&&this._trySkipBufferHole(o)||e.len>r.maxBufferHole&&t>1e3*r.highBufferWatchdogPeriod&&(u.b.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},t._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,u.b.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},t._trySkipBufferHole=function(e){for(var t=this.config,r=this.hls,n=this.media,i=n.currentTime,o=0,s=0;s<n.buffered.length;s++){var c=n.buffered.start(s);if(i+t.maxBufferHole>=o&&i<c){var l=Math.max(c+.05,n.currentTime+.1);return u.b.warn("skipping hole, adjusting currentTime from "+i+" to "+l),this.moved=!0,this.stalled=null,n.currentTime=l,e&&r.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+l,frag:e}),l}o=n.buffered.end(s)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=r.currentTime,i=(this.nudgeRetry||0)+1;if(this.nudgeRetry=i,i<e.nudgeMaxRetry){var o=n+i*e.nudgeOffset;u.b.warn("Nudging 'currentTime' from "+n+" to "+o),r.currentTime=o,t.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else u.b.error("Playhead still not moving while enough data buffered @"+n+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_STALLED_ERROR,fatal:!0})},e}();function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ne="STOPPED",ie="IDLE",oe="KEY_LOADING",ae="FRAG_LOADING",se="FRAG_LOADING_WAITING_RETRY",de="PARSING",ue="PARSED",ce="BUFFER_FLUSHING",le="ERROR",pe="WAITING_LEVEL";var fe=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,t,d.a.MEDIA_ATTACHED,d.a.MEDIA_DETACHING,d.a.MANIFEST_LOADING,d.a.MANIFEST_PARSED,d.a.LEVEL_LOADED,d.a.KEY_LOADED,d.a.FRAG_LOADED,d.a.FRAG_LOAD_EMERGENCY_ABORTED,d.a.FRAG_PARSING_INIT_SEGMENT,d.a.FRAG_PARSING_DATA,d.a.FRAG_PARSED,d.a.ERROR,d.a.AUDIO_TRACK_SWITCHING,d.a.AUDIO_TRACK_SWITCHED,d.a.BUFFER_CREATED,d.a.BUFFER_APPENDED,d.a.BUFFER_FLUSHED)||this).fragmentTracker=r,n.config=t.config,n.audioCodecSwap=!1,n._state=ne,n.stallReported=!1,n.gapController=null,n.altAudio=!1,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o,c=n.prototype;return c.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=r.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(u.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=ie,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=ne},c.stopLoad=function(){this.forceStartLoad=!1,e.prototype.stopLoad.call(this)},c.doTick=function(){switch(this.state){case ce:this.fragLoadError=0;break;case ie:this._doTickIdle();break;case pe:var e=this.levels[this.level];e&&e.details&&(this.state=ie);break;case se:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(u.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ie)}this._checkBuffer(),this._checkFragmentChanged()},c._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var n;n=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i];if(o){var a,s=o.bitrate;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var c=G.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,n,t.maxBufferHole),l=c.len;if(!(l>=a)){u.b.trace("buffer length of "+l.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var p=o.details;if(!p||p.live&&this.levelLastLoaded!==i)this.state=pe;else{if(this._streamEnded(c,p)){var f={};return this.altAudio&&(f.type="video"),this.hls.trigger(d.a.BUFFER_EOS,f),void(this.state="ENDED")}this._fetchPayloadOrEos(n,c,p)}}}}},c._fetchPayloadOrEos=function(e,t,r){var n=this.fragPrevious,i=this.level,o=r.fragments,a=o.length;if(0!==a){var s,d=o[0].start,c=o[a-1].start+o[a-1].duration,l=t.end;if(r.initSegment&&!r.initSegment.data)s=r.initSegment;else if(r.live){var p=this.config.initialLiveManifestSize;if(a<p)return void u.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+p);if(null===(s=this._ensureFragmentAtLivePoint(r,l,d,c,n,o,a)))return}else l<d&&(s=o[0]);s||(s=this._findFragment(d,n,a,o,l,c,r)),s&&(s.encrypted?(u.b.log("Loading key for "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i),this._loadKey(s)):(u.b.log("Loading "+s.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+i+", currentTime:"+e.toFixed(3)+",bufferEnd:"+l.toFixed(3)),this._loadFragment(s)))}},c._ensureFragmentAtLivePoint=function(e,t,r,n,i,o,a){var d,c=this.hls.config,l=this.media,p=void 0!==c.liveMaxLatencyDuration?c.liveMaxLatencyDuration:c.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-c.maxFragLookUpTolerance,n-p)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);t=f,l&&!l.paused&&l.readyState&&l.duration>f&&f>l.currentTime&&(u.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),l.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>n&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(i)if(e.hasProgramDateTime)u.b.log("live playlist, switching playlist, load frag with same PDT: "+i.programDateTime),d=function(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!Object(s.a)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var i=e[n];if(ee(t,r,i))return i}return null}(o,i.endProgramDateTime,c.maxFragLookUpTolerance);else{var h=i.sn+1;if(h>=e.startSN&&h<=e.endSN){var y=o[h-e.startSN];i.cc===y.cc&&(d=y,u.b.log("live playlist, switching playlist, load frag with next SN: "+d.sn))}d||(d=N(o,(function(e){return i.cc-e.cc})))&&u.b.log("live playlist, switching playlist, load frag with same CC: "+d.sn)}d||(d=o[Math.min(a-1,Math.round(a/2))],u.b.log("live playlist, switching playlist, unknown, load middle frag : "+d.sn))}return d},c._findFragment=function(e,t,r,n,i,o,a){var s,d=this.hls.config;if(s=i<o?function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=e?t[e.sn-t[0].sn+1]:null;return i&&!Z(r,n,i)?i:N(t,Z.bind(null,r,n))}(t,n,i,i>o-d.maxFragLookUpTolerance?0:d.maxFragLookUpTolerance):n[r-1]){var c=s.sn-a.startSN,l=t&&s.level===t.level,p=n[c-1],f=n[c+1];if(t&&s.sn===t.sn)if(l&&!s.backtracked)if(s.sn<a.endSN){var h=t.deltaPTS;h&&h>d.maxBufferHole&&t.dropped&&c?(s=p,u.b.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=f,u.b.log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(f&&f.backtracked?(u.b.warn("Already backtracked from fragment "+f.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+f.sn),s=f):(u.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,p?(s=p).backtracked=!0:c&&(s=null)))}return s},c._loadKey=function(e){this.state=oe,this.hls.trigger(d.a.KEY_LOADING,{frag:e})},c._loadFragment=function(e){var t=this.fragmentTracker.getState(e);this.fragCurrent=e,"initSegment"!==e.sn&&(this.startFragRequested=!0),Object(s.a)(e.sn)&&!e.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),e.backtracked||t===M||t===O?(e.autoLevel=this.hls.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.hls.trigger(d.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new q(this.hls,"main")),this.state=ae):t===D&&this._reduceMaxBufferLength(e.duration)&&this.fragmentTracker.removeFragment(e)},c.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,i.MAIN)},c.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},c._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),G.isBuffered(r,t)?e=this.getBufferedFrag(t):G.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var n=e;if(n!==this.fragPlaying){this.hls.trigger(d.a.FRAG_CHANGED,{frag:n});var i=n.level;this.fragPlaying&&this.fragPlaying.level===i||this.hls.trigger(d.a.LEVEL_SWITCHED,{level:i}),this.fragPlaying=n}}},c.immediateLevelSwitch=function(){if(u.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e,t=this.media;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var r=this.fragCurrent;r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},c.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,G.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},c.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t,r,n;if((r=this.getBufferedFrag(e.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(e.currentTime+t))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},c.flushMainBuffer=function(e,t){this.state=ce;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(d.a.BUFFER_FLUSHING,r)},c.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new te(r,t,this.fragmentTracker,this.hls)},c.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(u.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},c.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;Object(s.a)(t)&&u.b.log("media seeked to "+t.toFixed(3)),this.tick()},c.onManifestLoading=function(){u.b.log("trigger BUFFER_RESET"),this.hls.trigger(d.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},c.onManifestParsed=function(e){var t,r=!1,n=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))})),this.audioCodecSwitch=r&&n,this.audioCodecSwitch&&u.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=e.altAudio,this.levels=e.levels,this.startFragRequested=!1;var i=this.config;(i.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(i.startPosition)},c.onLevelLoaded=function(e){var t=e.details,r=e.level,n=this.levels[this.levelLastLoaded],i=this.levels[r],o=t.totalduration,a=0;if(u.b.log("level "+r+" loaded ["+t.startSN+","+t.endSN+"],duration:"+o),t.live){var c=i.details;c&&t.fragments.length>0?(function(e,t){t.initSegment&&e.initSegment&&(t.initSegment=e.initSegment);var r,n=0;if(function(e,t,r){if(e&&t)for(var n=Math.max(e.startSN,t.startSN)-t.startSN,i=Math.min(e.endSN,t.endSN)-t.startSN,o=t.startSN-e.startSN,a=n;a<=i;a++){var s=e.fragments[o+a],d=t.fragments[a];if(!s||!d)break;r(s,d)}}(e,t,(function(e,i){n=e.cc-i.cc,Object(s.a)(e.startPTS)&&(i.start=i.startPTS=e.startPTS,i.endPTS=e.endPTS,i.duration=e.duration,i.backtracked=e.backtracked,i.dropped=e.dropped,r=i),t.PTSKnown=!0})),t.PTSKnown){if(n){u.b.log("discontinuity sliding from playlist, take drift into account");for(var i=t.fragments,o=0;o<i.length;o++)i[o].cc+=n}r?X(t,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):function(e,t){var r=t.startSN-e.startSN,n=e.fragments,i=t.fragments;if(!(r<0||r>n.length))for(var o=0;o<i.length;o++)i[o].start+=n[r].start}(e,t),t.PTSKnown=e.PTSKnown}}(c,t),a=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(a,c),t.PTSKnown&&Object(s.a)(a)?u.b.log("live playlist sliding:"+a.toFixed(3)):(u.b.log("live playlist - outdated PTS, unknown sliding"),Q(this.fragPrevious,n,t))):(u.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,Q(this.fragPrevious,n,t))}else t.PTSKnown=!1;if(i.details=t,this.levelLastLoaded=r,this.hls.trigger(d.a.LEVEL_UPDATED,{details:t,level:r}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=t.startTimeOffset;Object(s.a)(l)?(l<0&&(u.b.log("negative start time offset "+l+", count from end of last fragment"),l=a+o+l),u.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):t.live?(this.startPosition=this.computeLivePosition(a,t),u.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===pe&&(this.state=ie),this.tick()},c.onKeyLoaded=function(){this.state===oe&&(this.state=ie,this.tick())},c.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,n=this.levels,i=this.media,o=e.frag;if(this.state===ae&&t&&"main"===o.type&&o.level===t.level&&o.sn===t.sn){var a=e.stats,s=n[t.level],c=s.details;if(this.bitrateTest=!1,this.stats=a,u.b.log("Loaded "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level),o.bitrateTest&&r.nextLoadLevel)this.state=ie,this.startFragRequested=!1,a.tparsed=a.tbuffered=window.performance.now(),r.trigger(d.a.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else if("initSegment"===o.sn)this.state=ie,a.tparsed=a.tbuffered=window.performance.now(),c.initSegment.data=e.payload,r.trigger(d.a.FRAG_BUFFERED,{stats:a,frag:t,id:"main"}),this.tick();else{u.b.log("Parsing "+t.sn+" of ["+c.startSN+" ,"+c.endSN+"],level "+t.level+", cc "+t.cc),this.state=de,this.pendingBuffering=!0,this.appended=!1,o.bitrateTest&&(o.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:o}));var l=!(i&&i.seeking)&&(c.PTSKnown||!c.live),p=c.initSegment?c.initSegment.data:[],f=this._getAudioCodec(s);(this.demuxer=this.demuxer||new q(this.hls,"main")).push(e.payload,p,f,s.videoCodec,t,c.totalduration,l)}}this.fragLoadError=0},c.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===de){var n,i,o=e.tracks;if(o.audio&&this.altAudio&&delete o.audio,i=o.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(u.b.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==i.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==i.container&&(a="mp4a.40.2",u.b.log("Android: force audio codec to "+a)),i.levelCodec=a,i.id=e.id}for(n in(i=o.video)&&(i.levelCodec=this.levels[this.level].videoCodec,i.id=e.id),this.hls.trigger(d.a.BUFFER_CODECS,o),o){i=o[n],u.b.log("main track:"+n+",container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var c=i.initSegment;c&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(d.a.BUFFER_APPENDING,{type:n,data:c,parent:"main",content:"initSegment"}))}this.tick()}},c.onFragParsingData=function(e){var t=this,r=this.fragCurrent,n=e.frag;if(r&&"main"===e.id&&n.sn===r.sn&&n.level===r.level&&("audio"!==e.type||!this.altAudio)&&this.state===de){var i=this.levels[this.level],o=r;if(Object(s.a)(e.endPTS)||(e.endPTS=e.startPTS+r.duration,e.endDTS=e.startDTS+r.duration),!0===e.hasAudio&&o.addElementaryStream(f.AUDIO),!0===e.hasVideo&&o.addElementaryStream(f.VIDEO),u.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(o.dropped=e.dropped,o.dropped)if(o.backtracked)u.b.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var a=i.details;if(!a||o.sn!==a.startSN)return u.b.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=ie,this.fragPrevious=o,void this.tick();u.b.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var c=X(i.details,o,e.startPTS,e.endPTS,e.startDTS,e.endDTS),l=this.hls;l.trigger(d.a.LEVEL_PTS_UPDATED,{details:i.details,level:this.level,drift:c,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach((function(r){r&&r.length&&t.state===de&&(t.appended=!0,t.pendingBuffering=!0,l.trigger(d.a.BUFFER_APPENDING,{type:e.type,data:r,parent:"main",content:"data"}))})),this.tick()}},c.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===de&&(this.stats.tparsed=window.performance.now(),this.state=ue,this._checkAppendedParsed())},c.onAudioTrackSwitching=function(e){var t=!!e.url,r=e.id;if(!t){if(this.mediaBuffer!==this.media){u.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(u.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ie}var i=this.hls;i.trigger(d.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),i.trigger(d.a.AUDIO_TRACK_SWITCHED,{id:r}),this.altAudio=!1}},c.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(u.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=r,this.tick()},c.onBufferCreated=function(e){var t,r,n=e.tracks,i=!1;for(var o in n){var a=n[o];"main"===a.id?(r=o,t=a,"video"===o&&(this.videoBuffer=n[o].buffer)):i=!0}i&&t?(u.b.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},c.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==de&&t!==ue||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},c._checkAppendedParsed=function(){if(!(this.state!==ue||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;u.b.log("main buffered : "+function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(d.a.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=ie}this.tick()}},c.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var r=!!this.media&&G.isBuffered(this.media,this.media.currentTime)&&G.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=window.performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=se}else u.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=le;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:this.state!==le&&(e.fatal?(this.state=le,u.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==pe||(this.state=ie));break;case a.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==de&&this.state!==ue||(r?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ie):(u.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},c._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,u.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},c._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},c.onFragLoadEmergencyAborted=function(){this.state=ie,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},c.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(f.VIDEO,e.buffered),this.state=ie,this.fragPrevious=null},c.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},c._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&r>=0&&(u.b.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},c._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(u.b.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},(o=[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,u.b.log("main stream-controller: "+t+"->"+e),this.hls.trigger(d.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n.prototype,o),n}(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.doTick=function(){},i.startLoad=function(){},i.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ne},i._streamEnded=function(e,t){var r=this.fragCurrent,n=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var i=n.getState(r);return i===O||"OK"===i}return!1},i.onMediaSeeking=function(){var e=this.config,t=this.media,r=this.mediaBuffer,n=this.state,i=t?t.currentTime:null,o=G.bufferInfo(r||t,i,this.config.maxBufferHole);if(Object(s.a)(i)&&u.b.log("media seeking to "+i.toFixed(3)),n===ae){var a=this.fragCurrent;if(0===o.len&&a){var d=e.maxFragLookUpTolerance,c=a.start-d,l=a.start+a.duration+d;i<c||i>l?(a.loader&&(u.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ie):u.b.log("seeking outside of buffer but within currently loaded fragment range")}}else"ENDED"===n&&(0===o.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=ie);t&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},i.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},i.onHandlerDestroyed=function(){this.state=ne,this.fragmentTracker=null},i.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},n}(function(e){var t,r;function n(t){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(r=e.call.apply(e,[this,t].concat(i))||this)._boundTick=void 0,r._tickTimer=null,r._tickInterval=null,r._tickCallCount=0,r._boundTick=r.tick.bind(re(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},i.hasInterval=function(){return!!this._tickInterval},i.hasNextTick=function(){return!!this._tickTimer},i.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},i.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},i.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},i.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},i.doTick=function(){},n}(l)));window.performance;var he,ye=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.MANIFEST_LOADED,d.a.LEVEL_LOADED,d.a.AUDIO_TRACK_SWITCHED,d.a.FRAG_LOADED,d.a.ERROR)||this).canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,he=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o=n.prototype;return o.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},o.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},o.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},o.stopLoad=function(){this.canload=!1},o.onManifestLoaded=function(e){var t,r=[],n=[],i={},o=null,s=!1,c=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,s=s||!!e.videoCodec,c=c||!!e.audioCodec,he&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(o=i[e.bitrate])?o.url.push(e.url):(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(c=!0,$(o||e,"audio",t.AUDIO)),t.SUBTITLES&&$(o||e,"text",t.SUBTITLES))})),s&&c&&(r=r.filter((function(e){return!!e.videoCodec}))),r=r.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||k(t,"audio"))&&(!r||k(r,"video"))})),e.audioTracks&&(n=e.audioTracks.filter((function(e){return!e.audioCodec||k(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),r.length>0){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var l=0;l<r.length;l++)if(r[l].bitrate===t){this._firstLevel=l,u.b.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(d.a.MANIFEST_PARSED,{levels:r,audioTracks:n,firstLevel:this._firstLevel,stats:e.stats,audio:c,video:s,altAudio:n.some((function(e){return!!e.url}))})}else this.hls.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},o.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){u.b.log("switching to level "+e),this.currentLevelIndex=e;var n=t[e];n.level=e,r.trigger(d.a.LEVEL_SWITCHING,n)}var i=t[e],o=i.details;if(!o||o.live){var s=i.urlId;r.trigger(d.a.LEVEL_LOADING,{url:i.url[s],level:e,id:s})}}else r.trigger(d.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},o.onError=function(e){if(e.fatal)e.type===a.b.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,n=!1;switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:t=e.frag.level,n=!0;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case a.a.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,n)}},o.recoverLevel=function(e,t,r,n){var i,o,a,s=this,d=this.hls.config,c=e.details,l=this._levels[t];if(l.loadError++,l.fragmentError=n,r){if(!(this.levelRetryCount+1<=d.levelLoadingMaxRetry))return u.b.error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*d.levelLoadingRetryDelay,d.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),o),e.levelRetry=!0,this.levelRetryCount++,u.b.warn("level controller, "+c+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(r||n)&&((i=l.url.length)>1&&l.loadError<i?(l.urlId=(l.urlId+1)%i,l.details=void 0,u.b.warn("level controller, "+c+" for level "+t+": switching to redundant URL-id "+l.urlId)):-1===this.manualLevelIndex?(a=0===t?this._levels.length-1:t-1,u.b.warn("level controller, "+c+": switch to "+a),this.hls.nextAutoLevel=this.currentLevelIndex=a):n&&(u.b.warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},o.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},o.onLevelLoaded=function(e){var t=this,r=e.level,n=e.details;if(r===this.currentLevelIndex){var i=this._levels[r];if(i.fragmentError||(i.loadError=0,this.levelRetryCount=0),n.live){var o=function(e,t,r){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),i=n/2;return e&&t.endSN===e.endSN&&(n=i),r&&(n=Math.max(i,n-(window.performance.now()-r))),Math.round(n)}(i.details,n,e.stats.trequest);u.b.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),o)}else this.clearTimer()}},o.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){for(var n=-1,i=0;i<r.audioGroupIds.length;i++)if(r.audioGroupIds[i]===t){n=i;break}n!==r.urlId&&(r.urlId=n,this.startLoad())}},o.loadLevel=function(){if(u.b.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,n=e.url[r];u.b.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(d.a.LEVEL_LOADING,{url:n,level:t,id:r})}}},(i=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n.prototype,i),n}(l),me=r(4);function ge(e,t){var r;try{r=new Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}var ve=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.MEDIA_ATTACHED,d.a.MEDIA_DETACHING,d.a.FRAG_PARSING_METADATA,d.a.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,r.media=void 0,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){l.prototype.destroy.call(this)},i.onMediaAttached=function(e){this.media=e.media,this.media},i.onMediaDetaching=function(){!function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}(this.id3Track),this.id3Track=void 0,this.media=void 0},i.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return ge(r,this.media),r}return this.media.addTextTrack("metadata","id3")},i.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,i=0;i<r.length;i++){var o=me.a.getID3Frames(r[i].data);if(o){var a=r[i].pts,s=i<r.length-1?r[i+1].pts:t.endPTS;a===s?s+=1e-4:a>s&&(u.b.warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),s=a+.25);for(var d=0;d<o.length;d++){var c=o[d];if(!me.a.isTimeStampFrame(c)){var l=new n(a,s,"");l.value=c,this.id3Track.addCue(l)}}}}},i.onLiveBackBufferReached=function(e){var t=e.bufferEnd,r=this.id3Track;if(r&&r.cues&&r.cues.length){var n=function(e,t){if(t<e[0].endTime)return e[0];if(t>e[e.length-1].endTime)return e[e.length-1];for(var r=0,n=e.length-1;r<=n;){var i=Math.floor((n+r)/2);if(t<e[i].endTime)n=i-1;else{if(!(t>e[i].endTime))return e[i];r=i+1}}return e[r].endTime-t<t-e[n].endTime?e[r]:e[n]}(r.cues,t);if(n)for(;r.cues[0]!==n;)r.removeCue(r.cues[0])}},n}(l),be=function(){function e(e){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),Pe=function(){function e(e,t,r,n){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=e,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new be(t),this.fast_=new be(r)}var t=e.prototype;return t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();var ke=window.performance,Se=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.FRAG_LOADING,d.a.FRAG_LOADED,d.a.FRAG_BUFFERED,d.a.ERROR)||this).lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=t,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o=n.prototype;return o.destroy=function(){this.clearTimer(),l.prototype.destroy.call(this)},o.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r,n,i=this.hls,o=i.config,a=t.level;i.levels[a].details.live?(r=o.abrEwmaFastLive,n=o.abrEwmaSlowLive):(r=o.abrEwmaFastVoD,n=o.abrEwmaSlowVoD),this._bwEstimator=new Pe(i,n,r,o.abrEwmaDefaultEstimate)}},o._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var n=r.loader,i=e.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return u.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var o=n.stats;if(t&&o&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var a=ke.now()-o.trequest,s=Math.abs(t.playbackRate);if(a>500*r.duration/s){var c=e.levels,l=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),p=c[r.level],f=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,h=o.total?o.total:Math.max(o.loaded,Math.round(r.duration*f/8)),y=t.currentTime,m=(h-o.loaded)/l,g=(G.bufferInfo(t,y,e.config.maxBufferHole).end-y)/s;if(g<2*r.duration/s&&m>g){var v;for(v=r.level-1;v>i;v--){var b=c[v].realBitrate?Math.max(c[v].realBitrate,c[v].bitrate):c[v].bitrate;if(r.duration*b/(6.4*l)<g)break}void 0<m&&(u.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+m.toFixed(1)+":"+g.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(a,o.loaded),n.abort(),this.clearTimer(),e.trigger(d.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:o}))}}}}},o.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&Object(s.a)(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var r=this.hls.levels[t.level],n=(r.loaded?r.loaded.bytes:0)+e.stats.loaded,i=(r.loaded?r.loaded.duration:0)+e.frag.duration;r.loaded={bytes:n,duration:i},r.realBitrate=Math.round(8*n/i)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}},o.onFragBuffered=function(e){var t=e.stats,r=e.frag;if(!0!==t.aborted&&"main"===r.type&&Object(s.a)(r.sn)&&(!r.bitrateTest||t.tload===t.tbuffered)){var n=t.tparsed-t.trequest;u.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(n,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},o.onError=function(e){switch(e.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},o.clearTimer=function(){clearInterval(this.timer),this.timer=null},o._findBestLevel=function(e,t,r,n,i,o,a,s,d){for(var c=i;c>=n;c--){var l=d[c];if(l){var p,f=l.details,h=f?f.totalduration/f.fragments.length:t,y=!!f&&f.live;p=c<=e?a*r:s*r;var m=d[c].realBitrate?Math.max(d[c].realBitrate,d[c].bitrate):d[c].bitrate,g=m*h/p;if(u.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(p)+"/"+m+"/"+h+"/"+o+"/"+g),p>m&&(!g||y&&!this.bitrateTestDelay||g<o))return c}}return-1},(i=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,n=e.config,i=e.minAutoLevel,o=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,d=o?o.currentTime:0,c=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,l=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,p=(G.bufferInfo(o,d,n.maxBufferHole).end-d)/c,f=this._findBestLevel(a,s,l,i,t,p,n.abrBandWidthFactor,n.abrBandWidthUpFactor,r);if(f>=0)return f;u.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var h=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,y=n.abrBandWidthFactor,m=n.abrBandWidthUpFactor;if(0===p){var g=this.bitrateTestDelay;g&&(h=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-g,u.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*h)+" ms"),y=m=1)}return f=this._findBestLevel(a,s,l,i,t,p+h,y,m,r),Math.max(f,0)}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n.prototype,i),n}(l),Te=j(),Ee=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.MEDIA_ATTACHING,d.a.MEDIA_DETACHING,d.a.MANIFEST_PARSED,d.a.BUFFER_RESET,d.a.BUFFER_APPENDING,d.a.BUFFER_CODECS,d.a.BUFFER_EOS,d.a.BUFFER_FLUSHING,d.a.LEVEL_PTS_UPDATED,d.a.LEVEL_UPDATED)||this)._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r._needsFlush=!1,r._needsEos=!1,r.config=void 0,r.audioTimestampOffset=void 0,r.bufferCodecEventsExpected=0,r._bufferCodecEventsTotal=0,r.media=null,r.mediaSource=null,r.segments=[],r.parent=void 0,r.appending=!1,r.appended=0,r.appendError=0,r.flushBufferCounter=0,r.tracks={},r.pendingTracks={},r.sourceBuffer={},r.flushRange=[],r._onMediaSourceOpen=function(){u.b.log("media source opened"),r.hls.trigger(d.a.MEDIA_ATTACHED,{media:r.media});var e=r.mediaSource;e&&e.removeEventListener("sourceopen",r._onMediaSourceOpen),r.checkPendingTracks()},r._onMediaSourceClose=function(){u.b.log("media source closed")},r._onMediaSourceEnded=function(){u.b.log("media source ended")},r._onSBUpdateEnd=function(){if(r.audioTimestampOffset&&r.sourceBuffer.audio){var e=r.sourceBuffer.audio;u.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+r.audioTimestampOffset),e.timestampOffset=r.audioTimestampOffset,delete r.audioTimestampOffset}r._needsFlush&&r.doFlush(),r._needsEos&&r.checkEos(),r.appending=!1;var t=r.parent,n=r.segments.reduce((function(e,r){return r.parent===t?e+1:e}),0),i={},o=r.sourceBuffer;for(var a in o){var s=o[a];if(!s)throw Error("handling source buffer update end error: source buffer for "+a+" uninitilized and unable to update buffered TimeRanges.");i[a]=s.buffered}r.hls.trigger(d.a.BUFFER_APPENDED,{parent:t,pending:n,timeRanges:i}),r._needsFlush||r.doAppending(),r.updateMediaElementDuration(),0===n&&r.flushLiveBackBuffer()},r._onSBUpdateError=function(e){u.b.error("sourceBuffer error:",e),r.hls.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},r.config=t.config,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){l.prototype.destroy.call(this)},i.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-e.start)>.1){var i=n.updating;try{n.abort()}catch(e){u.b.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(u.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}},i.onManifestParsed=function(e){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e.altAudio?2:1,u.b.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},i.onMediaAttaching=function(e){var t=this.media=e.media;if(t&&Te){var r=this.mediaSource=new Te;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},i.onMediaDetaching=function(){u.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){u.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(d.a.MEDIA_DETACHED)},i.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},i.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{r&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this._onSBUpdateEnd),r.removeEventListener("error",this._onSBUpdateError))}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},i.onBufferCodecs=function(e){var t=this;Object.keys(this.sourceBuffer).length||(Object.keys(e).forEach((function(r){t.pendingTracks[r]=e[r]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},i.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var o=i.levelCodec||i.codec,s=i.container+";codecs="+o;u.b.log("creating sourceBuffer("+s+")");try{var c=t[n]=r.addSourceBuffer(s);c.addEventListener("updateend",this._onSBUpdateEnd),c.addEventListener("error",this._onSBUpdateError),this.tracks[n]={buffer:c,codec:o,id:i.id,container:i.container,levelCodec:i.levelCodec}}catch(e){u.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(d.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(d.a.BUFFER_CREATED,{tracks:this.tracks})},i.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},i.onBufferEos=function(e){for(var t in this.sourceBuffer)if(!e.type||e.type===t){var r=this.sourceBuffer[t];r&&!r.ended&&(r.ended=!0,u.b.log(t+" sourceBuffer now EOS"))}this.checkEos()},i.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var n=e[r];if(n){if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}}u.b.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){u.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},i.onBufferFlushing=function(e){e.type?this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}):(this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"video"}),this.flushRange.push({start:e.startOffset,end:e.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},i.flushLiveBackBuffer=function(){if(this._live){var e=this.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))if(this.media)for(var t=this.media.currentTime,r=this.sourceBuffer,n=Object.keys(r),i=t-Math.max(e,this._levelTargetDuration),o=n.length-1;o>=0;o--){var a=n[o],s=r[a];if(s){var c=s.buffered;c.length>0&&i>c.start(0)&&this.removeBufferRange(a,s,0,i)&&this.hls.trigger(d.a.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i})}}else u.b.error("flushLiveBackBuffer called without attaching media")}},i.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},i.updateMediaElementDuration=function(){var e,t=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var r in this.sourceBuffer){var n=this.sourceBuffer[r];if(n&&!0===n.updating)return}e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(u.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||!Object(s.a)(e))&&(u.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},i.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var n in r){var i=r[n];i&&(t+=i.buffered.length)}}catch(e){u.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(d.a.BUFFER_FLUSHED)}},i.doAppending=function(){var e=this.config,t=this.hls,r=this.segments,n=this.sourceBuffer;if(Object.keys(n).length){if(!this.media||this.media.error)return this.segments=[],void u.b.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var i=r.shift();if(i)try{var o=n[i.type];if(!o)return void this._onSBUpdateEnd();if(o.updating)return void r.unshift(i);o.ended=!1,this.parent=i.parent,o.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0}catch(n){u.b.error("error while trying to append buffer:"+n.message),r.unshift(i);var s={type:a.b.MEDIA_ERROR,parent:i.parent,details:"",fatal:!1};22===n.code?(this.segments=[],s.details=a.a.BUFFER_FULL_ERROR):(this.appendError++,s.details=a.a.BUFFER_APPEND_ERROR,this.appendError>e.appendErrorMaxRetry&&(u.b.log("fail "+e.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0)),t.trigger(d.a.ERROR,s)}}}},i.flushBuffer=function(e,t,r){var n=this.sourceBuffer;if(!Object.keys(n).length)return!0;var i="null";if(this.media&&(i=this.media.currentTime.toFixed(3)),u.b.log("flushBuffer,pos/start/end: "+i+"/"+e+"/"+t),this.flushBufferCounter>=this.appended)return u.b.warn("abort flushing too many retries"),!0;var o=n[r];if(o){if(o.ended=!1,o.updating)return u.b.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(r,o,e,t))return this.flushBufferCounter++,!1}return u.b.log("buffer flushed"),!0},i.removeBufferRange=function(e,t,r,n){try{for(var i=0;i<t.buffered.length;i++){var o=t.buffered.start(i),a=t.buffered.end(i),s=Math.max(o,r),d=Math.min(a,n);if(Math.min(d,a)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),u.b.log("sb remove "+e+" ["+s+","+d+"], of ["+o+","+a+"], pos:"+c),t.remove(s,d),!0}}}catch(e){u.b.warn("removeBufferRange failed",e)}return!1},n}(l);function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var we,Ce=function(e){var t,r;function n(t){var r;return(r=e.call(this,t,d.a.FPS_DROP_LEVEL_CAPPING,d.a.MEDIA_ATTACHING,d.a.MANIFEST_PARSED,d.a.BUFFER_CODECS,d.a.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,r.firstLevel=null,r.levels=[],r.media=null,r.restrictedLevels=[],r.timer=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,o,a,s=n.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.stopCapping())},s.onFpsDropLevelCapping=function(e){n.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},s.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},s.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()},s.onLevelsUpdated=function(e){this.levels=e.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},s.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var r=this.levels.filter((function(r,i){return n.isLevelAllowed(i,t.restrictedLevels)&&i<=e}));return n.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},n.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},n.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var n,i,o=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=r)&&(n=s,!(i=e[a+1])||n.width!==i.width||n.height!==i.height)){o=a;break}}return o},i=n,a=[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}],(o=[{key:"mediaWidth",get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=n.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=n.contentScaleFactor),e}}])&&xe(i.prototype,o),a&&xe(i,a),n}(l),Ae=window.performance,_e=function(e){var t,r;function n(t){return e.call(this,t,d.a.MEDIA_ATTACHING)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},i.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},i.checkFPS=function(e,t,r){var n=Ae.now();if(t){if(this.lastTime){var i=n-this.lastTime,o=r-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/i,c=this.hls;if(c.trigger(d.a.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:r}),s>0&&o>c.config.fpsDroppedMonitoringThreshold*a){var l=c.currentLevel;u.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=l)&&(l-=1,c.trigger(d.a.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:c.currentLevel}),c.autoLevelCapping=l,c.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},i.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},n}(l),Le=window,Ie=Le.performance,Re=Le.XMLHttpRequest,Me=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}var t=e.prototype;return t.destroy=function(){this.abort(),this.loader=null},t.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:Ie.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e,t=this.context;e=this.loader=new Re;var r=this.stats;r.tfirst=0,r.loaded=0;var n=this.xhrSetup;try{if(n)try{n(e,t.url)}catch(r){e.open("GET",t.url,!0),n(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},t.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,i=this.context,o=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(Ie.now(),n.trequest)),4===r){var a=t.status;if(a>=200&&a<300){var s,d;n.tload=Math.max(n.tfirst,Ie.now()),d="arraybuffer"===i.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=d;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,i,t)}else n.retry>=o.maxRetry||a>=400&&a<499?(u.b.error(a+" while loading "+i.url),this.callbacks.onError({code:a,text:t.statusText},i,t)):(u.b.warn(a+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},t.loadtimeout=function(){u.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var n=this.callbacks.onProgress;n&&n(r,this.context,null,t)},e}();function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(6),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(we||(we={}));var Oe=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){De(e,t,r[t])}))}return e}({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Me,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Se,bufferController:Ee,capLevelController:Ce,fpsController:_e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:"undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null},{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0});function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t,r){return t&&Ge(e.prototype,t),r&&Ge(e,r),e}r.d(t,"default",(function(){return Ue}));var Ue=function(e){var t,r;function n(t){var r;void 0===t&&(t={}),(r=e.call(this)||this).config=void 0,r._autoLevelCapping=void 0,r.abrController=void 0,r.capLevelController=void 0,r.levelController=void 0,r.streamController=void 0,r.networkControllers=void 0,r.audioTrackController=void 0,r.subtitleTrackController=void 0,r.emeController=void 0,r.coreComponents=void 0,r.media=null,r.url=null;var i=n.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");r.config=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Fe(e,t,r[t])}))}return e}({},i,t);var o=Ne(r).config;if(void 0!==o.liveMaxLatencyDurationCount&&o.liveMaxLatencyDurationCount<=o.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==o.liveMaxLatencyDuration&&(void 0===o.liveSyncDuration||o.liveMaxLatencyDuration<=o.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u.a)(o.debug),r._autoLevelCapping=-1;var a=r.abrController=new o.abrController(Ne(r)),s=new o.bufferController(Ne(r)),d=r.capLevelController=new o.capLevelController(Ne(r)),c=new o.fpsController(Ne(r)),l=new L(Ne(r)),p=new I(Ne(r)),f=new R(Ne(r)),h=new ve(Ne(r)),y=r.levelController=new ye(Ne(r)),m=new F(Ne(r)),g=[y,r.streamController=new fe(Ne(r),m)],v=o.audioStreamController;v&&g.push(new v(Ne(r),m)),r.networkControllers=g;var b=[l,p,f,a,s,d,c,h,m];if(v=o.audioTrackController){var P=new v(Ne(r));r.audioTrackController=P,b.push(P)}if(v=o.subtitleTrackController){var k=new v(Ne(r));r.subtitleTrackController=k,g.push(k)}if(v=o.emeController){var S=new v(Ne(r));r.emeController=S,b.push(S)}return(v=o.subtitleStreamController)&&g.push(new v(Ne(r),m)),(v=o.timelineController)&&b.push(new v(Ne(r))),r.coreComponents=b,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.isSupported=function(){return function(){var e=j();if(!e)return!1;var t=self.SourceBuffer||self.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}()},Be(n,null,[{key:"version",get:function(){return"0.13.2"}},{key:"Events",get:function(){return d.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return n.defaultConfig?n.defaultConfig:Oe},set:function(e){n.defaultConfig=e}}]);var i=n.prototype;return i.destroy=function(){u.b.log("destroy"),this.trigger(d.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},i.attachMedia=function(e){u.b.log("attachMedia"),this.media=e,this.trigger(d.a.MEDIA_ATTACHING,{media:e})},i.detachMedia=function(){u.b.log("detachMedia"),this.trigger(d.a.MEDIA_DETACHING),this.media=null},i.loadSource=function(e){e=o.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),u.b.log("loadSource:"+e),this.url=e,this.trigger(d.a.MANIFEST_LOADING,{url:e})},i.startLoad=function(e){void 0===e&&(e=-1),u.b.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},i.stopLoad=function(){u.b.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},i.swapAudioCodec=function(){u.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){u.b.log("recoverMediaError");var e=this.media;this.detachMedia(),e&&this.attachMedia(e)},Be(n,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){u.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){u.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){u.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){u.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){u.b.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){u.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"bandwidthEstimate",get:function(){var e=this.abrController._bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,n=0;n<r;n++)if((e[n].realBitrate?Math.max(e[n].realBitrate,e[n].bitrate):e[n].bitrate)>t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),n}(V);Ue.defaultConfig=void 0}]).default)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22),i=r(291);var o,a;!function(e){e.UNINITIALIZED="UNINITIALIZED",e.GENERIC="GENERIC"}(o=t.PlaybackFailure||(t.PlaybackFailure={})),t.createVideoPlayer=function(e){function t(e){return e>this.player.currentTime?a.GT:e<this.player.currentTime?a.LT:a.EQ}function r(e){this.player.currentTime=e/1e3}function s(){this.player.onplay=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.PLAYING)}.bind(this)}function d(){this.player.onplaying=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.PLAYING)}.bind(this)}function u(){this.player.onended=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.ENDED)}.bind(this)}function c(){this.player.onpause=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.PAUSED,i.EmitBehavior.AlwaysEmit)}.bind(this)}function l(){this.player.onerror=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.ERROR)}.bind(this)}function p(){this.player.onloadeddata=function(){this.playbackStateHandler.transitionToState(n.PlaybackState.LOADED)}.bind(this)}function f(){this.player.ontimeupdate=function(){const e=this.playbackStateHandler.currentPlaybackState;e===n.PlaybackState.PLAYING&&this.playbackStateHandler.transitionToState(e,i.EmitBehavior.AlwaysEmit)}.bind(this)}const h={init(){this.playbackStateHandler.transitionToState(n.PlaybackState.IDLE),s.call(this),d.call(this),u.call(this),c.call(this),l.call(this),p.call(this),f.call(this),this.playerIsInitialized=!1,this.shouldStartPlayAfterInit=!1},configure(e,t){!function(e){const{player:t,parent:r,scale:n}=e;r.appendChild(t),Object.assign(t.style,{height:"100%","object-fit":n,width:"100%"})}({player:this.player,parent:e,scale:t}),this.playerIsInitialized=!0,this.eventListener.onPlayerReady()},applyCssShadow(e){this.player.style.boxShadow=e},setCurrentTimeInSeconds(e){this.player.currentTime=e},getCurrentPlaybackPositionInSeconds(){return this.player.currentTime},getDurationInSeconds(){return this.player.duration},mute(){this.player.muted=!0},unmute(){this.player.muted=!1},load(e,t){return p.call(this),this.player.id=e,this.playbackStateHandler.transitionToState(n.PlaybackState.IDLE),this.player.src=t,this.player.load(),Promise.resolve(void 0)},play(e,i,s){if(!this.playerIsInitialized)return Promise.reject(o.UNINITIALIZED);const d=!this.playbackStateHandler.isState(n.PlaybackState.PAUSED),u=t.call(this,s)===a.GT;return d&&u&&r.call(this,s),new Promise((e,t)=>{this.player.play().then(e).catch(t)})},pause(){return this.playbackStateHandler.transitionToState(n.PlaybackState.PAUSED),this.player.pause()},end(){return this.playbackStateHandler.transitionToState(n.PlaybackState.ENDED),this.player.pause()},setVolume(e){this.player.volume=e},flush(){this.pause()},getMediaId(){return this.player.id},getMediaState(){return this.playbackStateHandler.currentPlaybackState},reset(){this.player.pause(),this.player.removeAttribute("src"),this.player.load()},destroy(){this.reset(),this.player.remove()}},y=document.createElement("video"),m=i.PlaybackStateHandler({eventListener:e,initialPlaybackState:n.PlaybackState.IDLE});return Object.defineProperties(h,{player:{value:y,writable:!1,configurable:!1},playbackStateHandler:{value:m,writable:!1,configurable:!1},eventListener:{value:e,writable:!1,configurable:!1}})},function(e){e.LT="LT",e.GT="GT",e.EQ="EQ"}(a||(a={}))},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(141),o=r(71),a=r(96),s=r(66),d=r(24),u=r(123),c=r(127),l=r(70),p=r(90),f=r(128),h=r(129),y=r(1),m=r(249),g=r(117),v=r(18),b=r(250),P=r(114),k=r(64),S={disallowDialog:!1,disallowEditText:!1,disallowVideo:!1};var T;!function(e){e[e.KeyDown=0]="KeyDown",e[e.KeyUp=1]="KeyUp"}(T=t.KeyHandlerType||(t.KeyHandlerType={}));class E{constructor(e){this.mOptions=e,this.lastPointerEventTimestamp=(new Date).getTime(),this.componentMap={},this.componentIdMap={},this.componentByMappingKey=new Map,this.supportsResizing=!1,this.configurationChangeThrottle=i(e=>{this.handleConfigurationChange(e)},200),this.startTime=Number.NaN,this.requestId=void 0,this.lastDSTCheck=0,this.screenLocked=!1,this.MAXFPS=60,this.TOLERANCE=1.2,this.previousTimeStamp=void 0,this.dropFrameCount=0,this.isEdge=g.browserIsEdge(window.navigator.userAgent),this.update=e=>{if(this.context&&(this.coreFrameUpdate(),this.context)){const t=this.context.getPendingErrors();t&&t.length&&this.onRunTimeError(t),this.dropFrameTick(e),this.requestId=requestAnimationFrame(this.update)}},this.dropFrameTick=e=>{void 0===this.previousTimeStamp||e-this.previousTimeStamp>this.maxTimeDeltaBetweenFrames&&this.dropFrameCount++,this.previousTimeStamp=e},this.getScreenCoords=e=>{let t=e.clientX,r=e.clientY;if(-1!==navigator.appVersion.indexOf("MSIE")){const e="CSS1Compat"===document.compatMode?document.documentElement:document.body;t+=e.scrollLeft,r+=e.scrollTop}return{x:t,y:r}},this.getLeavingCoords=e=>{const t=this.getViewportCoords(e);let r,n;return r=Math.abs(t.x)<5?-5:Math.abs(t.x-this.view.getBoundingClientRect().width)<5?t.x+5:t.x,n=Math.abs(t.y)<5?-5:Math.abs(t.y-this.view.getBoundingClientRect().height)<5?t.y+5:t.y,{x:r,y:n}},this.getTransformScale=()=>{let e=1,t=1;return void 0!==this.view&&(e=this.view.getBoundingClientRect().width/this.view.offsetWidth,t=this.view.getBoundingClientRect().height/this.view.offsetHeight),{scaleX:e,scaleY:t}},this.getViewportCoords=e=>{const t=this.getScreenCoords(e),r=void 0===this.view?0:this.view.getBoundingClientRect().left,n=void 0===this.view?0:this.view.getBoundingClientRect().top;return{x:(t.x-r)/this.getTransformScale().scaleX,y:(t.y-n)/this.getTransformScale().scaleY}},this.onPointerDown=e=>{this.context&&this.view&&(e instanceof MouseEvent?this.sendMousePointerEvent(e,f.PointerEventType.kPointerDown):e instanceof TouchEvent?this.sendTouchPointerEvent(e,f.PointerEventType.kPointerDown):this.logger.warn("The pointer event is not supported."))},this.onPointerMove=e=>{this.context&&this.view&&(e instanceof MouseEvent?this.sendMousePointerEvent(e,f.PointerEventType.kPointerMove):e instanceof TouchEvent?this.sendTouchPointerEvent(e,f.PointerEventType.kPointerMove):this.logger.warn("The pointer event is not supported."))},this.onPointerUp=e=>{this.context&&this.view&&(e instanceof MouseEvent?this.sendMousePointerEvent(e,f.PointerEventType.kPointerUp):e instanceof TouchEvent?(this.sendTouchPointerEvent(e,f.PointerEventType.kPointerUp),this.lastPointerEventTimestamp=(new Date).getTime()):this.logger.warn("The pointer event is not supported."))},this.onPointerLeave=e=>{if(this.context&&this.view)if(e instanceof MouseEvent){const t=this.getLeavingCoords(e);this.context.updateCursorPosition(t.x,t.y),this.sendMousePointerEvent(e,f.PointerEventType.kPointerCancel)}else e instanceof TouchEvent?this.sendTouchPointerEvent(e,f.PointerEventType.kPointerCancel):this.logger.warn("The pointer event is not supported.")},this.sendMousePointerEvent=(e,t)=>{if((new Date).getTime()-this.lastPointerEventTimestamp>500){const r=this.getViewportCoords(e);this.context.handlePointerEvent(t,r.x,r.y,E.mousePointerId,h.PointerType.kMousePointer)}},this.sendTouchPointerEvent=(e,t)=>{const r=e.changedTouches.length;for(let n=0;n<r;n++){const r=e.changedTouches.item(n),i=this.getViewportCoords(r);this.context.handlePointerEvent(t,i.x,i.y,r.identifier,h.PointerType.kTouchPointer)}},this.canPassLocalKeyDown=e=>"TV"!==this.mOptions.mode||!this.isDPadKey(e.code),this.handleKeyDown=e=>n(this,void 0,void 0,(function*(){this.canPassLocalKeyDown(e)&&(yield this.passKeyboardEventToCore(e,T.KeyDown))})),this.handleKeyUp=e=>n(this,void 0,void 0,(function*(){this.canPassLocalKeyDown(e)&&(yield this.passKeyboardEventToCore(e,T.KeyUp))})),this.getKeyboard=e=>({code:this.isEdge?this.getKeyboardCodeInEdge(e):e.code,key:e.key,repeat:void 0!==e.repeat&&e.repeat,altKey:void 0!==e.altKey&&e.altKey,ctrlKey:void 0!==e.ctrlKey&&e.ctrlKey,metaKey:void 0!==e.metaKey&&e.metaKey,shiftKey:void 0!==e.shiftKey&&e.shiftKey}),this.getKeyboardCodeInEdge=e=>this.isDPadKey(e.key)?e.key:e.key.match("[0-9]")?"Digit"+e.key:e.key.match("[a-zA-Z]")?"Key"+String.fromCharCode(e.keyCode):e.code,this.passKeyboardEventToCore=(e,t)=>n(this,void 0,void 0,(function*(){if(this.context){const r=this.getKeyboard(e);yield this.context.handleKeyboard(t,r)}})),this.isDPadKey=e=>e===v.ENTER_KEY||e===v.ARROW_LEFT||e===v.ARROW_UP||e===v.ARROW_RIGHT||e===v.ARROW_DOWN,this.passKeyDownToCore=e=>{this.passWindowEventsToCore(e,T.KeyDown)},this.passKeyUpToCore=e=>{this.passWindowEventsToCore(e,T.KeyUp)},this.passWindowEventsToCore=(e,t)=>n(this,void 0,void 0,(function*(){if(!this.context)return;const r=yield this.context.getFocused();this.shouldPassWindowEventToCore(e,r)?(this.ensureComponentIsFocused(r,e.code),this.passKeyboardEventToCore(e,t)):r||this.focusTopLeft()})),this.logger=y.LoggerFactory.getLogger("APLRenderer"),this.videoFactory=e.videoFactory?e.videoFactory:new u.VideoFactory,e.mode||(e.mode="HUB"),e.viewport.shape||(e.viewport.shape=e.viewport.isRound?"ROUND":"RECTANGLE"),this.view=e.view,this.setViewSize(e.viewport.width,e.viewport.height),"ROUND"===e.viewport.shape?this.view.style.clipPath="circle(50%)":this.view.style.clipPath="",this.view.style.display="flex",this.view.style.overflow="hidden",this.view.tabIndex=0,this.viewEventListeners={keydown:this.handleKeyDown,keyup:this.handleKeyUp,touchstart:this.onPointerDown,touchmove:this.onPointerMove,touchend:this.onPointerUp,touchcancel:this.onPointerLeave,mousedown:this.onPointerDown,mousemove:this.onPointerMove,mouseup:this.onPointerUp,mouseleave:this.onPointerLeave};for(const e in this.viewEventListeners)this.viewEventListeners.hasOwnProperty(e)&&this.view.addEventListener(e,this.viewEventListeners[e]);e.environment.agentName=e.environment.agentName?e.environment.agentName:"AplWebRenderer",e.environment.agentVersion=e.environment.agentVersion?e.environment.agentVersion:"1.0.0",e.environment.allowOpenUrl=void 0!==e.environment.allowOpenUrl&&e.environment.allowOpenUrl,e.environment=Object.assign({},S,e.environment),e.environment.animationQuality=void 0===e.environment.animationQuality?c.AnimationQuality.kAnimationQualityNormal:e.environment.animationQuality,e.onSendEvent&&(this.onSendEvent=e.onSendEvent),e.onPEGTLError&&(this.onPEGTLError=e.onPEGTLError),e.onDataSourceFetchRequest&&(this.onDataSourceFetchRequest=e.onDataSourceFetchRequest),e.onRunTimeError&&(this.onRunTimeError=e.onRunTimeError),e.onRequestGraphic&&(this.onRequestGraphic=(t,r)=>{const n=e.onRequestGraphic(t,r);return n.then(e=>{e?this.mediaLoaded(t):this.context&&this.mediaLoadFailed(t,v.HttpStatusCodes.BadRequest,"Bad Request on "+t)}),n}),e.onFinish&&(this.onFinish=e.onFinish),e.onSpeakEventStart&&(this.onSpeakEventStart=e.onSpeakEventStart),e.onSpeakEventEnd&&(this.onSpeakEventEnd=e.onSpeakEventEnd),e.environment.allowOpenUrl&&e.onOpenUrl&&(this.onOpenUrl=e.onOpenUrl),e.onExtensionEvent&&(this.onExtensionEvent=e.onExtensionEvent),e.onResizingIgnored&&(this.onResizingIgnored=e.onResizingIgnored),this.maxTimeDeltaBetweenFrames=1e3*this.TOLERANCE/this.MAXFPS}get options(){return this.mOptions}init(e){const t=performance.now();"TV"===this.mOptions.mode&&(window.addEventListener("keydown",this.passKeyDownToCore),window.addEventListener("keyup",this.passKeyUpToCore)),this.renderComponents();const r=performance.now();"function"==typeof e&&e({kind:"timer",name:"APL-Web.RootContext.inflate",value:r-t});let n=this.context.getTheme();"light"!==n&&"dark"!==n&&(n="dark"),this.setBackground(n),this.requestId=requestAnimationFrame(this.update)}setViewSize(e,t){this.view&&(this.logger.info(`APL Renderer Set View Size: ${e} x ${t}`),this.view.style.width=e+"px",this.view.style.height=t+"px")}setSupportsResizing(e){this.supportsResizing=e}onConfigurationChange(e){this.supportsResizing||!e.width&&!e.height||(this.onResizingIgnored(e.width,e.height),e.width=void 0,e.height=void 0),this.configurationChangeThrottle(e)}onDisplayStateChange(e){let t=e.displayState;b.isDisplayState(t)||(console.error('Invalid DisplayState. Defaulting DisplayState to "kDisplayStateForeground".'),t=l.DisplayState.kDisplayStateForeground),this.handleUpdateDisplayState(t)}getComponentCount(){return Object.keys(this.componentMap).length}setBackground(e){const t=this.context.getBackground();this.view.style.backgroundColor={dark:"black",light:"white"}[e],this.view.style.backgroundImage=t.gradient?P.getCssGradient(t.gradient,this.logger):P.getCssPureColorGradient(t.color)}getDeveloperToolOptions(){return this.mOptions.developerToolOptions}onRequestGraphic(e,t){const r={renderer:this,extractFromResponse:s.extractVectorGraphicFromResponse};return k.fetchMediaResource(e,t,r).then(e=>e).catch(()=>{})}onOpenUrl(e){return n(this,void 0,void 0,(function*(){if(!this.mOptions.environment.allowOpenUrl)return!1;const t=window.open(e,"_blank");return!!t&&(t.focus(),!0)}))}onSendEvent(e){this.logger.info("SendEvent: "+JSON.stringify(e))}onPEGTLError(e){this.logger.info("PEGTLError: "+e)}onDataSourceFetchRequest(e){this.logger.info("DataSourceFetchRequest: "+JSON.stringify(e))}onFinish(){}onExtensionEvent(e){return n(this,void 0,void 0,(function*(){return this.extensionManager?new Promise(t=>{this.extensionManager.onExtensionEvent(e.uri,e.event,e.name,e.source,e.params,{onExtensionEventResult:e=>{t(e)}})}):(this.logger.info("ExtensionEvent: "+JSON.stringify(e)),!0)}))}onSpeakEventEnd(e){this.logger.info("onSpeakEventEnd: "+JSON.stringify(e))}onSpeakEventStart(e){this.logger.info("onSpeakEventStart: "+JSON.stringify(e))}onRunTimeError(e){this.logger.warn("onRunTimeError: "+JSON.stringify(e))}onResizingIgnored(e,t){this.logger.warn(`onResizeIgnored: width: ${e}, height: ${t}`)}onMeasure(e,t,r,n,i){const{width:o,height:a}=this.mOptions.viewport,s=new d.TextMeasurement(e,o,a);return s.init(),s.onMeasure(t,r,n,i)}onBaseline(e,t,r){return.5*r}reRenderComponents(){this.removeRenderingComponents(),this.renderComponents()}destroy(e){if(this.context&&(this.context.handleDisplayMetrics([{kind:"counter",name:"APL-Web.RootContext.dropFrame",value:this.dropFrameCount}]),this.destroyRenderingComponents(),e||this.context.delete(),this.context=void 0),this.removeRenderingComponents(),this.view){for(const e in this.viewEventListeners)this.viewEventListeners.hasOwnProperty(e)&&this.view.removeEventListener(e,this.viewEventListeners[e]);this.view=void 0}window.removeEventListener("keydown",this.passKeyDownToCore),window.removeEventListener("keyup",this.passKeyUpToCore)}getBackgroundColor(){return"grey"}getComponentById(e){return this.componentIdMap[e]}screenLock(){return this.screenLocked}stopUpdate(){return n(this,void 0,void 0,(function*(){return window.cancelAnimationFrame(this.requestId),this.requestId=void 0,Promise.resolve()}))}getComponentsByMappingKey(e){return new Map(Array.from(this.componentByMappingKey).filter((t,r)=>t[0].replace(E.mappingKeyExpression,"")===e))}addComponent(e,t,r){return e.inflateAndAddChild(t,r)}deleteComponent(e){return e.remove()}updateComponent(e,t){const r=e.parent;if(!r)return;const n=r.children.indexOf(e);return e.remove(),r.inflateAndAddChild(n,t)}destroyRenderingComponents(){if(this.context.topComponent()){const e=this.componentMap[this.context.topComponent().getUniqueId()];e&&e.destroy(!0)}}mediaLoaded(e){this.context?this.context.mediaLoaded(e):setTimeout(()=>{this.context&&this.context.mediaLoaded(e)},200)}mediaLoadFailed(e,t,r){this.context?this.context.mediaLoadFailed(e,t,r):setTimeout(()=>{this.context&&this.context.mediaLoadFailed(e,t,r)},200)}getLegacyClippingEnabled(){const e=m.createAplVersionUtils();return e.getVersionCode(this.getDocumentAplVersion())<=e.getVersionCode("1.5")}updateTime(){const e=Date.now();if(isNaN(this.startTime)&&(this.startTime=e),this.context.updateTime(e-this.startTime,e),e>this.lastDSTCheck+1e3){const t=new Date;this.context.setLocalTimeAdjustment(60*-t.getTimezoneOffset()*1e3),this.lastDSTCheck=e}}setScreenLock(e){this.screenLocked=e}coreFrameUpdate(){for(this.getAudioPlayerFactory()&&this.getAudioPlayerFactory().tick(),this.updateTime(),this.context.clearPending();this.context&&this.context.hasEvent();){const e=this.context.popEvent();o.commandFactory(e,this)}if(this.context){if(this.context.isDirty()){const e=this.context.getDirty();for(const t of e){const e=this.componentMap[t];e&&e.updateDirtyProps()}this.context.clearDirty()}this.setScreenLock(this.context.screenLock())}}renderComponents(){if(!this.context||!this.view)return;if(this.top&&this.top.container&&this.view.contains(this.top.container))return;const e=this.context.topComponent();this.top=a.componentFactory(this,e),this.view.appendChild(this.top.container),this.top.init(),this.top.$container.css("position","")}removeRenderingComponents(){this.top&&this.view&&this.top.container&&this.view.contains(this.top.container)&&(this.view.removeChild(this.top.container),this.top=void 0)}focusTopLeft(){return n(this,void 0,void 0,(function*(){const e=yield this.context.getFocusableAreas();let t;for(const r in e)e.hasOwnProperty(r)&&(t||(t=r),(e[r].top<e[t].top||e[r].top===e[t].top&&e[r].left<e[t].left)&&(t=r));const r=yield this.context.getFocused();t&&e[t]&&!r&&this.context.setFocus(p.FocusDirection.kFocusDirectionForward,e[t],t)}))}shouldPassWindowEventToCore(e,t){return this.isDPadKey(e.code)&&t&&((()=>!(this.view.contains(document.activeElement)||document.activeElement instanceof HTMLTextAreaElement))()||(()=>this.view.contains(document.activeElement))())}ensureComponentIsFocused(e,t){if(t===v.ENTER_KEY){const t=this.componentMap[e];t.focus&&t.focus()}}}E.mappingKeyExpression=/:\d+$/,E.mousePointerId=0,t.default=E},function(e,t,r){(function(t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function("return this")(),c=Object.prototype.toString,l=Math.max,p=Math.min,f=function(){return u.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==c.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var s=i.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):n.test(e)?NaN:+e}e.exports=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return h(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),function(e,t,r){var n,i,o,a,s,d,u=0,c=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function b(e){return u=e,s=setTimeout(k,t),c?v(e):a}function P(e){var r=e-d;return void 0===d||r>=t||r<0||m&&e-u>=o}function k(){var e=f();if(P(e))return S(e);s=setTimeout(k,function(e){var r=t-(e-d);return m?p(r,o-(e-u)):r}(e))}function S(e){return s=void 0,g&&n?v(e):(n=i=void 0,a)}function T(){var e=f(),r=P(e);if(n=arguments,i=this,d=e,r){if(void 0===s)return b(d);if(m)return s=setTimeout(k,t),v(d)}return void 0===s&&(s=setTimeout(k,t)),a}return t=y(t)||0,h(r)&&(c=!!r.leading,o=(m="maxWait"in r)?l(y(r.maxWait)||0,t):o,g="trailing"in r?!!r.trailing:g),T.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=d=i=s=void 0},T.flush=function(){return void 0===s?a:S(f())},T}(e,t,{leading:n,maxWait:t,trailing:i})}}).call(this,r(142))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(5);class a extends o.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(i.EventProperty.kEventPropertyName),t=this.event.getValue(i.EventProperty.kEventPropertyValue);this.renderer.onDataSourceFetchRequest({type:e,payload:t}),this.resolve(),this.destroy()}))}}t.DataSourceFetchRequest=a},function(e,t,r){var n,i;!function(o,a){"use strict";void 0===(i="function"==typeof(n=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function n(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(r){return"debug"===r&&(r="log"),"undefined"!=typeof console&&("trace"===r&&t?i:void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}function a(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function s(e,t,r){return function(){"undefined"!=typeof console&&(a.call(this,t,r),this[e].apply(this,arguments))}}function d(e,t,r){return o(e)||s.apply(this,arguments)}function u(e,t,n){var i,o=this,s="loglevel";function u(){var e;if("undefined"!=typeof window){try{e=window.localStorage[s]}catch(e){}if(void 0===e)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(s)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===o.levels[e]&&(e=void 0),e}}e&&(s+=":"+e),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=n||d,o.getLevel=function(){return i},o.setLevel=function(t,n){if("string"==typeof t&&void 0!==o.levels[t.toUpperCase()]&&(t=o.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=o.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(i=t,!1!==n&&function(e){var t=(r[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[s]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(s)+"="+t+";"}catch(e){}}}(t),a.call(o,t,e),"undefined"==typeof console&&t<o.levels.SILENT)return"No console available for logging"},o.setDefaultLevel=function(e){u()||o.setLevel(e,!1)},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var c=u();null==c&&(c=null==t?"WARN":t),o.setLevel(c,!1)}var c=new u,l={};c.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new u(e,c.getLevel(),c.methodFactory)),t};var p="undefined"!=typeof window?window.log:void 0;return c.noConflict=function(){return"undefined"!=typeof window&&window.log===c&&(window.log=p),c},c.getLoggers=function(){return l},c})?n.call(t,r,t,e):n)||(e.exports=i)}()},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(5);class a extends o.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(i.EventProperty.kEventPropertyExtensionURI),t=this.event.getValue(i.EventProperty.kEventPropertyName),r=this.event.getValue(i.EventProperty.kEventPropertySource),n=this.event.getValue(i.EventProperty.kEventPropertyExtension);(yield this.renderer.onExtensionEvent({uri:e,event:this.event,name:t,source:r,params:n}))?this.event.resolve():this.event.resolveWithArg(1)}))}}t.ExtensionEvent=a},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5);class o extends i.Event{execute(){return n(this,void 0,void 0,(function*(){this.renderer.onFinish(),yield this.renderer.stopUpdate(),this.renderer.destroy(),this.isTerminated||this.resolve(),this.destroy()}))}}t.Finish=o},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(44),o=r(5);class a extends o.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getComponent();if(e){const t=this.renderer.componentMap[e.getUniqueId()];if(!t||!t.focus)return void this.event.resolve();t.focus(),this.event.resolve()}else this.event.getValue(i.EventProperty.kEventPropertyDirection)?this.event.resolve():(document.activeElement.blur(),this.event.resolveWithArg(1))}))}}t.Focus=a},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(24),o=r(7),a=r(5);class s extends a.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(o.EventProperty.kEventPropertyRangeStart),t=this.event.getValue(o.EventProperty.kEventPropertyRangeEnd);if(this.component=this.renderer.componentMap[this.event.getComponent().getUniqueId()],this.component instanceof i.Text){if(e<0||t<0)return void this.component.unhighlight();const r=this.component.getLineByRange(e,t);this.component.highlight(r)}this.event.resolve()}))}}t.LineHighlight=s},function(e,t,r){var n;!function(){function i(e,t,r){return e.call.apply(e.bind,arguments)}function o(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function a(e,t,r){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function d(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var u=!!window.FontFace;function c(e,t,r,n){if(t=e.c.createElement(t),r)for(var i in r)r.hasOwnProperty(i)&&("style"==i?t.style.cssText=r[i]:t.setAttribute(i,r[i]));return n&&t.appendChild(e.c.createTextNode(n)),t}function l(e,t,r){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(r,e.lastChild)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function f(e,t,r){t=t||[],r=r||[];for(var n=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,a=0;a<n.length;a+=1)if(t[i]===n[a]){o=!0;break}o||n.push(t[i])}for(t=[],i=0;i<n.length;i+=1){for(o=!1,a=0;a<r.length;a+=1)if(n[i]===r[a]){o=!0;break}o||t.push(n[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function h(e,t){for(var r=e.className.split(/\s+/),n=0,i=r.length;n<i;n++)if(r[n]==t)return!0;return!1}function y(e,t,r){function n(){s&&i&&o&&(s(a),s=null)}t=c(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,o=!0,a=null,s=r||null;u?(t.onload=function(){i=!0,n()},t.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),n()}):setTimeout((function(){i=!0,n()}),0),l(e,"head",t)}function m(e,t,r,n){var i=e.c.getElementsByTagName("head")[0];if(i){var o=c(e,"script",{src:t}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,r&&r(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,r&&r(Error("Script load timeout")))}),n||5e3),o}return null}function g(){this.a=0,this.c=null}function v(e){return e.a++,function(){e.a--,P(e)}}function b(e,t){e.c=t,P(e)}function P(e){0==e.a&&e.c&&(e.c(),e.c=null)}function k(e){this.a=e||"-"}function S(e,t){this.c=e,this.f=4,this.a="n";var r=(t||"n4").match(/^([nio])([1-9])$/i);r&&(this.a=r[1],this.f=parseInt(r[2],10))}function T(e){var t=[];e=e.split(/,\s*/);for(var r=0;r<e.length;r++){var n=e[r].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function E(e){return e.a+e.f}function x(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function w(e){var t=4,r="n",n=null;return e&&((n=e.match(/(normal|oblique|italic)/i))&&n[1]&&(r=n[1].substr(0,1).toLowerCase()),(n=e.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?t=7:/[1-9]00/.test(n[1])&&(t=parseInt(n[1].substr(0,1),10)))),r+t}function C(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new k("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function A(e){if(e.g){var t=h(e.f,e.a.c("wf","active")),r=[],n=[e.a.c("wf","loading")];t||r.push(e.a.c("wf","inactive")),f(e.f,r,n)}_(e,"inactive")}function _(e,t,r){e.j&&e.h[t]&&(r?e.h[t](r.c,E(r)):e.h[t]())}function L(){this.c={}}function I(e,t){this.c=e,this.f=t,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function R(e){l(e.c,"body",e.a)}function M(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(e.c)+";font-style:"+x(e)+";font-weight:"+e.f+"00;"}function D(e,t,r,n,i,o){this.g=e,this.j=t,this.a=n,this.c=r,this.f=i||3e3,this.h=o||void 0}function O(e,t,r,n,i,o,a){this.v=e,this.B=t,this.c=r,this.a=n,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new I(this.c,this.s),this.h=new I(this.c,this.s),this.j=new I(this.c,this.s),this.m=new I(this.c,this.s),e=M(e=new S(this.a.c+",serif",E(this.a))),this.g.a.style.cssText=e,e=M(e=new S(this.a.c+",sans-serif",E(this.a))),this.h.a.style.cssText=e,e=M(e=new S("serif",E(this.a))),this.j.a.style.cssText=e,e=M(e=new S("sans-serif",E(this.a))),this.m.a.style.cssText=e,R(this.g),R(this.h),R(this.j),R(this.m)}k.prototype.c=function(e){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},D.prototype.start=function(){var e=this.c.o.document,t=this,r=s(),n=new Promise((function(n,i){!function o(){s()-r>=t.f?i():e.fonts.load(function(e){return x(e)+" "+e.f+"00 300px "+T(e.c)}(t.a),t.h).then((function(e){1<=e.length?n():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(e,r){i=setTimeout(r,t.f)}));Promise.race([o,n]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var F={D:"serif",C:"sans-serif"},N=null;function G(){if(null===N){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);N=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return N}function B(e,t,r){for(var n in F)if(F.hasOwnProperty(n)&&t===e.f[F[n]]&&r===e.f[F[n]])return!0;return!1}function U(e,t){setTimeout(a((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),t(this.a)}),e),0)}function K(e,t,r){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=r}O.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),function e(t){var r,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(r=n===t.f.serif&&i===t.f["sans-serif"])||(r=G()&&B(t,n,i)),r?s()-t.A>=t.w?G()&&B(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?U(t,t.v):U(t,t.B):function(t){setTimeout(a((function(){e(this)}),t),50)}(t):U(t,t.v)}(this)};var j=null;function H(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&f(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),_(e,"active")):A(e.a))}function V(e){this.j=e,this.a=new L,this.h=0,this.f=this.g=!0}function z(e,t,r,n,i){var o=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=n||{};if(0===r.length&&o)A(t.a);else{t.f+=r.length,o&&(t.j=o);var d,u=[];for(d=0;d<r.length;d++){var c=r[d],l=s[c.c],p=t.a,h=c;if(p.g&&f(p.f,[p.a.c("wf",h.c,E(h).toString(),"loading")]),_(p,"fontloading",h),p=null,null===j)if(window.FontFace){h=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);j=h?42<parseInt(h[1],10):!y}else j=!1;p=j?new D(a(t.g,t),a(t.h,t),t.c,c,t.s,l):new O(a(t.g,t),a(t.h,t),t.c,c,t.s,e,l),u.push(p)}for(d=0;d<u.length;d++)u[d].start()}}),0)}function W(e,t){this.c=e,this.a=t}function q(e,t){this.c=e,this.a=t}function $(e,t){this.c=e||Y,this.a=[],this.f=[],this.g=t||""}K.prototype.g=function(e){var t=this.a;t.g&&f(t.f,[t.a.c("wf",e.c,E(e).toString(),"active")],[t.a.c("wf",e.c,E(e).toString(),"loading"),t.a.c("wf",e.c,E(e).toString(),"inactive")]),_(t,"fontactive",e),this.m=!0,H(this)},K.prototype.h=function(e){var t=this.a;if(t.g){var r=h(t.f,t.a.c("wf",e.c,E(e).toString(),"active")),n=[],i=[t.a.c("wf",e.c,E(e).toString(),"loading")];r||n.push(t.a.c("wf",e.c,E(e).toString(),"inactive")),f(t.f,n,i)}_(t,"fontinactive",e),H(this)},V.prototype.load=function(e){this.c=new d(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,r){var n=[],i=r.timeout;!function(e){e.g&&f(e.f,[e.a.c("wf","loading")]),_(e,"loading")}(t),n=function(e,t,r){var n,i=[];for(n in t)if(t.hasOwnProperty(n)){var o=e.c[n];o&&i.push(o(t[n],r))}return i}(e.a,r,e.c);var o=new K(e.c,t,i);for(e.h=n.length,t=0,r=n.length;t<r;t++)n[t].load((function(t,r,n){z(e,o,t,r,n)}))}(this,new C(this.c,e),e)},W.prototype.load=function(e){var t=this,r=t.a.projectId,n=t.a.version;if(r){var i=t.c.o;m(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+r+".js"+(n?"?v="+n:""),(function(n){n?e([]):(i["__MonotypeConfiguration__"+r]=function(){return t.a},function t(){if(i["__mti_fntLst"+r]){var n,o=i["__mti_fntLst"+r](),a=[];if(o)for(var s=0;s<o.length;s++){var d=o[s].fontfamily;null!=o[s].fontStyle&&null!=o[s].fontWeight?(n=o[s].fontStyle+o[s].fontWeight,a.push(new S(d,n))):a.push(new S(d))}e(a)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+r}else e([])},q.prototype.load=function(e){var t,r,n=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new g;for(t=0,r=n.length;t<r;t++)y(this.c,n[t],v(a));var s=[];for(t=0,r=i.length;t<r;t++)if((n=i[t].split(":"))[1])for(var d=n[1].split(","),u=0;u<d.length;u+=1)s.push(new S(n[0],d[u]));else s.push(new S(n[0]));b(a,(function(){e(s,o)}))};var Y="https://fonts.googleapis.com/css";function X(e){this.f=e,this.a=[],this.c={}}var J={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Z={i:"i",italic:"i",n:"n",normal:"n"},ee=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function te(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ne(e,t){this.c=e,this.a=t}function ie(e,t){this.c=e,this.f=t,this.a=[]}te.prototype.load=function(e){var t=new g,r=this.c,n=new $(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(n,i);var o=new X(i);!function(e){for(var t=e.f.length,r=0;r<t;r++){var n=e.f[r].split(":"),i=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var a;if(a=[],s=n[1])for(var s,d=(s=s.split(",")).length,u=0;u<d;u++){var c;if((c=s[u]).match(/^[\w-]+$/))if(null==(l=ee.exec(c.toLowerCase())))c="";else{if(c=null==(c=l[2])||""==c?"n":Z[c],null==(l=l[1])||""==l)l="4";else var l=Q[l]||(isNaN(l)?"4":l.substr(0,1));c=[c,l].join("")}else c="";c&&a.push(c)}0<a.length&&(o=a),3==n.length&&(a=[],0<(n=(n=n[2])?n.split(","):a).length&&(n=J[n[0]])&&(e.c[i]=n))}for(e.c[i]||(n=J[i])&&(e.c[i]=n),n=0;n<o.length;n+=1)e.a.push(new S(i,o[n]))}}(o),y(r,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,r=[],n=0;n<t;n++)r.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+r.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(n),v(t)),b(t,(function(){e(o.a,o.c,re)}))},ne.prototype.load=function(e){var t=this.a.id,r=this.c.o;t?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(r.Typekit&&r.Typekit.config&&r.Typekit.config.fn){t=r.Typekit.config.fn;for(var n=[],i=0;i<t.length;i+=2)for(var o=t[i],a=t[i+1],s=0;s<a.length;s++)n.push(new S(o,a[s]));try{r.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(n)}}),2e3):e([])},ie.prototype.load=function(e){var t=this.f.id,r=this.c.o,n=this;t?(r.__webfontfontdeckmodule__||(r.__webfontfontdeckmodule__={}),r.__webfontfontdeckmodule__[t]=function(t,r){for(var i=0,o=r.fonts.length;i<o;++i){var a=r.fonts[i];n.a.push(new S(a.name,w("font-weight:"+a.weight+";font-style:"+a.style)))}e(n.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var oe=new V(window);oe.a.c.custom=function(e,t){return new q(t,e)},oe.a.c.fontdeck=function(e,t){return new ie(t,e)},oe.a.c.monotype=function(e,t){return new W(t,e)},oe.a.c.typekit=function(e,t){return new ne(t,e)},oe.a.c.google=function(e,t){return new te(t,e)};var ae={load:a(oe.load,oe)};void 0===(n=function(){return ae}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(151),i=n("(\\P{L}&\\P{N})*\\p{Z}(\\p{L}|\\p{N}|\\p{S}|\\p{P})*$");t.replaceLastWordWithEllipsis=function(e){return n.replace(e,i,"…")},t.truncateEndWithEllipsis=function(e){return e.substring(0,e.length-1)+"…"}},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(152)),o=n(r(204)),a=n(r(205)),s=n(r(206)),d=n(r(207)),u=n(r(209)),c=n(r(211)),l=n(r(213));(0,o.default)(i.default),(0,a.default)(i.default),(0,s.default)(i.default),(0,d.default)(i.default),(0,u.default)(i.default),(0,c.default)(i.default),(0,l.default)(i.default);var p=i.default;t.default=p,e.exports=t.default},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(153)),o=n(r(162)),a=n(r(54)),s=n(r(199)),d={astral:!1,namespacing:!1},u={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},c={},l={},p={},f=[],h={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},y=/\$(?:{([\w$]+)}|<([\w$]+)>|(\d\d?|[\s\S]))/g,m=void 0===u.exec.call(/()??/,"")[1],g=void 0!==/x/.flags,v={}.toString;function b(e){var t=!0;try{new RegExp("",e)}catch(e){t=!1}return t}var P=b("u"),k=b("y"),S={g:!0,i:!0,m:!0,u:P,y:k};function T(e,t,r,n,i){if(e.xregexp={captureNames:t},i)return e;if(e.__proto__)e.__proto__=N.prototype;else for(var o in N.prototype)e[o]=N.prototype[o];return e.xregexp.source=r,e.xregexp.flags=n?n.split("").sort().join(""):n,e}function E(e){return u.replace.call(e,/([\s\S])(?=[\s\S]*\1)/g,"")}function x(e,t){if(!N.isRegExp(e))throw new TypeError("Type RegExp expected");var r=e.xregexp||{},n=function(e){return g?e.flags:u.exec.call(/\/([a-z]*)$/i,RegExp.prototype.toString.call(e))[1]}(e),i="",o="",a=null,s=null;return(t=t||{}).removeG&&(o+="g"),t.removeY&&(o+="y"),o&&(n=u.replace.call(n,new RegExp("[".concat(o,"]+"),"g"),"")),t.addG&&(i+="g"),t.addY&&(i+="y"),i&&(n=E(n+i)),t.isInternalOnly||(void 0!==r.source&&(a=r.source),null!=r.flags&&(s=i?E(r.flags+i):r.flags)),T(new RegExp(t.source||e.source,n),function(e){return!(!e.xregexp||!e.xregexp.captureNames)}(e)?r.captureNames.slice(0):null,a,s,t.isInternalOnly)}function w(e){return(0,s.default)(e,16)}function C(e,t,r){return"("===e.input[e.index-1]||")"===e.input[e.index+e[0].length]||"|"===e.input[e.index-1]||"|"===e.input[e.index+e[0].length]||e.index<1||e.index+e[0].length>=e.input.length||u.test.call(/^\(\?[:=!]/,e.input.substr(e.index-3,3))||function(e,t,r){return u.test.call(-1!==r.indexOf("x")?/^(?:\s|#[^#\n]*|\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/:/^(?:\(\?#[^)]*\))*(?:[?*+]|{\d+(?:,\d*)?})/,e.slice(t))}(e.input,e.index+e[0].length,r)?"":"(?:)"}function A(e){return(0,s.default)(e,10).toString(16)}function _(e,t){return v.call(e)==="[object ".concat(t,"]")}function L(e){for(;e.length<4;)e="0".concat(e);return e}function I(e){var t={};return _(e,"String")?(N.forEach(e,/[^\s,]+/,(function(e){t[e]=!0})),t):e}function R(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");S[e]=!0}function M(e,t,r,n,i){for(var o,a,s=f.length,d=e[r],u=null;s--;)if(!((a=f[s]).leadChar&&a.leadChar!==d||a.scope!==n&&"all"!==a.scope||a.flag&&-1===t.indexOf(a.flag))&&(o=N.exec(e,a.regex,r,"sticky"))){u={matchLength:o[0].length,output:a.handler.call(i,o,n,t),reparse:a.reparse};break}return u}function D(e){d.astral=e}function O(e){d.namespacing=e}function F(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function N(e,t){if(N.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return x(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),N.isInstalled("astral")&&-1===t.indexOf("A")&&(t+="A"),p[e]||(p[e]={}),!p[e][t]){for(var r,n={hasNamedCapture:!1,captureNames:[]},i="default",s="",d=0,c=function(e,t){if(E(t)!==t)throw new SyntaxError("Invalid duplicate regex flag ".concat(t));e=u.replace.call(e,/^\(\?([\w$]+)\)/,(function(e,r){if(u.test.call(/[gy]/,r))throw new SyntaxError("Cannot use flag g or y in mode modifier ".concat(e));return t=E(t+r),""}));var r=!0,n=!1,i=void 0;try{for(var o,s=(0,a.default)(t);!(r=(o=s.next()).done);r=!0){var d=o.value;if(!S[d])throw new SyntaxError("Unknown regex flag ".concat(d))}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return{pattern:e,flags:t}}(e,t),l=c.pattern,f=c.flags;d<l.length;){do{(r=M(l,f,d,i,n))&&r.reparse&&(l=l.slice(0,d)+r.output+l.slice(d+r.matchLength))}while(r&&r.reparse);if(r)s+=r.output,d+=r.matchLength||1;else{var y=N.exec(l,h[i],d,"sticky"),m=(0,o.default)(y,1)[0];s+=m,d+=m.length,"["===m&&"default"===i?i="class":"]"===m&&"class"===i&&(i="default")}}p[e][t]={pattern:u.replace.call(s,/(?:\(\?:\))+/g,"(?:)"),flags:u.replace.call(f,/[^gimuy]+/g,""),captures:n.hasNamedCapture?n.captureNames:null}}var g=p[e][t];return T(new RegExp(g.pattern,g.flags),g.captures,e,t)}N.prototype=/(?:)/,N.version="4.2.4",N._clipDuplicates=E,N._hasNativeFlag=b,N._dec=w,N._hex=A,N._pad4=L,N.addToken=function(e,t,r){var n=(r=r||{}).optionalFlags;if(r.flag&&R(r.flag),n){n=u.split.call(n,"");var i=!0,o=!1,s=void 0;try{for(var d,c=(0,a.default)(n);!(i=(d=c.next()).done);i=!0)R(d.value)}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}f.push({regex:x(e,{addG:!0,addY:k,isInternalOnly:!0}),handler:t,scope:r.scope||"default",flag:r.flag,reparse:r.reparse,leadChar:r.leadChar}),N.cache.flush("patterns")},N.cache=function(e,t){return l[e]||(l[e]={}),l[e][t]||(l[e][t]=N(e,t))},N.cache.flush=function(e){"patterns"===e?p={}:l={}},N.escape=function(e){return u.replace.call(F(e),/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},N.exec=function(e,t,r,n){var i,o,a="g",s=!1;(i=k&&!!(n||t.sticky&&!1!==n))?a+="y":n&&(s=!0,a+="FakeY"),t.xregexp=t.xregexp||{};var d=t.xregexp[a]||(t.xregexp[a]=x(t,{addG:!0,addY:i,source:s?"".concat(t.source,"|()"):void 0,removeY:!1===n,isInternalOnly:!0}));return r=r||0,d.lastIndex=r,o=c.exec.call(d,e),s&&o&&""===o.pop()&&(o=null),t.global&&(t.lastIndex=o?d.lastIndex:0),o},N.forEach=function(e,t,r){for(var n,i=0,o=-1;n=N.exec(e,t,i);)r(n,++o,e,t),i=n.index+(n[0].length||1)},N.globalize=function(e){return x(e,{addG:!0})},N.install=function(e){e=I(e),!d.astral&&e.astral&&D(!0),!d.namespacing&&e.namespacing&&O(!0)},N.isInstalled=function(e){return!!d[e]},N.isRegExp=function(e){return"[object RegExp]"===v.call(e)},N.match=function(e,t,r){var n=t.global&&"one"!==r||"all"===r,i=(n?"g":"")+(t.sticky?"y":"")||"noGY";t.xregexp=t.xregexp||{};var o=t.xregexp[i]||(t.xregexp[i]=x(t,{addG:!!n,removeG:"one"===r,isInternalOnly:!0})),a=u.match.call(F(e),o);return t.global&&(t.lastIndex="one"===r&&a?a.index+a[0].length:0),n?a||[]:a&&a[0]},N.matchChain=function(e,t){return function e(r,n){var i=t[n].regex?t[n]:{regex:t[n]},o=[];function s(e){if(i.backref){var t="Backreference to undefined group: ".concat(i.backref),r=isNaN(i.backref);if(r&&N.isInstalled("namespacing")){if(!(i.backref in e.groups))throw new ReferenceError(t)}else if(!e.hasOwnProperty(i.backref))throw new ReferenceError(t);var n=r&&N.isInstalled("namespacing")?e.groups[i.backref]:e[i.backref];o.push(n||"")}else o.push(e[0])}var d=!0,u=!1,c=void 0;try{for(var l,p=(0,a.default)(r);!(d=(l=p.next()).done);d=!0){var f=l.value;N.forEach(f,i.regex,s)}}catch(e){u=!0,c=e}finally{try{d||null==p.return||p.return()}finally{if(u)throw c}}return n!==t.length-1&&o.length?e(o,n+1):o}([e],0)},N.replace=function(e,t,r,n){var i=N.isRegExp(t),o=t.global&&"one"!==n||"all"===n,a=(o?"g":"")+(t.sticky?"y":"")||"noGY",s=t;i?(t.xregexp=t.xregexp||{},s=t.xregexp[a]||(t.xregexp[a]=x(t,{addG:!!o,removeG:"one"===n,isInternalOnly:!0}))):o&&(s=new RegExp(N.escape(String(t)),"g"));var d=c.replace.call(F(e),s,r);return i&&t.global&&(t.lastIndex=0),d},N.replaceEach=function(e,t){var r=!0,n=!1,i=void 0;try{for(var o,s=(0,a.default)(t);!(r=(o=s.next()).done);r=!0){var d=o.value;e=N.replace(e,d[0],d[1],d[2])}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return e},N.split=function(e,t,r){return c.split.call(F(e),t,r)},N.test=function(e,t,r,n){return!!N.exec(e,t,r,n)},N.uninstall=function(e){e=I(e),d.astral&&e.astral&&D(!1),d.namespacing&&e.namespacing&&O(!1)},N.union=function(e,t,r){var n,i,o=(r=r||{}).conjunction||"or",s=0;function d(e,t,r){var o=i[s-n];if(t){if(++s,o)return"(?<".concat(o,">")}else if(r)return"\\".concat(+r+n);return e}if(!_(e,"Array")||!e.length)throw new TypeError("Must provide a nonempty array of patterns to merge");var c=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,l=[],p=!0,f=!1,h=void 0;try{for(var y,m=(0,a.default)(e);!(p=(y=m.next()).done);p=!0){var g=y.value;N.isRegExp(g)?(n=s,i=g.xregexp&&g.xregexp.captureNames||[],l.push(u.replace.call(N(g.source).source,c,d))):l.push(N.escape(g))}}catch(e){f=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(f)throw h}}var v="none"===o?"":"|";return N(l.join(v),t)},c.exec=function(e){var t=this.lastIndex,r=u.exec.apply(this,arguments);if(r){if(!m&&r.length>1&&-1!==r.indexOf("")){var n=x(this,{removeG:!0,isInternalOnly:!0});u.replace.call(String(e).slice(r.index),n,(function(){for(var e=arguments.length,t=1;t<e-2;++t)void 0===(t<0||arguments.length<=t?void 0:arguments[t])&&(r[t]=void 0)}))}var o=r;if(N.isInstalled("namespacing")&&(r.groups=(0,i.default)(null),o=r.groups),this.xregexp&&this.xregexp.captureNames)for(var a=1;a<r.length;++a){var s=this.xregexp.captureNames[a-1];s&&(o[s]=r[a])}this.global&&!r[0].length&&this.lastIndex>r.index&&(this.lastIndex=r.index)}return this.global||(this.lastIndex=t),r},c.test=function(e){return!!c.exec.call(this,e)},c.match=function(e){if(N.isRegExp(e)){if(e.global){var t=u.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return c.exec.call(e,F(this))},c.replace=function(e,t){var r,n,o,a=N.isRegExp(e);return a?(e.xregexp&&(n=e.xregexp.captureNames),r=e.lastIndex):e+="",o=_(t,"Function")?u.replace.call(String(this),e,(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];if(n){var d;N.isInstalled("namespacing")?(d=(0,i.default)(null),o.push(d)):(o[0]=new String(o[0]),d=o[0]);for(var u=0;u<n.length;++u)n[u]&&(d[n[u]]=o[u+1])}return a&&e.global&&(e.lastIndex=o[o.length-2]+o[0].length),t.apply(void 0,o)})):u.replace.call(null==this?this:String(this),e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return u.replace.call(String(t),y,o);function o(e,t,i,o){if(t=t||i){var a=+t;if(a<=r.length-3)return r[a]||"";if((a=n?n.indexOf(t):-1)<0)throw new SyntaxError("Backreference to undefined group ".concat(e));return r[a+1]||""}if("$"===o)return"$";if("&"===o||0==+o)return r[0];if("`"===o)return r[r.length-1].slice(0,r[r.length-2]);if("'"===o)return r[r.length-1].slice(r[r.length-2]+r[0].length);if(o=+o,!isNaN(o)){if(o>r.length-3)throw new SyntaxError("Backreference to undefined group ".concat(e));return r[o]||""}throw new SyntaxError("Invalid token ".concat(e))}})),a&&(e.global?e.lastIndex=0:e.lastIndex=r),o},c.split=function(e,t){if(!N.isRegExp(e))return u.split.apply(this,arguments);var r,n=String(this),i=[],o=e.lastIndex,a=0;return t=(void 0===t?-1:t)>>>0,N.forEach(n,e,(function(e){e.index+e[0].length>a&&(i.push(n.slice(a,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(i,e.slice(1)),r=e[0].length,a=e.index+r)})),a===n.length?u.test.call(e,"")&&!r||i.push(""):i.push(n.slice(a)),e.lastIndex=o,i.length>t?i.slice(0,t):i},N.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,(function(e,t){if("B"===e[1]&&"default"===t)return e[0];throw new SyntaxError("Invalid escape ".concat(e[0]))}),{scope:"all",leadChar:"\\"}),N.addToken(/\\u{([\dA-Fa-f]+)}/,(function(e,t,r){var n=w(e[1]);if(n>1114111)throw new SyntaxError("Invalid Unicode code point ".concat(e[0]));if(n<=65535)return"\\u".concat(L(A(n)));if(P&&-1!==r.indexOf("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),N.addToken(/\[(\^?)\]/,(function(e){return e[1]?"[\\s\\S]":"\\b\\B"}),{leadChar:"["}),N.addToken(/\(\?#[^)]*\)/,C,{leadChar:"("}),N.addToken(/\s+|#[^\n]*\n?/,C,{flag:"x"}),N.addToken(/\./,(function(){return"[\\s\\S]"}),{flag:"s",leadChar:"."}),N.addToken(/\\k<([\w$]+)>/,(function(e){var t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],r=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError("Backreference to undefined group ".concat(e[0]));return"\\".concat(t).concat(r===e.input.length||isNaN(e.input[r])?"":"(?:)")}),{leadChar:"\\"}),N.addToken(/\\(\d+)/,(function(e,t){if(!("default"===t&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError("Cannot use octal escape or backreference to undefined group ".concat(e[0]));return e[0]}),{scope:"all",leadChar:"\\"}),N.addToken(/\(\?P?<([\w$]+)>/,(function(e){if(!isNaN(e[1]))throw new SyntaxError("Cannot use integer as capture name ".concat(e[0]));if(!N.isInstalled("namespacing")&&("length"===e[1]||"__proto__"===e[1]))throw new SyntaxError("Cannot use reserved word as capture name ".concat(e[0]));if(-1!==this.captureNames.indexOf(e[1]))throw new SyntaxError("Cannot use same name for multiple groups ".concat(e[0]));return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),N.addToken(/\((?!\?)/,(function(e,t,r){return-1!==r.indexOf("n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var G=N;t.default=G,e.exports=t.default},function(e,t,r){e.exports=r(154)},function(e,t,r){r(155);var n=r(3).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(9);n(n.S,"Object",{create:r(47)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(10),i=r(14),o=r(48);e.exports=r(15)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,d=0;s>d;)n.f(e,r=a[d++],t[r]);return e}},function(e,t,r){var n=r(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(16),i=r(79),o=r(160);e.exports=function(e){return function(t,r,a){var s,d=n(t),u=i(d.length),c=o(a,u);if(e&&r!=r){for(;u>c;)if((s=d[c++])!=s)return!0}else for(;u>c;c++)if((e||c in d)&&d[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(50),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(6).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(163),i=r(167),o=r(189),a=r(198);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()}},function(e,t,r){var n=r(164);e.exports=function(e){if(n(e))return e}},function(e,t,r){e.exports=r(165)},function(e,t,r){r(166),e.exports=r(3).Array.isArray},function(e,t,r){var n=r(9);n(n.S,"Array",{isArray:r(80)})},function(e,t,r){var n=r(54),i=r(176),o=r(179);e.exports=function(e,t){if(void 0!==o&&i(Object(e))){var r=[],a=!0,s=!1,d=void 0;try{for(var u,c=n(e);!(a=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);a=!0);}catch(e){s=!0,d=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw d}}return r}}},function(e,t,r){r(81),r(57),e.exports=r(175)},function(e,t,r){"use strict";var n=r(170),i=r(171),o=r(17),a=r(16);e.exports=r(82)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(47),i=r(29),o=r(55),a={};r(13)(a,r(4)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(11),i=r(56),o=r(51)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(50),i=r(35);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),d=n(r),u=s.length;return d<0||d>=u?e?"":void 0:(o=s.charCodeAt(d))<55296||o>56319||d+1===u||(a=s.charCodeAt(d+1))<56320||a>57343?e?s.charAt(d):o:e?s.slice(d,d+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){var n=r(14),i=r(84);e.exports=r(3).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){e.exports=r(177)},function(e,t,r){r(81),r(57),e.exports=r(178)},function(e,t,r){var n=r(85),i=r(4)("iterator"),o=r(17);e.exports=r(3).isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))}},function(e,t,r){e.exports=r(180)},function(e,t,r){r(181),r(186),r(187),r(188),e.exports=r(3).Symbol},function(e,t,r){"use strict";var n=r(6),i=r(11),o=r(15),a=r(9),s=r(83),d=r(182).KEY,u=r(28),c=r(52),l=r(55),p=r(37),f=r(4),h=r(86),y=r(58),m=r(183),g=r(80),v=r(14),b=r(27),P=r(56),k=r(16),S=r(46),T=r(29),E=r(47),x=r(184),w=r(185),C=r(87),A=r(10),_=r(48),L=w.f,I=A.f,R=x.f,M=n.Symbol,D=n.JSON,O=D&&D.stringify,F=f("_hidden"),N=f("toPrimitive"),G={}.propertyIsEnumerable,B=c("symbol-registry"),U=c("symbols"),K=c("op-symbols"),j=Object.prototype,H="function"==typeof M&&!!C.f,V=n.QObject,z=!V||!V.prototype||!V.prototype.findChild,W=o&&u((function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=L(j,t);n&&delete j[t],I(e,t,r),n&&e!==j&&I(j,t,n)}:I,q=function(e){var t=U[e]=E(M.prototype);return t._k=e,t},$=H&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},Y=function(e,t,r){return e===j&&Y(K,t,r),v(e),t=S(t,!0),v(r),i(U,t)?(r.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),r=E(r,{enumerable:T(0,!1)})):(i(e,F)||I(e,F,T(1,{})),e[F][t]=!0),W(e,t,r)):I(e,t,r)},X=function(e,t){v(e);for(var r,n=m(t=k(t)),i=0,o=n.length;o>i;)Y(e,r=n[i++],t[r]);return e},J=function(e){var t=G.call(this,e=S(e,!0));return!(this===j&&i(U,e)&&!i(K,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,F)&&this[F][e])||t)},Q=function(e,t){if(e=k(e),t=S(t,!0),e!==j||!i(U,t)||i(K,t)){var r=L(e,t);return!r||!i(U,t)||i(e,F)&&e[F][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=R(k(e)),n=[],o=0;r.length>o;)i(U,t=r[o++])||t==F||t==d||n.push(t);return n},ee=function(e){for(var t,r=e===j,n=R(r?K:k(e)),o=[],a=0;n.length>a;)!i(U,t=n[a++])||r&&!i(j,t)||o.push(U[t]);return o};H||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(r){this===j&&t.call(K,r),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),W(this,e,T(1,r))};return o&&z&&W(j,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),w.f=Q,A.f=Y,r(88).f=x.f=Z,r(59).f=J,C.f=ee,o&&!r(36)&&s(j,"propertyIsEnumerable",J,!0),h.f=function(e){return q(f(e))}),a(a.G+a.W+a.F*!H,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)f(te[re++]);for(var ne=_(f.store),ie=0;ne.length>ie;)y(ne[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=M(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?E(e):X(E(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var oe=u((function(){C.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return C.f(P(e))}}),D&&a(a.S+a.F*(!H||u((function(){var e=M();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!$(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!$(t))return t}),n[1]=t,O.apply(D,n)}}),M.prototype[N]||r(13)(M.prototype,N,M.prototype.valueOf),l(M,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,r){var n=r(37)("meta"),i=r(27),o=r(11),a=r(10).f,s=0,d=Object.isExtensible||function(){return!0},u=!r(28)((function(){return d(Object.preventExtensions({}))})),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!d(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!d(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&l.NEED&&d(e)&&!o(e,n)&&c(e),e}}},function(e,t,r){var n=r(48),i=r(87),o=r(59);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),d=o.f,u=0;s.length>u;)d.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,r){var n=r(16),i=r(88).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){var n=r(59),i=r(29),o=r(16),a=r(46),s=r(11),d=r(76),u=Object.getOwnPropertyDescriptor;t.f=r(15)?u:function(e,t){if(e=o(e),t=a(t,!0),d)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,r){r(58)("asyncIterator")},function(e,t,r){r(58)("observable")},function(e,t,r){var n=r(190),i=r(197);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?n(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}},function(e,t,r){e.exports=r(191)},function(e,t,r){r(57),r(192),e.exports=r(3).Array.from},function(e,t,r){"use strict";var n=r(75),i=r(9),o=r(56),a=r(193),s=r(194),d=r(79),u=r(195),c=r(84);i(i.S+i.F*!r(196)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,l,p=o(e),f="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,m=void 0!==y,g=0,v=c(p);if(m&&(y=n(y,h>2?arguments[2]:void 0,2)),null==v||f==Array&&s(v))for(r=new f(t=d(p.length));t>g;g++)u(r,g,m?y(p[g],g):p[g]);else for(l=v.call(p),r=new f;!(i=l.next()).done;g++)u(r,g,m?a(l,y,[i.value,g],!0):i.value);return r.length=g,r}})},function(e,t,r){var n=r(14);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(17),i=r(4)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(10),i=r(29);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(4)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){e.exports=r(200)},function(e,t,r){r(201),e.exports=r(3).parseInt},function(e,t,r){var n=r(9),i=r(202);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){var n=r(6).parseInt,i=r(203).trim,o=r(89),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},function(e,t,r){var n=r(9),i=r(35),o=r(28),a=r(89),s="["+a+"]",d=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),c=function(e,t,r){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),d=i[e]=s?t(l):a[e];r&&(i[r]=d),n(n.P+n.F*s,"String",i)},l=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(u,"")),e};e.exports=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){var t=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,r=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,t],"g",{conjunction:"or"});function n(e){var t=/^(?:\(\?:\))*\^/,r=/\$(?:\(\?:\))*$/;return t.test(e)&&r.test(e)&&r.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(r,""):e}function i(t,r){var n=r?"x":"";return e.isRegExp(t)?t.xregexp&&t.xregexp.captureNames?t:e(t.source,n):e(t,n)}function o(t){return t instanceof RegExp?t:e.escape(t)}function a(e,t,r){return e["subpattern".concat(r)]=t,e}function s(e,t,r){return e+(t<r.length-1?"{{subpattern".concat(t,"}}"):"")}e.tag=function(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),d=1;d<n;d++)i[d-1]=arguments[d];var u=i.map(o).reduce(a,{}),c=r.raw.map(s).join("");return e.build(c,u,t)}},e.build=function(o,a,s){var d=-1!==(s=s||"").indexOf("x"),u=/^\(\?([\w$]+)\)/.exec(o);u&&(s=e._clipDuplicates(s+u[1]));var c={};for(var l in a)if(a.hasOwnProperty(l)){var p=i(a[l],d);c[l]={pattern:n(p.source),names:p.xregexp.captureNames||[]}}var f,h=i(o,d),y=0,m=0,g=[0],v=h.xregexp.captureNames||[],b=h.source.replace(r,(function(e,r,n,i,o){var a,s,d,u=r||n;if(u){if(!c.hasOwnProperty(u))throw new ReferenceError("Undefined property ".concat(e));r?(a=v[m],g[++m]=++y,s="(?<".concat(a||u,">")):s="(?:",f=y;var l=c[u].pattern.replace(t,(function(e,t,r){if(t){if(a=c[u].names[y-f],++y,a)return"(?<".concat(a,">")}else if(r)return d=+r-1,c[u].names[d]?"\\k<".concat(c[u].names[d],">"):"\\".concat(+r+f);return e}));return"".concat(s).concat(l,")")}if(i){if(a=v[m],g[++m]=++y,a)return"(?<".concat(a,">")}else if(o)return v[d=+o-1]?"\\k<".concat(v[d],">"):"\\".concat(g[+o]);return e}));return e(b,s)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){function t(e,t,r,n){return{name:e,value:t,start:r,end:n}}e.matchRecursive=function(r,n,i,o,a){a=a||{};var s,d,u,c,l,p=-1!==(o=o||"").indexOf("g"),f=-1!==o.indexOf("y"),h=o.replace(/y/g,""),y=a.escapeChar,m=a.valueNames,g=[],v=0,b=0,P=0,k=0;if(n=e(n,h),i=e(i,h),y){if(y.length>1)throw new Error("Cannot use more than one escape character");y=e.escape(y),l=new RegExp("(?:".concat(y,"[\\S\\s]|(?:(?!").concat(e.union([n,i],"",{conjunction:"or"}).source,")[^").concat(y,"])+)+"),o.replace(/[^imu]+/g,""))}for(;;){if(y&&(P+=(e.exec(r,l,P,"sticky")||[""])[0].length),u=e.exec(r,n,P),c=e.exec(r,i,P),u&&c&&(u.index<=c.index?c=null:u=null),u||c)P=(b=(u||c).index)+(u||c)[0].length;else if(!v)break;if(f&&!v&&b>k)break;if(u)v||(s=b,d=P),++v;else{if(!c||!v)throw new Error("Unbalanced delimiter found in string");if(!--v&&(m?(m[0]&&s>k&&g.push(t(m[0],r.slice(k,s),k,s)),m[1]&&g.push(t(m[1],r.slice(s,d),s,d)),m[2]&&g.push(t(m[2],r.slice(d,b),d,b)),m[3]&&g.push(t(m[3],r.slice(b,P),b,P))):g.push(r.slice(d,b)),k=P,!p))break}b===P&&++P}return p&&!f&&m&&m[0]&&r.length>k&&g.push(t(m[0],r.slice(k),k,r.length)),g}},e.exports=t.default},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(54));
/*!
 * XRegExp Unicode Base 4.2.4
 * <xregexp.com>
 * Steven Levithan (c) 2008-present MIT License
 */t.default=function(e){var t={},r=e._dec,n=e._hex,o=e._pad4;function a(e){return e.replace(/[- _]+/g,"").toLowerCase()}function s(e){var t=/^\\[xu](.+)/.exec(e);return t?r(t[1]):e.charCodeAt("\\"===e[0]?1:0)}function d(r){var i,a,d;return t[r]["b!"]||(t[r]["b!"]=(i=t[r].bmp,a="",d=-1,e.forEach(i,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(function(e){var t=s(e[1]);t>d+1&&(a+="\\u".concat(o(n(d+1))),t>d+2&&(a+="-\\u".concat(o(n(t-1))))),d=s(e[2]||e[1])})),d<65535&&(a+="\\u".concat(o(n(d+1))),d<65534&&(a+="-\\uFFFF")),a))}e.addToken(/\\([pP])(?:{(\^?)([^}]*)}|([A-Za-z]))/,(function(e,r,n){var i="P"===e[1]||!!e[2],o=-1!==n.indexOf("A"),s=a(e[4]||e[3]),u=t[s];if("P"===e[1]&&e[2])throw new SyntaxError("Invalid double negation "+e[0]);if(!t.hasOwnProperty(s))throw new SyntaxError("Unknown Unicode token "+e[0]);if(u.inverseOf){if(s=a(u.inverseOf),!t.hasOwnProperty(s))throw new ReferenceError("".concat("Unicode token missing data "+e[0]," -> ").concat(u.inverseOf));u=t[s],i=!i}if(!u.bmp&&!o)throw new SyntaxError("Astral mode required for Unicode token "+e[0]);if(o){if("class"===r)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return function(e,r){var n=r?"a!":"a=";return t[e][n]||(t[e][n]=function(e,r){var n=t[e],i="";return n.bmp&&!n.isBmpLast&&(i="[".concat(n.bmp,"]").concat(n.astral?"|":"")),n.astral&&(i+=n.astral),n.isBmpLast&&n.bmp&&(i+="".concat(n.astral?"|":"","[").concat(n.bmp,"]")),r?"(?:(?!".concat(i,")(?:[\ud800-\udbff][\udc00-\udfff]|[\0-￿]))"):"(?:".concat(i,")")}(e,r))}(s,i)}return"class"===r?i?d(s):u.bmp:"".concat((i?"[^":"[")+u.bmp,"]")}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=function(r){var n=!0,o=!1,s=void 0;try{for(var d,u=(0,i.default)(r);!(n=(d=u.next()).done);n=!0){var c=d.value;if(!c.name)throw new Error("Unicode token requires name");if(!(c.inverseOf||c.bmp||c.astral))throw new Error("Unicode token has no character data "+c.name);t[a(c.name)]=c,c.alias&&(t[a(c.alias)]=c)}}catch(e){o=!0,s=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw s}}e.cache.flush("patterns")},e._getUnicodeProperty=function(e){var r=a(e);return t[r]}},e.exports=t.default},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(208));
/*!
 * XRegExp Unicode Blocks 4.2.4
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Blocks");e.addUnicodeData(i.default)},e.exports=t.default},function(e,t){e.exports=[{name:"InAdlam",astral:"\ud83a[\udd00-\udd5f]"},{name:"InAegean_Numbers",astral:"\ud800[\udd00-\udd3f]"},{name:"InAhom",astral:"\ud805[\udf00-\udf3f]"},{name:"InAlchemical_Symbols",astral:"\ud83d[\udf00-\udf7f]"},{name:"InAlphabetic_Presentation_Forms",bmp:"ﬀ-ﭏ"},{name:"InAnatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude7f]"},{name:"InAncient_Greek_Musical_Notation",astral:"\ud834[\ude00-\ude4f]"},{name:"InAncient_Greek_Numbers",astral:"\ud800[\udd40-\udd8f]"},{name:"InAncient_Symbols",astral:"\ud800[\udd90-\uddcf]"},{name:"InArabic",bmp:"؀-ۿ"},{name:"InArabic_Extended_A",bmp:"ࢠ-ࣿ"},{name:"InArabic_Mathematical_Alphabetic_Symbols",astral:"\ud83b[\ude00-\udeff]"},{name:"InArabic_Presentation_Forms_A",bmp:"ﭐ-﷿"},{name:"InArabic_Presentation_Forms_B",bmp:"ﹰ-\ufeff"},{name:"InArabic_Supplement",bmp:"ݐ-ݿ"},{name:"InArmenian",bmp:"԰-֏"},{name:"InArrows",bmp:"←-⇿"},{name:"InAvestan",astral:"\ud802[\udf00-\udf3f]"},{name:"InBalinese",bmp:"ᬀ-᭿"},{name:"InBamum",bmp:"ꚠ-꛿"},{name:"InBamum_Supplement",astral:"\ud81a[\udc00-\ude3f]"},{name:"InBasic_Latin",bmp:"\0-"},{name:"InBassa_Vah",astral:"\ud81a[\uded0-\udeff]"},{name:"InBatak",bmp:"ᯀ-᯿"},{name:"InBengali",bmp:"ঀ-৿"},{name:"InBhaiksuki",astral:"\ud807[\udc00-\udc6f]"},{name:"InBlock_Elements",bmp:"▀-▟"},{name:"InBopomofo",bmp:"㄀-ㄯ"},{name:"InBopomofo_Extended",bmp:"ㆠ-ㆿ"},{name:"InBox_Drawing",bmp:"─-╿"},{name:"InBrahmi",astral:"\ud804[\udc00-\udc7f]"},{name:"InBraille_Patterns",bmp:"⠀-⣿"},{name:"InBuginese",bmp:"ᨀ-᨟"},{name:"InBuhid",bmp:"ᝀ-᝟"},{name:"InByzantine_Musical_Symbols",astral:"\ud834[\udc00-\udcff]"},{name:"InCJK_Compatibility",bmp:"㌀-㏿"},{name:"InCJK_Compatibility_Forms",bmp:"︰-﹏"},{name:"InCJK_Compatibility_Ideographs",bmp:"豈-﫿"},{name:"InCJK_Compatibility_Ideographs_Supplement",astral:"\ud87e[\udc00-\ude1f]"},{name:"InCJK_Radicals_Supplement",bmp:"⺀-⻿"},{name:"InCJK_Strokes",bmp:"㇀-㇯"},{name:"InCJK_Symbols_And_Punctuation",bmp:"　-〿"},{name:"InCJK_Unified_Ideographs",bmp:"一-鿿"},{name:"InCJK_Unified_Ideographs_Extension_A",bmp:"㐀-䶿"},{name:"InCJK_Unified_Ideographs_Extension_B",astral:"[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\udedf]"},{name:"InCJK_Unified_Ideographs_Extension_C",astral:"\ud869[\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf3f]"},{name:"InCJK_Unified_Ideographs_Extension_D",astral:"\ud86d[\udf40-\udfff]|\ud86e[\udc00-\udc1f]"},{name:"InCJK_Unified_Ideographs_Extension_E",astral:"\ud86e[\udc20-\udfff]|[\ud86f-\ud872][\udc00-\udfff]|\ud873[\udc00-\udeaf]"},{name:"InCJK_Unified_Ideographs_Extension_F",astral:"\ud873[\udeb0-\udfff]|[\ud874-\ud879][\udc00-\udfff]|\ud87a[\udc00-\udfef]"},{name:"InCarian",astral:"\ud800[\udea0-\udedf]"},{name:"InCaucasian_Albanian",astral:"\ud801[\udd30-\udd6f]"},{name:"InChakma",astral:"\ud804[\udd00-\udd4f]"},{name:"InCham",bmp:"ꨀ-꩟"},{name:"InCherokee",bmp:"Ꭰ-᏿"},{name:"InCherokee_Supplement",bmp:"ꭰ-ꮿ"},{name:"InChess_Symbols",astral:"\ud83e[\ude00-\ude6f]"},{name:"InCombining_Diacritical_Marks",bmp:"̀-ͯ"},{name:"InCombining_Diacritical_Marks_Extended",bmp:"᪰-᫿"},{name:"InCombining_Diacritical_Marks_For_Symbols",bmp:"⃐-⃿"},{name:"InCombining_Diacritical_Marks_Supplement",bmp:"᷀-᷿"},{name:"InCombining_Half_Marks",bmp:"︠-︯"},{name:"InCommon_Indic_Number_Forms",bmp:"꠰-꠿"},{name:"InControl_Pictures",bmp:"␀-␿"},{name:"InCoptic",bmp:"Ⲁ-⳿"},{name:"InCoptic_Epact_Numbers",astral:"\ud800[\udee0-\udeff]"},{name:"InCounting_Rod_Numerals",astral:"\ud834[\udf60-\udf7f]"},{name:"InCuneiform",astral:"\ud808[\udc00-\udfff]"},{name:"InCuneiform_Numbers_And_Punctuation",astral:"\ud809[\udc00-\udc7f]"},{name:"InCurrency_Symbols",bmp:"₠-⃏"},{name:"InCypriot_Syllabary",astral:"\ud802[\udc00-\udc3f]"},{name:"InCyrillic",bmp:"Ѐ-ӿ"},{name:"InCyrillic_Extended_A",bmp:"ⷠ-ⷿ"},{name:"InCyrillic_Extended_B",bmp:"Ꙁ-ꚟ"},{name:"InCyrillic_Extended_C",bmp:"ᲀ-᲏"},{name:"InCyrillic_Supplement",bmp:"Ԁ-ԯ"},{name:"InDeseret",astral:"\ud801[\udc00-\udc4f]"},{name:"InDevanagari",bmp:"ऀ-ॿ"},{name:"InDevanagari_Extended",bmp:"꣠-ꣿ"},{name:"InDingbats",bmp:"✀-➿"},{name:"InDogra",astral:"\ud806[\udc00-\udc4f]"},{name:"InDomino_Tiles",astral:"\ud83c[\udc30-\udc9f]"},{name:"InDuployan",astral:"\ud82f[\udc00-\udc9f]"},{name:"InEarly_Dynastic_Cuneiform",astral:"\ud809[\udc80-\udd4f]"},{name:"InEgyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2f]"},{name:"InElbasan",astral:"\ud801[\udd00-\udd2f]"},{name:"InEmoticons",astral:"\ud83d[\ude00-\ude4f]"},{name:"InEnclosed_Alphanumeric_Supplement",astral:"\ud83c[\udd00-\uddff]"},{name:"InEnclosed_Alphanumerics",bmp:"①-⓿"},{name:"InEnclosed_CJK_Letters_And_Months",bmp:"㈀-㋿"},{name:"InEnclosed_Ideographic_Supplement",astral:"\ud83c[\ude00-\udeff]"},{name:"InEthiopic",bmp:"ሀ-፿"},{name:"InEthiopic_Extended",bmp:"ⶀ-⷟"},{name:"InEthiopic_Extended_A",bmp:"꬀-꬯"},{name:"InEthiopic_Supplement",bmp:"ᎀ-᎟"},{name:"InGeneral_Punctuation",bmp:" -⁯"},{name:"InGeometric_Shapes",bmp:"■-◿"},{name:"InGeometric_Shapes_Extended",astral:"\ud83d[\udf80-\udfff]"},{name:"InGeorgian",bmp:"Ⴀ-ჿ"},{name:"InGeorgian_Extended",bmp:"Ა-Ჿ"},{name:"InGeorgian_Supplement",bmp:"ⴀ-⴯"},{name:"InGlagolitic",bmp:"Ⰰ-ⱟ"},{name:"InGlagolitic_Supplement",astral:"\ud838[\udc00-\udc2f]"},{name:"InGothic",astral:"\ud800[\udf30-\udf4f]"},{name:"InGrantha",astral:"\ud804[\udf00-\udf7f]"},{name:"InGreek_And_Coptic",bmp:"Ͱ-Ͽ"},{name:"InGreek_Extended",bmp:"ἀ-῿"},{name:"InGujarati",bmp:"઀-૿"},{name:"InGunjala_Gondi",astral:"\ud807[\udd60-\uddaf]"},{name:"InGurmukhi",bmp:"਀-੿"},{name:"InHalfwidth_And_Fullwidth_Forms",bmp:"＀-￯"},{name:"InHangul_Compatibility_Jamo",bmp:"㄰-㆏"},{name:"InHangul_Jamo",bmp:"ᄀ-ᇿ"},{name:"InHangul_Jamo_Extended_A",bmp:"ꥠ-꥿"},{name:"InHangul_Jamo_Extended_B",bmp:"ힰ-퟿"},{name:"InHangul_Syllables",bmp:"가-힯"},{name:"InHanifi_Rohingya",astral:"\ud803[\udd00-\udd3f]"},{name:"InHanunoo",bmp:"ᜠ-᜿"},{name:"InHatran",astral:"\ud802[\udce0-\udcff]"},{name:"InHebrew",bmp:"֐-׿"},{name:"InHigh_Private_Use_Surrogates",bmp:"\udb80-\udbff"},{name:"InHigh_Surrogates",bmp:"\ud800-\udb7f"},{name:"InHiragana",bmp:"぀-ゟ"},{name:"InIPA_Extensions",bmp:"ɐ-ʯ"},{name:"InIdeographic_Description_Characters",bmp:"⿰-⿿"},{name:"InIdeographic_Symbols_And_Punctuation",astral:"\ud81b[\udfe0-\udfff]"},{name:"InImperial_Aramaic",astral:"\ud802[\udc40-\udc5f]"},{name:"InIndic_Siyaq_Numbers",astral:"\ud83b[\udc70-\udcbf]"},{name:"InInscriptional_Pahlavi",astral:"\ud802[\udf60-\udf7f]"},{name:"InInscriptional_Parthian",astral:"\ud802[\udf40-\udf5f]"},{name:"InJavanese",bmp:"ꦀ-꧟"},{name:"InKaithi",astral:"\ud804[\udc80-\udccf]"},{name:"InKana_Extended_A",astral:"\ud82c[\udd00-\udd2f]"},{name:"InKana_Supplement",astral:"\ud82c[\udc00-\udcff]"},{name:"InKanbun",bmp:"㆐-㆟"},{name:"InKangxi_Radicals",bmp:"⼀-⿟"},{name:"InKannada",bmp:"ಀ-೿"},{name:"InKatakana",bmp:"゠-ヿ"},{name:"InKatakana_Phonetic_Extensions",bmp:"ㇰ-ㇿ"},{name:"InKayah_Li",bmp:"꤀-꤯"},{name:"InKharoshthi",astral:"\ud802[\ude00-\ude5f]"},{name:"InKhmer",bmp:"ក-៿"},{name:"InKhmer_Symbols",bmp:"᧠-᧿"},{name:"InKhojki",astral:"\ud804[\ude00-\ude4f]"},{name:"InKhudawadi",astral:"\ud804[\udeb0-\udeff]"},{name:"InLao",bmp:"຀-໿"},{name:"InLatin_1_Supplement",bmp:"-ÿ"},{name:"InLatin_Extended_A",bmp:"Ā-ſ"},{name:"InLatin_Extended_Additional",bmp:"Ḁ-ỿ"},{name:"InLatin_Extended_B",bmp:"ƀ-ɏ"},{name:"InLatin_Extended_C",bmp:"Ⱡ-Ɀ"},{name:"InLatin_Extended_D",bmp:"꜠-ꟿ"},{name:"InLatin_Extended_E",bmp:"ꬰ-꭯"},{name:"InLepcha",bmp:"ᰀ-ᱏ"},{name:"InLetterlike_Symbols",bmp:"℀-⅏"},{name:"InLimbu",bmp:"ᤀ-᥏"},{name:"InLinear_A",astral:"\ud801[\ude00-\udf7f]"},{name:"InLinear_B_Ideograms",astral:"\ud800[\udc80-\udcff]"},{name:"InLinear_B_Syllabary",astral:"\ud800[\udc00-\udc7f]"},{name:"InLisu",bmp:"ꓐ-꓿"},{name:"InLow_Surrogates",bmp:"\udc00-\udfff"},{name:"InLycian",astral:"\ud800[\ude80-\ude9f]"},{name:"InLydian",astral:"\ud802[\udd20-\udd3f]"},{name:"InMahajani",astral:"\ud804[\udd50-\udd7f]"},{name:"InMahjong_Tiles",astral:"\ud83c[\udc00-\udc2f]"},{name:"InMakasar",astral:"\ud807[\udee0-\udeff]"},{name:"InMalayalam",bmp:"ഀ-ൿ"},{name:"InMandaic",bmp:"ࡀ-࡟"},{name:"InManichaean",astral:"\ud802[\udec0-\udeff]"},{name:"InMarchen",astral:"\ud807[\udc70-\udcbf]"},{name:"InMasaram_Gondi",astral:"\ud807[\udd00-\udd5f]"},{name:"InMathematical_Alphanumeric_Symbols",astral:"\ud835[\udc00-\udfff]"},{name:"InMathematical_Operators",bmp:"∀-⋿"},{name:"InMayan_Numerals",astral:"\ud834[\udee0-\udeff]"},{name:"InMedefaidrin",astral:"\ud81b[\ude40-\ude9f]"},{name:"InMeetei_Mayek",bmp:"ꯀ-꯿"},{name:"InMeetei_Mayek_Extensions",bmp:"ꫠ-꫿"},{name:"InMende_Kikakui",astral:"\ud83a[\udc00-\udcdf]"},{name:"InMeroitic_Cursive",astral:"\ud802[\udda0-\uddff]"},{name:"InMeroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"InMiao",astral:"\ud81b[\udf00-\udf9f]"},{name:"InMiscellaneous_Mathematical_Symbols_A",bmp:"⟀-⟯"},{name:"InMiscellaneous_Mathematical_Symbols_B",bmp:"⦀-⧿"},{name:"InMiscellaneous_Symbols",bmp:"☀-⛿"},{name:"InMiscellaneous_Symbols_And_Arrows",bmp:"⬀-⯿"},{name:"InMiscellaneous_Symbols_And_Pictographs",astral:"\ud83c[\udf00-\udfff]|\ud83d[\udc00-\uddff]"},{name:"InMiscellaneous_Technical",bmp:"⌀-⏿"},{name:"InModi",astral:"\ud805[\ude00-\ude5f]"},{name:"InModifier_Tone_Letters",bmp:"꜀-ꜟ"},{name:"InMongolian",bmp:"᠀-᢯"},{name:"InMongolian_Supplement",astral:"\ud805[\ude60-\ude7f]"},{name:"InMro",astral:"\ud81a[\ude40-\ude6f]"},{name:"InMultani",astral:"\ud804[\ude80-\udeaf]"},{name:"InMusical_Symbols",astral:"\ud834[\udd00-\uddff]"},{name:"InMyanmar",bmp:"က-႟"},{name:"InMyanmar_Extended_A",bmp:"ꩠ-ꩿ"},{name:"InMyanmar_Extended_B",bmp:"ꧠ-꧿"},{name:"InNKo",bmp:"߀-߿"},{name:"InNabataean",astral:"\ud802[\udc80-\udcaf]"},{name:"InNew_Tai_Lue",bmp:"ᦀ-᧟"},{name:"InNewa",astral:"\ud805[\udc00-\udc7f]"},{name:"InNumber_Forms",bmp:"⅐-↏"},{name:"InNushu",astral:"\ud82c[\udd70-\udeff]"},{name:"InOgham",bmp:" -᚟"},{name:"InOl_Chiki",bmp:"᱐-᱿"},{name:"InOld_Hungarian",astral:"\ud803[\udc80-\udcff]"},{name:"InOld_Italic",astral:"\ud800[\udf00-\udf2f]"},{name:"InOld_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"InOld_Permic",astral:"\ud800[\udf50-\udf7f]"},{name:"InOld_Persian",astral:"\ud800[\udfa0-\udfdf]"},{name:"InOld_Sogdian",astral:"\ud803[\udf00-\udf2f]"},{name:"InOld_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"InOld_Turkic",astral:"\ud803[\udc00-\udc4f]"},{name:"InOptical_Character_Recognition",bmp:"⑀-⑟"},{name:"InOriya",bmp:"଀-୿"},{name:"InOrnamental_Dingbats",astral:"\ud83d[\ude50-\ude7f]"},{name:"InOsage",astral:"\ud801[\udcb0-\udcff]"},{name:"InOsmanya",astral:"\ud801[\udc80-\udcaf]"},{name:"InPahawh_Hmong",astral:"\ud81a[\udf00-\udf8f]"},{name:"InPalmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"InPau_Cin_Hau",astral:"\ud806[\udec0-\udeff]"},{name:"InPhags_Pa",bmp:"ꡀ-꡿"},{name:"InPhaistos_Disc",astral:"\ud800[\uddd0-\uddff]"},{name:"InPhoenician",astral:"\ud802[\udd00-\udd1f]"},{name:"InPhonetic_Extensions",bmp:"ᴀ-ᵿ"},{name:"InPhonetic_Extensions_Supplement",bmp:"ᶀ-ᶿ"},{name:"InPlaying_Cards",astral:"\ud83c[\udca0-\udcff]"},{name:"InPrivate_Use_Area",bmp:"-"},{name:"InPsalter_Pahlavi",astral:"\ud802[\udf80-\udfaf]"},{name:"InRejang",bmp:"ꤰ-꥟"},{name:"InRumi_Numeral_Symbols",astral:"\ud803[\ude60-\ude7f]"},{name:"InRunic",bmp:"ᚠ-᛿"},{name:"InSamaritan",bmp:"ࠀ-࠿"},{name:"InSaurashtra",bmp:"ꢀ-꣟"},{name:"InSharada",astral:"\ud804[\udd80-\udddf]"},{name:"InShavian",astral:"\ud801[\udc50-\udc7f]"},{name:"InShorthand_Format_Controls",astral:"\ud82f[\udca0-\udcaf]"},{name:"InSiddham",astral:"\ud805[\udd80-\uddff]"},{name:"InSinhala",bmp:"඀-෿"},{name:"InSinhala_Archaic_Numbers",astral:"\ud804[\udde0-\uddff]"},{name:"InSmall_Form_Variants",bmp:"﹐-﹯"},{name:"InSogdian",astral:"\ud803[\udf30-\udf6f]"},{name:"InSora_Sompeng",astral:"\ud804[\udcd0-\udcff]"},{name:"InSoyombo",astral:"\ud806[\ude50-\udeaf]"},{name:"InSpacing_Modifier_Letters",bmp:"ʰ-˿"},{name:"InSpecials",bmp:"￰-￿"},{name:"InSundanese",bmp:"ᮀ-ᮿ"},{name:"InSundanese_Supplement",bmp:"᳀-᳏"},{name:"InSuperscripts_And_Subscripts",bmp:"⁰-₟"},{name:"InSupplemental_Arrows_A",bmp:"⟰-⟿"},{name:"InSupplemental_Arrows_B",bmp:"⤀-⥿"},{name:"InSupplemental_Arrows_C",astral:"\ud83e[\udc00-\udcff]"},{name:"InSupplemental_Mathematical_Operators",bmp:"⨀-⫿"},{name:"InSupplemental_Punctuation",bmp:"⸀-⹿"},{name:"InSupplemental_Symbols_And_Pictographs",astral:"\ud83e[\udd00-\uddff]"},{name:"InSupplementary_Private_Use_Area_A",astral:"[\udb80-\udbbf][\udc00-\udfff]"},{name:"InSupplementary_Private_Use_Area_B",astral:"[\udbc0-\udbff][\udc00-\udfff]"},{name:"InSutton_SignWriting",astral:"\ud836[\udc00-\udeaf]"},{name:"InSyloti_Nagri",bmp:"ꠀ-꠯"},{name:"InSyriac",bmp:"܀-ݏ"},{name:"InSyriac_Supplement",bmp:"ࡠ-࡯"},{name:"InTagalog",bmp:"ᜀ-ᜟ"},{name:"InTagbanwa",bmp:"ᝠ-᝿"},{name:"InTags",astral:"\udb40[\udc00-\udc7f]"},{name:"InTai_Le",bmp:"ᥐ-᥿"},{name:"InTai_Tham",bmp:"ᨠ-᪯"},{name:"InTai_Viet",bmp:"ꪀ-꫟"},{name:"InTai_Xuan_Jing_Symbols",astral:"\ud834[\udf00-\udf5f]"},{name:"InTakri",astral:"\ud805[\ude80-\udecf]"},{name:"InTamil",bmp:"஀-௿"},{name:"InTangut",astral:"[\ud81c-\ud821][\udc00-\udfff]"},{name:"InTangut_Components",astral:"\ud822[\udc00-\udeff]"},{name:"InTelugu",bmp:"ఀ-౿"},{name:"InThaana",bmp:"ހ-޿"},{name:"InThai",bmp:"฀-๿"},{name:"InTibetan",bmp:"ༀ-࿿"},{name:"InTifinagh",bmp:"ⴰ-⵿"},{name:"InTirhuta",astral:"\ud805[\udc80-\udcdf]"},{name:"InTransport_And_Map_Symbols",astral:"\ud83d[\ude80-\udeff]"},{name:"InUgaritic",astral:"\ud800[\udf80-\udf9f]"},{name:"InUnified_Canadian_Aboriginal_Syllabics",bmp:"᐀-ᙿ"},{name:"InUnified_Canadian_Aboriginal_Syllabics_Extended",bmp:"ᢰ-᣿"},{name:"InVai",bmp:"ꔀ-꘿"},{name:"InVariation_Selectors",bmp:"︀-️"},{name:"InVariation_Selectors_Supplement",astral:"\udb40[\udd00-\uddef]"},{name:"InVedic_Extensions",bmp:"᳐-᳿"},{name:"InVertical_Forms",bmp:"︐-︟"},{name:"InWarang_Citi",astral:"\ud806[\udca0-\udcff]"},{name:"InYi_Radicals",bmp:"꒐-꓏"},{name:"InYi_Syllables",bmp:"ꀀ-꒏"},{name:"InYijing_Hexagram_Symbols",bmp:"䷀-䷿"},{name:"InZanabazar_Square",astral:"\ud806[\ude00-\ude4f]"}]},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(210));
/*!
 * XRegExp Unicode Categories 4.2.4
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(i.default)},e.exports=t.default},function(e,t){e.exports=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜؝۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcbd\udcc2-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc5f-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb8-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\uddff\ude48-\ude4f\ude84\ude85\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf45-\udf4f\udf7f-\udf8e\udfa0-\udfdf\udfe2-\udfff]|\ud821[\udff2-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4b-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6c-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded5-\udedf\udeed-\udeef\udefa-\udeff\udf74-\udf7f\udfd9-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c-\udd0f\udd3f\udd71\udd72\udd77-\udd79\udd7b\udda3-\uddaf\uddba-\uddbf\uddc3-\uddcf\ude00-\ude5f\ude6e-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"\ud804[\udcbd\udccd]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿؝܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࢟ࢵࢾ-࣒঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୕୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺-఼౅౉౎-౔౗౛-౟౤౥౰-౷಍಑಩಴಺಻೅೉೎-೔೗-ೝ೟೤೥೰ೳ-೿ഄ഍഑൅൉൐-൓൤൥඀ඁ඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅ຆຉ຋ຌຎ-ຓຘຠ຤຦ຨຩຬ຺຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿ᜍ᜕-ᜟ᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠏᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯ᪿ-᫿ᭌ-᭏᭽-᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏ᳺ-᳿᷺἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃀-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⮗⯉⯿Ⱟⱟ⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹏-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏ㆻ-ㆿ㇤-㇯㈟㋿䶶-䶿鿰-鿿꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ꞻ-ꟶ꠬-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯ꭦ-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯂-﯒﵀-﵏﶐﶑﷈-﷯﷾﷿︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9c-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd70-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f-\udeff\udf28-\udf2f\udf5a-\udfff]|\ud804[\udc4e-\udc51\udc70-\udc7e\udcc2-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd47-\udd4f\udd77-\udd7f\uddce\uddcf\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5a\udc5c\udc5f-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeb8-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf40-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd00-\uddff\ude48-\ude4f\ude84\ude85\udea3-\udebf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfff]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80b\ud80e-\ud810\ud812-\ud819\ud823-\ud82b\ud82d\ud82e\ud830-\ud833\ud837\ud839\ud83f\ud87b-\ud87d\ud87f-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\ude70-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf45-\udf4f\udf7f-\udf8e\udfa0-\udfdf\udfe2-\udfff]|\ud821[\udff2-\udfff]|\ud822[\udef3-\udfff]|\ud82c[\udd1f-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udde9-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4b-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\udd0d-\udd0f\udd6c-\udd6f\uddad-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded5-\udedf\udeed-\udeef\udefa-\udeff\udf74-\udf7f\udfd9-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae-\udcff\udd0c-\udd0f\udd3f\udd71\udd72\udd77-\udd79\udd7b\udda3-\uddaf\uddba-\uddbf\uddc3-\uddcf\ude00-\ude5f\ude6e-\udfff]|\ud869[\uded7-\udeff]|\ud86d[\udf35-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf1a]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude83\ude86-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf44\udf50\udf93-\udf9f\udfe0\udfe1]|\ud821[\udc00-\udff1]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udd00-\udd43]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟺꬰ-ꭚꭠ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟｰﾞﾟ",astral:"\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1]"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳱᳵᳶℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\udf00-\udf1c\udf27\udf30-\udf45]|\ud804[\udc03-\udc37\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udf00-\udf1a]|\ud806[\udc00-\udc2b\udcff\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude83\ude86-\ude89\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50]|\ud821[\udc00-\udff1]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳷-᳹᷀-᷹᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc00-\udc02\udc38-\udc46\udc7f-\udc82\udcb0-\udcba\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf51-\udf7e\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡ᳲᳳ᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦽ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf7e]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udf46-\udf50]|\ud804[\udc01\udc38-\udc46\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf8f-\udf92]|\ud82f[\udc9d\udc9e]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4]|\ud83c[\udd00-\udd0c]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud83a[\udd50-\udd59]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹎、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀〜〰゠︱︲﹘﹣－"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙭᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹎、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udf3c-\udf3e]|\ud806[\udc3b\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8]|\ud809[\udc70-\udc74]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-₿℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛﬩﮲-﯁﷼﷽﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud83b[\udcac\udcb0\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6b\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded4\udee0-\udeec\udef0-\udef9\udf00-\udf73\udf80-\udfd8]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd10-\udd3e\udd40-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb0-\uddb9\uddc0-\uddc2\uddd0-\uddff\ude60-\ude6d]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-₿꠸﷼﹩＄￠￡￥￦",astral:"𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛﮲-﯁＾｀￣",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮘-⯈⯊-⯾⳥-⳪⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㋾㌀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﷽￤￨￭￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9b\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\udde8\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|𞲬|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd10-\udd6b\udd70-\uddac\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded4\udee0-\udeec\udef0-\udef9\udf00-\udf73\udf80-\udfd8]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd10-\udd3e\udd40-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb0-\uddb9\uddc0-\uddc2\uddd0-\uddff\ude60-\ude6d]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}]},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(212));
/*!
 * XRegExp Unicode Properties 4.2.4
 * <xregexp.com>
 * Steven Levithan (c) 2012-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");var t=i.default;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)},e.exports=t.default},function(e,t){e.exports=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೞೠ-ೣೱೲഀ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ၢၥ-ၨၮ-ႆႎႜႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፟ᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜓᜠ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᬀ-ᬳᬵ-ᭃᭅ-ᭋᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰵᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽꣾꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺꩾ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\udf00-\udf1c\udf27\udf30-\udf45]|\ud804[\udc00-\udc45\udc82-\udcb8\udcd0-\udce8\udd00-\udd32\udd44-\udd46\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udf00-\udf1a\udf1d-\udf2a]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff\ude00-\ude32\ude35-\ude3e\ude50-\ude83\ude86-\ude97\ude9d\udec0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|[\ud80c\ud81c-\ud820\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf44\udf50-\udf7e\udf93-\udf9f\udfe0\udfe1]|\ud821[\udc00-\udff1]|\ud822[\udc00-\udef2]|\ud82c[\udc00-\udd1e\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠎​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱞⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꟸ-ꟺꬰ-ꭚꭜ-ꭥꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰮⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}]},function(e,t,r){"use strict";var n=r(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(214));
/*!
 * XRegExp Unicode Scripts 4.2.4
 * <xregexp.com>
 * Steven Levithan (c) 2010-present MIT License
 * Unicode data by Mathias Bynens <mathiasbynens.be>
 */t.default=function(e){if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(i.default)},e.exports=t.default},function(e,t){e.exports=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4a\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf3f]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࢠ-ࢴࢶ-ࢽ࣓-ࣣ࣡-ࣿﭐ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷽ﹰ-ﹴﹶ-ﻼ",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-ֈ֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"ᬀ-ᭋ᭐-᭼"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆺ"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc6f\udc7f]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd46]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·։؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-₿℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮘-⯈⯊-⯾⸀-⹎⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9b\uddd0-\uddfc\udee1-\udefb]|\ud82f[\udca0-\udca3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\udde8\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\udd0c\udd10-\udd6b\udd70-\uddac\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded4\udee0-\udeec\udef0-\udef9\udf00-\udf73\udf80-\udfd8]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udd00-\udd0b\udd10-\udd3e\udd40-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb0-\uddb9\uddc0-\uddc2\uddd0-\uddff\ude60-\ude6d]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"ऀ-ॐ॓-ॣ०-ॿ꣠-ꣿ"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-Ⱞⰰ-ⱞ",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎",astral:"[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\ud82c[\udc01-\udd1e]|🈀"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॒॑᪰-᪾᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\ud800[\uddfd\udee0]|𑌻|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc1\udccd]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"𛀀"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꞹꟷ-ꟿꬰ-ꭚꭜ-ꭤﬀ-ﬆＡ-Ｚａ-ｚ"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"ꓐ-꓿"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"ഀ-ഃഅ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠎᠐-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\ud805[\udc00-\udc59\udc5b\udc5d\udc5e]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\ud82c[\udd70-\udefb]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\ud804[\udd80-\uddcd\uddd0-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"ංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\ude83\ude86-\udea2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠫"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-ᜌᜎ-᜔"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\ud805[\ude80-\udeb7\udec0-\udec9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺"},{name:"Tangut",astral:"𖿠|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff1]|\ud822[\udc00-\udef2]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘ-ౚౠ-ౣ౦-౯౸-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}]},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||e,o),d=i?i+t:t;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],s]:e._events[d].push(s):(e._events[d]=s,e._eventsCount++),e}function d(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},u.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var d,u,c=this._events[s],l=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,o),!0;case 6:return c.fn.call(c.context,t,r,n,o,a),!0}for(u=1,d=new Array(l-1);u<l;u++)d[u-1]=arguments[u];c.fn.apply(c.context,d)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),l){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,n);break;default:if(!d)for(p=1,d=new Array(l-1);p<l;p++)d[p-1]=arguments[p];c[u].fn.apply(c[u].context,d)}}return!0},u.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return d(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||d(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==t||n&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:d(this,o)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&d(this,t)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kDisplayNormal=0]="kDisplayNormal",e[e.kDisplayInvisible=1]="kDisplayInvisible",e[e.kDisplayNone=2]="kDisplayNone"}(t.Display||(t.Display={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.PAD=0]="PAD",e[e.REFLECT=1]="REFLECT",e[e.REPEAT=2]="REPEAT"}(t.GradientSpreadMethod||(t.GradientSpreadMethod={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGradientUnitsBoundingBox=0]="kGradientUnitsBoundingBox",e[e.kGradientUnitsUserSpace=1]="kGradientUnitsUserSpace"}(t.GradientUnits||(t.GradientUnits={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0}),t.getRectDifference=function(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width-t.width,height:e.height-t.height}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScaledTransform=(e,t)=>{if(1===t)return e;const r=e.match(/-?\d+\.?\d*/g);return`matrix(${r[0]}, ${r[1]}, ${r[2]}, ${r[3]},\n        ${parseFloat(r[4])*t}, ${parseFloat(r[5])*t})`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(39),i=r(0);t.createGradientElement=function(e,t,r,o){const a=document.createElementNS(i.SVG_NS,"defs");let s;const d=i.uuidv4().toString();switch(e.type){case n.GradientType.LINEAR:s=document.createElementNS(i.SVG_NS,"linearGradient"),s.setAttributeNS("","spreadMethod",i.Component.getGradientSpreadMethod(e.spreadMethod)),s.setAttributeNS("","x1",e.x1.toString()),s.setAttributeNS("","x2",e.x2.toString()),s.setAttributeNS("","y1",e.y1.toString()),s.setAttributeNS("","y2",e.y2.toString());break;case n.GradientType.RADIAL:s=document.createElementNS(i.SVG_NS,"radialGradient"),s.setAttributeNS("","cx",e.centerX.toString()),s.setAttributeNS("","cy",e.centerY.toString()),s.setAttributeNS("","r",e.radius.toString());break;default:return void o.warn("Incorrect gradient type")}t&&t!==i.IDENTITY_TRANSFORM&&s.setAttributeNS("","gradientTransform",t),s.setAttributeNS("","id",d),s.setAttributeNS("","gradientUnits",i.Component.getGradientUnits(e.units));const u=e.inputRange||[];return e.colorRange.map((e,t)=>{const r=document.createElementNS(i.SVG_NS,"stop");u.length>t&&r.setAttributeNS("","offset",100*u[t]+"%"),"number"!=typeof e?r.setAttributeNS("","stop-color",""+e):r.setAttributeNS("","stop-color",""+i.Component.numberToColor(e)),s.appendChild(r)}),a.appendChild(s),{value:`url('#${d}')`,reference:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(31),i=r(0),o=r(40),a=r(62),s=r(42);function d(e){const{graphicPattern:t,transform:r,logger:d,lang:u}=e,c=[],l=document.createElementNS(i.SVG_NS,"defs"),p=function(e){const t=document.getElementById(e);return t&&t instanceof SVGElement?t:document.createElementNS(i.SVG_NS,"pattern")}(t.getId());p.setAttributeNS("","id",t.getId()),p.setAttributeNS("","height",t.getHeight().toString()),p.setAttributeNS("","width",t.getWidth().toString()),p.setAttributeNS("","patternUnits","userSpaceOnUse"),r&&r!==i.IDENTITY_TRANSFORM&&p.setAttributeNS("","patternTransform",r);const f=t.getItemCount();for(let e=0;e<f;e++){const r=t.getItemAt(e);if(r.getType()===n.GraphicElementType.kGraphicElementTypeGroup){const e=new a.Group({graphic:r,parent:p,logger:d,lang:u});c.push(e),e.bootStrapChildren(r,d)}else if(r.getType()===n.GraphicElementType.kGraphicElementTypePath){const e=new s.Path(r,p,d);c.push(e)}else if(r.getType()===n.GraphicElementType.kGraphicElementTypeText){const e=new o.AVGText({graphic:r,parent:p,logger:d,lang:u});c.push(e)}}l.appendChild(p);for(const e of c)e.setAllProperties();return{value:`url('#${t.getId()}')`,reference:l}}t.createPatternElementWithArgs=function(e){return d(e)},t.getOrCreatePatternElementWithArgs=d,t.createPatternElement=function(e,t,r,n){return d({graphicPattern:e,transform:t,logger:n,lang:""})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicTextAnchorEnd=0]="kGraphicTextAnchorEnd",e[e.kGraphicTextAnchorMiddle=1]="kGraphicTextAnchorMiddle",e[e.kGraphicTextAnchorStart=2]="kGraphicTextAnchorStart"}(t.GraphicTextAnchor||(t.GraphicTextAnchor={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicLineCapButt=0]="kGraphicLineCapButt",e[e.kGraphicLineCapRound=1]="kGraphicLineCapRound",e[e.kGraphicLineCapSquare=2]="kGraphicLineCapSquare"}(t.GraphicLineCap||(t.GraphicLineCap={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicLineJoinBevel=0]="kGraphicLineJoinBevel",e[e.kGraphicLineJoinMiter=1]="kGraphicLineJoinMiter",e[e.kGraphicLineJoinRound=2]="kGraphicLineJoinRound"}(t.GraphicLineJoin||(t.GraphicLineJoin={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(61),i=r(1);t.createBoundsFitter=function(e){const{containingBounds:t,innerBounds:r,layoutDirection:o}=e;let{logger:a}=e;a=a||i.LoggerFactory.getLogger("BoundsFitter");const s={[n.LayoutDirection.kLayoutDirectionLTR]:function(){if(!(r.width+r.left>t.width||r.height+r.top>t.height))return r;const{left:e,top:n}=r;return{left:e,top:n,width:Math.min(t.width-r.left,r.width),height:Math.min(t.height-r.top,r.height)}}};return{fitBounds:()=>s.hasOwnProperty(o)?s[o]():(a.warn(`Layout Direction ${o} is not supported. No adjustments made.`),r)}}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(230),i=(e,t)=>{const r=e.height/2,n=e.top+r,i=e.bottom+r;return t.top>n||t.bottom>i},o=(e,t)=>{let r=void 0;const n=e.height/2;return r=t.height>e.height+n?{top:e.bottom,bottom:t.bottom,height:e.height}:{top:t.top,bottom:t.bottom,height:t.height},r};t.Geometry=class{constructor(e,t){this.element=e,this.scalingY=this.element.offsetHeight/this.element.getBoundingClientRect().height,this.parentY=this.element.getBoundingClientRect().top,this.parentPadding=this.element.offsetTop/this.scalingY,this.offsetTop=t}createLineRange(e,t,r){return{start:e,end:t,top:(this.parentPadding+r.top-this.parentY)*this.scalingY,height:r.height*this.scalingY,bottom:(this.parentPadding+r.bottom-this.parentY)*this.scalingY}}splitByLine(){const e=[],t=n.allTextNodes(this.element),r=document.createRange(),a=this.element.getBoundingClientRect();let s=void 0,d=0,u=0;for(let n=0;n<t.length;n++){const c=t[n];for(let l=0;l<c.textContent.length;l++){const p=n===t.length-1&&l===c.textContent.length-1;r.setStart(c,l),r.setEnd(c,l+1);const f=r.getBoundingClientRect(),h=f.top-a.top+this.offsetTop,y=f.bottom-a.top+this.offsetTop,m={top:h,bottom:y,height:y-h};s||(s=m);const g=i(s,m);p&&!g?e.push(this.createLineRange(d,u+l,s)):g&&(e.push(this.createLineRange(d,u+l-1,s)),s=o(s,m),p&&e.push(this.createLineRange(u+l,u+l,s)),d=u+l)}u+=c.textContent.length}return this.split(e),e}split(e){const t=document.createRange();let r=0;const i=[];for(let o=0;o<e.length;o++){const a=e[o];let s=void 0;const d=n.textNodes(this.element);for(const e of d){if(a.end<r+e.textContent.length){s=e;break}r+=e.textContent.length}if(void 0===s)return;t.setStart(this.element,0),t.setEnd(s,a.end+1-r);const u=t.extractContents();i.push(u),r=a.end+1}for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);i.forEach(e=>{const t=document.createElement("data");t.appendChild(e),this.element.appendChild(t)})}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function*n(e){const t=[e];for(;t.length>0;){const e=t.shift();3===e.nodeType&&(yield e);for(let r=e.childNodes.length-1;r>=0;r--)t.unshift(e.childNodes[r])}}Object.defineProperty(t,"__esModule",{value:!0}),t.textNodes=n,t.allTextNodes=e=>[...n(e)]},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(232),i=r(235);class o{constructor(){this.styles={markColor:"red"}}static spanCompare(e,t){return e.start>t.start?1:e.start<t.start||"mark"===e.type?-1:"mark"===t.type||"text"===e.type?1:"text"===t.type?-1:0}processStyledText(e,t){const r=t||document.createElement("p");if(t)for(;r.firstChild;)r.removeChild(r.firstChild);const a=e.text,s=e.spans;if(a){const e=new n.DocumentBuilder(this.styles,a.length);if(0!==s.length){const t=[],r=new Set;s.forEach(e=>{r.add(e.start),r.add(e.end),t.push({type:e.type,start:e.start,end:e.end,children:[],attributes:e.attributes})}),r.add(0),r.add(a.length);const n=Array.from(r).sort((e,t)=>e-t),d=n.length-1;let u=0;for(let e=0;e<d;e++){const r=n[e]+u;let o=n[e+1]+(e+1===d?0:u);const s=i.Emoji.getEmojiOffset(a.slice(r,o));u+=s,o+=e+1===d?0:s,t.push({type:"text",start:r,end:o,text:a.slice(r,o)})}t.sort(o.spanCompare).forEach(t=>e.add(t))}else e.add({type:"text",start:0,end:a.length,text:a});e.finalize(r)}return r}}t.RichTextParser=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(233),i=r(234),o=r(1),a=r(30),s=r(26);class d{constructor(e,t){this.root={type:"root",start:0,end:t,children:[]},this.markStyles=e}add(e){this.addTo(this.root,e)}finalize(e){if(this.root.children)for(const t of this.root.children)this.process(t,e)}addTo(e,t){let r=!1;const n=e=>{switch(e){case"text":case i.SpanType.kSpanTypeLineBreak:return!0;default:return!1}};if(t.start>=e.start&&t.end<=e.end){e.children||(e.children=[]);for(const i of e.children)if(!n(i.type)&&(r=this.addTo(i,t),r))break;if(!r)return e.children.push(t),!0}return r}process(e,t){const r=this.transformElement(e);if(t.appendChild(r),e.children&&0!==e.children.length)for(const t of e.children)this.process(t,r)}transformElement(e){let t=document.createElement("data");switch(e.type){case i.SpanType.kSpanTypeItalic:t.style.fontStyle="italic";break;case i.SpanType.kSpanTypeStrong:t.style.fontWeight="700";break;case i.SpanType.kSpanTypeMonospace:t.style.fontFamily="monospace";break;case i.SpanType.kSpanTypeSubscript:t.style.fontSize="smaller",t.style.verticalAlign="sub";break;case i.SpanType.kSpanTypeLineBreak:t=document.createElement("br");break;case i.SpanType.kSpanTypeSuperscript:t.style.fontSize="smaller",t.style.verticalAlign="super";break;case i.SpanType.kSpanTypeStrike:t.style.textDecoration="line-through";break;case i.SpanType.kSpanTypeUnderline:t.style.textDecoration="underline";break;case i.SpanType.kSpanTypeNoBreak:t.style.whiteSpace="nowrap";break;case i.SpanType.kSpanTypeSpan:if(!e.attributes)break;for(const r of e.attributes)this.addSpanAttribute(r,t);break;case"text":e.text&&(t.textContent=e.text);break;case"mark":this.markStyles.markColor&&(t.style.color=this.markStyles.markColor);break;default:d.logger.warn("Incorrect span type")}return t}addSpanAttribute(e,t){let r;switch(e.name){case n.SpanAttributeName.kSpanAttributeNameColor:r={element:t,properties:{color:a.numberToColor(e.value)}};break;case n.SpanAttributeName.kSpanAttributeNameFontSize:r={element:t,properties:{fontSize:e.value},cssUnitType:s.CssUnitType.Pixels};break;default:return void d.logger.warn("Non-supported attribute name")}s.createStylesApplier(r).applyStyle()}}d.logger=o.LoggerFactory.getLogger("DocumentBuilder"),t.DocumentBuilder=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kSpanAttributeNameColor=0]="kSpanAttributeNameColor",e[e.kSpanAttributeNameFontSize=1]="kSpanAttributeNameFontSize"}(t.SpanAttributeName||(t.SpanAttributeName={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kSpanTypeLineBreak=0]="kSpanTypeLineBreak",e[e.kSpanTypeStrong=1]="kSpanTypeStrong",e[e.kSpanTypeItalic=2]="kSpanTypeItalic",e[e.kSpanTypeStrike=3]="kSpanTypeStrike",e[e.kSpanTypeUnderline=4]="kSpanTypeUnderline",e[e.kSpanTypeMonospace=5]="kSpanTypeMonospace",e[e.kSpanTypeSuperscript=6]="kSpanTypeSuperscript",e[e.kSpanTypeSubscript=7]="kSpanTypeSubscript",e[e.kSpanTypeNoBreak=8]="kSpanTypeNoBreak",e[e.kSpanTypeSpan=9]="kSpanTypeSpan"}(t.SpanType||(t.SpanType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static getEmojiOffset(e){return e.length-e.replace(n.EmojiRegex," ").length}}n.EmojiRegex=new RegExp("(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]️?⃣|㊙|㊗|〽|〰|Ⓜ|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|🆎|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[🈁-\ude02]|🈚|🈯|[🈲-\ude3a]|[🉐-\ude51]|‼|⁉|[▪-▫]|▶|◀|[◻-◾]|©|®|™|ℹ|🀄|[☀-⛿]|⬅|⬆|⬇|⬛|⬜|⭐|⭕|⌚|⌛|⌨|⏏|[⏩-⏳]|[⏸-⏺]|🃏|⤴|⤵|[←-⇿])","g"),t.Emoji=n},function(e,t,r){!function(e){var t,r,n,i=String.fromCharCode;function o(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return i(e>>t&63|128)}function d(e){if(0==(4294967168&e))return i(e);var t="";return 0==(4294965248&e)?t=i(e>>6&31|192):0==(4294901760&e)?(a(e),t=i(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=i(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+i(63&e|128)}function u(){if(n>=r)throw Error("Invalid byte index");var e=255&t[n];if(n++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(){var e,i;if(n>r)throw Error("Invalid byte index");if(n==r)return!1;if(e=255&t[n],n++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|u())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|u()<<6|u())>=2048)return a(i),i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|u()<<12|u()<<6|u())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=o(e),r=t.length,n=-1,i="";++n<r;)i+=d(t[n]);return i},e.decode=function(e){t=o(e),r=t.length,n=0;for(var a,s=[];!1!==(a=c());)s.push(a);return function(e){for(var t,r=e.length,n=-1,o="";++n<r;)(t=e[n])>65535&&(o+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),o+=i(t);return o}(s)}}(t)},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(32),a=r(64),s=r(5);class d extends s.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(i.EventProperty.kEventPropertyMediaType),t=this.event.getValue(i.EventProperty.kEventPropertySource),r=this.event.getValue(i.EventProperty.kEventPropertyHeaders).map((e,t,r)=>o.parseHeaders(e)),n={renderer:this.renderer};yield a.requestMedia(e,t,r,n),this.resolve(),this.destroy()}))}}t.MediaRequest=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kEventMediaTypeImage=0]="kEventMediaTypeImage",e[e.kEventMediaTypeVideo=1]="kEventMediaTypeVideo",e[e.kEventMediaTypeVectorGraphic=2]="kEventMediaTypeVectorGraphic"}(t.EventMediaType||(t.EventMediaType={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(5);class a extends o.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(i.EventProperty.kEventPropertySource);(yield this.renderer.onOpenUrl(e))?this.event.resolve():this.event.resolveWithArg(1)}))}}t.OpenUrl=a},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(5);class o extends i.Event{execute(){return n(this,void 0,void 0,(function*(){this.renderer.destroyRenderingComponents(),yield this.renderer.context.reInflate(),this.renderer.reRenderComponents(),this.event.resolve(),this.destroy()}))}}t.ReInflate=o},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(24),o=r(7),a=r(5);class s extends a.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(o.EventProperty.kEventPropertyRangeStart),t=this.event.getValue(o.EventProperty.kEventPropertyRangeEnd);if(e<0||t<0)this.event.resolveWithRect(0,0,0,0);else if(this.component=this.renderer.componentMap[this.event.getComponent().getUniqueId()],this.component instanceof i.Text){const r=this.component.getLineByRange(e,t),n=this.component.getLineRanges()[r],i=n?n.top:0,o=n?n.height:0;this.event.resolveWithRect(0,i,this.component.bounds.width,o)}else void 0===this.component&&this.event.resolveWithRect(0,0,0,0)}))}}t.RequestLineBounds=s},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7),o=r(5);class a extends o.Event{execute(){return n(this,void 0,void 0,(function*(){const e=this.event.getValue(i.EventProperty.kEventPropertyArguments),t=this.event.getValue(i.EventProperty.kEventPropertyComponents),r=this.event.getValue(i.EventProperty.kEventPropertySource);this.renderer.onSendEvent({source:r,arguments:e,components:t}),this.resolve(),this.destroy()}))}}t.SendEvent=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kGraphicLayoutDirectionLTR=0]="kGraphicLayoutDirectionLTR",e[e.kGraphicLayoutDirectionRTL=1]="kGraphicLayoutDirectionRTL"}(t.GraphicLayoutDirection||(t.GraphicLayoutDirection={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kKeyboardTypeDecimalPad=0]="kKeyboardTypeDecimalPad",e[e.kKeyboardTypeEmailAddress=1]="kKeyboardTypeEmailAddress",e[e.kKeyboardTypeNormal=2]="kKeyboardTypeNormal",e[e.kKeyboardTypeNumberPad=3]="kKeyboardTypeNumberPad",e[e.kKeyboardTypePhonePad=4]="kKeyboardTypePhonePad",e[e.kKeyboardTypeUrl=5]="kKeyboardTypeUrl"}(t.KeyboardType||(t.KeyboardType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayEquals=(e,t)=>JSON.stringify(e)===JSON.stringify(t),t.last=function(e){return e[e.length-1]},t.isEmptyArray=function(e){return void 0===e||0===e.length}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFilterNoiseKindUniform=0]="kFilterNoiseKindUniform",e[e.kFilterNoiseKindGaussian=1]="kFilterNoiseKindGaussian"}(t.NoiseFilterKind||(t.NoiseFilterKind={}))},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(118),i=r(61),o=r(1);var a;!function(e){e[e.Image=0]="Image"}(a=t.AlignerType||(t.AlignerType={}));const s={[a.Image]:function(e){const{parentBounds:t,element:r,logger:n,boundLimits:o}=e;let{layoutDirection:a}=e;return d.hasOwnProperty(a)||(n.warn(`LayoutDirection is not supported: ${a}. Defaulting to LTR`),a=i.LayoutDirection.kLayoutDirectionLTR),d[a](t,r,o)}};t.createAligner=function(e){const t={alignerType:a.Image,boundLimits:{maxTop:0,maxLeft:0,minLeft:0}},r=Object.assign(t,e),{parentBounds:i,element:d,layoutDirection:u,alignerType:c,imageAlign:l,boundLimits:p}=r,f=o.LoggerFactory.getLogger("ImageAligner"),h={[n.ImageAlign.kImageAlignBottom]:function(e){return{left:e.setToHorizontalCenter(),top:e.setToBottom()}},[n.ImageAlign.kImageAlignBottomLeft]:function(e){return{left:e.setToLeft(),top:e.setToBottom()}},[n.ImageAlign.kImageAlignBottomRight]:function(e){return{left:e.setToRight(),top:e.setToBottom()}},[n.ImageAlign.kImageAlignCenter]:function(e){return{left:e.setToHorizontalCenter(),top:e.setToVerticalCenter()}},[n.ImageAlign.kImageAlignLeft]:function(e){return{left:e.setToLeft(),top:e.setToVerticalCenter()}},[n.ImageAlign.kImageAlignRight]:function(e){return{left:e.setToRight(),top:e.setToVerticalCenter()}},[n.ImageAlign.kImageAlignTop]:function(e){return{left:e.setToHorizontalCenter(),top:e.setToTop()}},[n.ImageAlign.kImageAlignTopLeft]:function(e){return{left:e.setToLeft(),top:e.setToTop()}},[n.ImageAlign.kImageAlignTopRight]:function(e){return{left:e.setToRight(),top:e.setToTop()}}};return{getAlignment(){const e=s[c]({parentBounds:i,element:d,layoutDirection:u,logger:f,boundLimits:p});return h.hasOwnProperty(l)?h[l](e):(f.warn(`Bad image alignment property key: ${l}. Defaulting to center alignment.`),{left:e.setToHorizontalCenter(),top:e.setToVerticalCenter()})}}};const d={[i.LayoutDirection.kLayoutDirectionLTR]:function(e,t,r){const{width:n,height:i}=e,{width:o,height:a}=t,{maxLeft:s,maxTop:d}=r;return{setToBottom(){const e=i-a;return Math.max(e,d)},setToTop:()=>0,setToLeft:()=>0,setToRight(){const e=n-o;return Math.max(e,s)},setToHorizontalCenter(){const e=(n-o)/2;return Math.max(e,s)},setToVerticalCenter(){const e=(i-a)/2;return Math.max(e,d)}}},[i.LayoutDirection.kLayoutDirectionRTL]:function(e,t,r){const{width:n,height:i}=e,{width:o,height:a}=t,{minLeft:s,maxTop:d}=r;return{setToBottom(){const e=i-a;return Math.max(e,d)},setToTop:()=>0,setToLeft(){const e=o-n;return Math.min(e,s)},setToRight:()=>0,setToHorizontalCenter(){const e=(o-n)/2;return Math.min(e,s)},setToVerticalCenter(){const e=(i-a)/2;return Math.max(e,d)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);class i extends n.Component{constructor(e,t,r,n){super(e,t,r,n),this.$container.css({display:"none"})}setProperties(e){}updateDirtyProps(){}update(e,t){}}t.NoOpComponent=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APL_1_0=0,t.APL_1_1=1,t.APL_1_2=2,t.APL_1_3=3,t.APL_1_4=4,t.APL_1_5=5,t.APL_1_6=6,t.APL_1_7=7,t.APL_1_8=8,t.APL_1_9=9,t.APL_2022_1=10,t.APL_2022_2=11,t.APL_LATEST=Number.MAX_VALUE,t.createAplVersionUtils=function(){const e=new Map([["1.0",t.APL_1_0],["1.1",t.APL_1_1],["1.2",t.APL_1_2],["1.3",t.APL_1_3],["1.4",t.APL_1_4],["1.5",t.APL_1_5],["1.6",t.APL_1_6],["1.7",t.APL_1_7],["1.8",t.APL_1_8],["1.9",t.APL_1_9],["2022.1",t.APL_2022_1],["2022.2",t.APL_2022_2]]);return{getVersionCode(r){const n=e.get(r);return void 0!==n?n:t.APL_LATEST}}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(70);t.isDisplayState=function(e){return e in n.DisplayState}},function(e,t,r){var n=r(252);"string"==typeof n&&(n=[[e.i,n,""]]);r(254)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,r){(t=r(253)(!1)).push([e.i,"/*\n * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/* Ember Default */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmber_Rg_v2.ttf');\n}\n\n/* Ember Thin */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-Thin.ttf');\n    font-weight: 100;\n}\n\n/* Ember Extra Light - remap to Light */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-Light.ttf');\n    font-weight: 200;\n}\n\n/* Ember Light */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-Light.ttf');\n    font-weight: 300;\n}\n\n/* Ember Normal (Regular) - v2 */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmber_Rg_v2.ttf');\n    font-weight: 400;\n}\n\n/* Ember Medium - v2 */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmber_Md_v2.ttf');\n    font-weight: 500;\n}\n\n/* Ember SemiBold */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-SemiBold.ttf');\n    font-weight: 600;\n}\n\n/* Ember Bold */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmber_Bd_v2.ttf');\n    font-weight: 700;\n}\n\n/* Ember Extra Bold - remap to Heavy */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-Heavy.ttf');\n    font-weight: 800;\n}\n\n/* Ember Heavy (Black) */\n@font-face {\n    font-family: \"amazon-ember\";\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-Heavy.ttf');\n    font-weight: 900;\n}\n\n/* Ember Thin Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-ThinItalic.ttf');\n    font-weight: 100;\n    font-style: italic;\n}\n\n/* Ember Extra Light Italic - remap to Light Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-LightItalic.ttf');\n    font-weight: 200;\n    font-style: italic;\n}\n\n/* Ember Light Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-LightItalic.ttf');\n    font-weight: 300;\n    font-style: italic;\n}\n\n/* Ember Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-RegularItalic.ttf');\n    font-weight: 400;\n    font-style: italic;\n}\n\n/* Ember Medium Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-MediumItalic.ttf');\n    font-weight: 500;\n    font-style: italic;\n}\n\n/* Ember SemiBold Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-SemiBoldItalic.ttf');\n    font-weight: 600;\n    font-style: italic;\n}\n\n/* Ember Bold Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-BoldItalic.ttf');\n    font-weight: 700;\n    font-style: italic;\n}\n\n/* Ember Extra Bold Italic - remap to Heavy Italic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-HeavyItalic.ttf');\n    font-weight: 800;\n    font-style: italic;\n}\n\n/* Ember HeavyItalic */\n@font-face {\n    font-family: 'amazon-ember';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Amazon-Ember-HeavyItalic.ttf');\n    font-weight: 900;\n    font-style: italic;\n}\n\n/* Ember Display Default */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Rg.ttf');\n}\n\n/* Ember Display Thin - remap to Light */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt.ttf');\n    font-weight: 100;\n}\n\n/* Ember Display Extra Light - remap to Light */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt.ttf');\n    font-weight: 200;\n}\n\n/* Ember Display Light */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt.ttf');\n    font-weight: 300;\n}\n\n/* Ember Display Normal (Regular) */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Rg.ttf');\n    font-weight: 400;\n}\n\n/* Ember Display Medium */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Md.ttf');\n    font-weight: 500;\n}\n\n/* Ember Display SemiBold - remap to Bold */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Bd.ttf');\n    font-weight: 600;\n}\n\n/* Ember Display Bold */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Bd.ttf');\n    font-weight: 700;\n}\n\n/* Ember Display Extra Bold - remap to Heavy */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_He.ttf');\n    font-weight: 800;\n}\n\n/* Ember Display Heavy */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_He.ttf');\n    font-weight: 900;\n}\n\n/* Ember Display Thin Italic - remap to Light Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt_It.ttf');\n    font-weight: 100;\n    font-style: italic;\n}\n\n/* Ember Display Extra Light Italic - remap to Light Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt_It.ttf');\n    font-weight: 200;\n    font-style: italic;\n}\n\n/* Ember Display Light Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Lt_It.ttf');\n    font-weight: 300;\n    font-style: italic;\n}\n\n/* Ember Display Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Rg_It.ttf');\n    font-weight: 400;\n    font-style: italic;\n}\n\n/* Ember Display Medium Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Md_It.ttf');\n    font-weight: 500;\n    font-style: italic;\n}\n\n/* Ember Display SemiBold Italic - remap to Bold Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Bd_It.ttf');\n    font-weight: 600;\n    font-style: italic;\n}\n\n/* Ember Display Bold Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_Bd_It.ttf');\n    font-weight: 700;\n    font-style: italic;\n}\n\n/* Ember Display Extra Bold Italic - remap to Heavy Italic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_He_It.ttf');\n    font-weight: 800;\n    font-style: italic;\n}\n\n/* Ember Display HeavyItalic */\n@font-face {\n    font-family: 'amazon-ember-display';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/AmazonEmberDisplay_He_It.ttf');\n    font-weight: 900;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Bookerly';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Bookerly-Regular.ttf');\n}\n\n@font-face {\n    font-family: 'Bookerly';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Bookerly-Regular.ttf');\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Bookerly';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Bookerly-Bold.ttf');\n    font-weight: 600;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: 'Bookerly';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Bookerly-Italic.ttf');\n    font-weight: 400;\n    font-style: italic;\n}\n\n@font-face {\n    font-family: 'Bookerly';\n    src: url('https://d1gkjrhppbyzyh.cloudfront.net/Bookerly-BoldItalic.ttf');\n    font-weight: 600;\n    font-style: italic;\n}\n",""]),e.exports=t},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,i,o=e[1]||"",a=e[3];if(!a)return o;if(t&&"function"==typeof btoa){var s=(r=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(i," */")),d=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[o].concat(d).concat([s]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);n&&i[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},function(e,t,r){var n,i,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},d=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=s.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,c=0,l=[],p=r(255);function f(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(b(n.parts[a],t))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(b(n.parts[a],t));o[n.id]={id:n.id,refs:1,parts:s}}}}function h(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function y(e,t){var r=d(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),l.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=d(e.insertAt.before,r);r.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=r.nc;n&&(e.attrs.nonce=n)}return v(t,e.attrs),y(e,t),t}function v(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function b(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;r=u||(u=g(t)),n=S.bind(null,r,a,!1),i=S.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),y(e,t),t}(t),n=E.bind(null,r,t),i=function(){m(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),n=T.bind(null,r),i=function(){m(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=h(e,t);return f(r,t),function(e){for(var n=[],i=0;i<r.length;i++){var a=r[i];(s=o[a.id]).refs--,n.push(s)}for(e&&f(h(e,t),t),i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var d=0;d<s.parts.length;d++)s.parts[d]();delete o[s.id]}}}};var P,k=(P=[],function(e,t){return P[e]=t,P.filter(Boolean).join("\n")});function S(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function T(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function E(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=p(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static create(e){return new n(e)}getContent(){return this.content}constructor(e){this.content=Module.Content.create(e);try{this.settings=JSON.parse(e).settings||{}}catch(e){this.settings={}}}getRequestedPackages(){return this.content.getRequestedPackages()}addPackage(e,t){this.content.addPackage(e,t)}isError(){return this.content.isError()}isReady(){return this.content.isReady()}isWaiting(){return this.content.isWaiting()&&!this.content.isError()}addData(e,t){this.content.addData(e,t)}getAPLVersion(){return this.content.getAPLVersion()}delete(){this.content.delete(),this.content=void 0}getExtensionRequests(){return this.content.getExtensionRequests()}getExtensionSettings(e){return this.content.getExtensionSettings(e)}getAPLSettings(e){return this.settings[e]}getParameterAt(e){return this.content.getParameterAt(e)}getParameterCount(){return this.content.getParameterCount()}}t.Content=n},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseContainer=class{constructor(){this.promise=new Promise((e,t)=>{this.accept=e,this.reject=t})}},t.CancelablePromise=class{constructor(e,t,r){e.then(e=>{this.cancelled||t(e),this.hasRun=!0}).catch(e=>{if(!r)throw new Error(e);r(e)})}cancel(){if(this.cancelled)throw new Error("Promise has already been marked as cancelled");if(this.hasRun)throw new Error("Promise has already run and cannot be cancelled");this.cancelled=!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(259),i=[n.readXingTag,n.readId3v2Tag],o=(e,t)=>{for(const r of i){const n=r(e,t);if(n)return n._section.byteLength}throw new Error("Unknown frame")};t.Demuxer=class{constructor(){this.used=!1,this.rangeLength=0,this.ranges=new Array}demux(e){if(this.used)throw new Error("This demuxer instance has been used previously.");this.used=!0;const t=e.byteLength,r=new DataView(e);let i=0;for(;i<t;){const e=n.readFrame(r,i);if(null===e)i+=o(r,i);else{const t=e._section.byteLength;this.addRange(i,t),i+=t}}return((e,t,r)=>{const n=new ArrayBuffer(r);let i=0;return t.forEach(t=>{((e,t,r,n)=>{const i=new Uint8Array(e),o=new Uint8Array(r);let a=0;for(;a<t.length;)o[a+n]=i[a+t.start],a++})(e,t,n,i),i+=t.length}),n})(e,this.ranges,this.rangeLength)}addRange(e,t){const r={length:t,start:e};this.ranges.push(r),this.rangeLength+=t}}},function(e,t,r){var n,i,o;!function(a,s){"use strict";i=[t,r(23),r(131),r(132)],void 0!==(o="function"==typeof(n=function(e,t,r,n){e.readFrameHeader=function(e,r){return t.readFrameHeader(e,r)},e.readFrame=function(e,r,n){return t.readFrame(e,r,n)},e.readLastFrame=function(t,r,n){r||(r=t.byteLength-1);for(var i=null;r>=0;--r)if(255===t.getUint8(r)&&(i=e.readFrame(t,r,n)))return i;return null},e.readId3v2Tag=function(e,t){return r.readId3v2Tag(e,t)},e.readXingTag=function(e,t){return n.readXingTag(e,t)},e.readTags=function(t,r){r||(r=0);for(var n=[],i=null,o=!1,a=t.byteLength,s=[e.readId3v2Tag,e.readXingTag,e.readFrame],d=s.length;r<a&&!o;++r)for(var u=0;u<d;++u)if(i=s[u](t,r)){if(n.push(i),r+=i._section.byteLength,"frame"===i._section.type){o=!0;break}u=-1}return n}})?n.apply(t,i):n)&&(e.exports=o)}()},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=(e,t,r,n)=>((127&e)<<21)+((127&t)<<14)+((127&r)<<7)+(127&n),i=(e,t)=>{if(84!==e[t]||88!==e[t+1]||88!==e[t+2]||88!==e[t+3])return[];const r=n(e[t+4],e[t+5],e[t+6],e[t+7]);let i=t+10+4;for(;91!==e[i];)i++;const o=e.slice(i,t+10+r-1),a=String.fromCharCode.apply(null,o);return JSON.parse(a)};t.extractTextFrames=e=>{let t=new Array;const r=new Uint8Array(e);let o=0;for(;o<r.length-2;)if(73===r[o]&&68===r[o+1]&&51===r[o+2]){const e=n(r[o+6],r[o+7],r[o+8],r[o+9]),a=i(r,o+10);t=t.concat(a),o+=e+10}else o++;return t}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0}),t.IAudioPlayerFactory=class{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(133),i=r(130);class o extends i.AudioPlayer{constructor(e){super(e),this.contextProvider=new n.DefaultAudioContextProvider}play(e){this.contextProvider.getAudioContext().then(t=>{super.playWithContext(e,t)}).catch(e=>{})}releaseAudioContext(){this.contextProvider.releaseAudioContext(null)}}t.DefaultAudioPlayer=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kAudioPlayerEventEnd=0]="kAudioPlayerEventEnd",e[e.kAudioPlayerEventPause=1]="kAudioPlayerEventPause",e[e.kAudioPlayerEventPlay=2]="kAudioPlayerEventPlay",e[e.kAudioPlayerEventTimeUpdate=3]="kAudioPlayerEventTimeUpdate",e[e.kAudioPlayerEventReady=4]="kAudioPlayerEventReady",e[e.kAudioPlayerEventFail=5]="kAudioPlayerEventFail"}(t.AudioPlayerEventType||(t.AudioPlayerEventType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandAudioTrackBackground=0]="kCommandAudioTrackBackground",e[e.kCommandAudioTrackForeground=1]="kCommandAudioTrackForeground",e[e.kCommandAudioTrackNone=2]="kCommandAudioTrackNone"}(t.CommandAudioTrack||(t.CommandAudioTrack={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandControlMediaPlay=0]="kCommandControlMediaPlay",e[e.kCommandControlMediaPause=1]="kCommandControlMediaPause",e[e.kCommandControlMediaNext=2]="kCommandControlMediaNext",e[e.kCommandControlMediaPrevious=3]="kCommandControlMediaPrevious",e[e.kCommandControlMediaRewind=4]="kCommandControlMediaRewind",e[e.kCommandControlMediaSeek=5]="kCommandControlMediaSeek",e[e.kCommandControlMediaSetTrack=6]="kCommandControlMediaSetTrack"}(t.CommandControlMedia||(t.CommandControlMedia={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandHighlightModeLine=0]="kCommandHighlightModeLine",e[e.kCommandHighlightModeBlock=1]="kCommandHighlightModeBlock"}(t.CommandHighlightMode||(t.CommandHighlightMode={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandPositionRelative=0]="kCommandPositionRelative",e[e.kCommandPositionAbsolute=1]="kCommandPositionAbsolute"}(t.CommandPosition||(t.CommandPosition={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandScrollAlignFirst=0]="kCommandScrollAlignFirst",e[e.kCommandScrollAlignCenter=1]="kCommandScrollAlignCenter",e[e.kCommandScrollAlignLast=2]="kCommandScrollAlignLast",e[e.kCommandScrollAlignVisible=3]="kCommandScrollAlignVisible"}(t.CommandScrollAlign||(t.CommandScrollAlign={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kCommandTypeArray=0]="kCommandTypeArray",e[e.kCommandTypeIdle=1]="kCommandTypeIdle",e[e.kCommandTypeSequential=2]="kCommandTypeSequential",e[e.kCommandTypeParallel=3]="kCommandTypeParallel",e[e.kCommandTypeSendEvent=4]="kCommandTypeSendEvent",e[e.kCommandTypeSetValue=5]="kCommandTypeSetValue",e[e.kCommandTypeSetState=6]="kCommandTypeSetState",e[e.kCommandTypeSpeakItem=7]="kCommandTypeSpeakItem",e[e.kCommandTypeSpeakList=8]="kCommandTypeSpeakList",e[e.kCommandTypeScroll=9]="kCommandTypeScroll",e[e.kCommandTypeScrollToIndex=10]="kCommandTypeScrollToIndex",e[e.kCommandTypeScrollToComponent=11]="kCommandTypeScrollToComponent",e[e.kCommandTypeSelect=12]="kCommandTypeSelect",e[e.kCommandTypeSetPage=13]="kCommandTypeSetPage",e[e.kCommandTypeAutoPage=14]="kCommandTypeAutoPage",e[e.kCommandTypePlayMedia=15]="kCommandTypePlayMedia",e[e.kCommandTypeControlMedia=16]="kCommandTypeControlMedia",e[e.kCommandTypeOpenURL=17]="kCommandTypeOpenURL",e[e.kCommandTypeAnimateItem=18]="kCommandTypeAnimateItem",e[e.kCommandTypeSetFocus=19]="kCommandTypeSetFocus",e[e.kCommandTypeClearFocus=20]="kCommandTypeClearFocus",e[e.kCommandTypeFinish=21]="kCommandTypeFinish",e[e.kCommandTypeReinflate=22]="kCommandTypeReinflate",e[e.kCommandTypeCustomEvent=23]="kCommandTypeCustomEvent"}(t.CommandType||(t.CommandType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kContainerDirectionColumn=0]="kContainerDirectionColumn",e[e.kContainerDirectionRow=1]="kContainerDirectionRow",e[e.kContainerDirectionColumnReverse=2]="kContainerDirectionColumnReverse",e[e.kContainerDirectionRowReverse=3]="kContainerDirectionRowReverse"}(t.ContainerDirection||(t.ContainerDirection={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kDocumentPropertyOnConfigChange=0]="kDocumentPropertyOnConfigChange",e[e.kDocumentPropertyOnDisplayStateChange=1]="kDocumentPropertyOnDisplayStateChange"}(t.DocumentPropertyKey||(t.DocumentPropertyKey={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFlexboxAlignStretch=0]="kFlexboxAlignStretch",e[e.kFlexboxAlignCenter=1]="kFlexboxAlignCenter",e[e.kFlexboxAlignStart=2]="kFlexboxAlignStart",e[e.kFlexboxAlignEnd=3]="kFlexboxAlignEnd",e[e.kFlexboxAlignBaseline=4]="kFlexboxAlignBaseline",e[e.kFlexboxAlignAuto=5]="kFlexboxAlignAuto"}(t.FlexboxAlign||(t.FlexboxAlign={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kFlexboxJustifyContentStart=0]="kFlexboxJustifyContentStart",e[e.kFlexboxJustifyContentEnd=1]="kFlexboxJustifyContentEnd",e[e.kFlexboxJustifyContentCenter=2]="kFlexboxJustifyContentCenter",e[e.kFlexboxJustifyContentSpaceBetween=3]="kFlexboxJustifyContentSpaceBetween",e[e.kFlexboxJustifyContentSpaceAround=4]="kFlexboxJustifyContentSpaceAround"}(t.FlexboxJustifyContent||(t.FlexboxJustifyContent={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kNone=-1]="kNone",e[e.kTrace=0]="kTrace",e[e.kDebug=1]="kDebug",e[e.kInfo=2]="kInfo",e[e.kWarn=3]="kWarn",e[e.kError=5]="kError",e[e.kCritical=6]="kCritical",e[e.NONE=-1]="NONE",e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=5]="ERROR",e[e.CRITICAL=6]="CRITICAL"}(t.LogLevel||(t.LogLevel={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kNavigationNormal=0]="kNavigationNormal",e[e.kNavigationNone=1]="kNavigationNone",e[e.kNavigationWrap=2]="kNavigationWrap",e[e.kNavigationForwardOnly=3]="kNavigationForwardOnly"}(t.Navigation||(t.Navigation={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kPositionAbsolute=0]="kPositionAbsolute",e[e.kPositionRelative=1]="kPositionRelative",e[e.kPositionSticky=2]="kPositionSticky"}(t.Position||(t.Position={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={};t.createExtension=function(e){const{uri:t,createAplExtensionCommandDefinition:r,createAplExtensionEventHandler:o}=e;return n.hasOwnProperty(t)?n[t](r,o):new i(t)};class i{constructor(e){this.uri=e}applySettings(e){}getEnvironment(){}getExtensionCommands(){return[]}getExtensionEventHandlers(){return[]}getLiveData(){return[]}getUri(){return this.uri}onExtensionEvent(e,t,r,n,i){}setContext(e){}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionCommandDefinition=class{constructor(e){const{uri:t,name:r,createAplExtensionCommandDefinition:n}=e;return this.commandDefinition=n(t,r),this}allowFastMode(e){return this.commandDefinition.allowFastMode(e),this}requireResolution(e){return this.commandDefinition.requireResolution(e),this}property(e,t,r){return this.commandDefinition.property(e,t,r),this}arrayProperty(e,t){return this.commandDefinition.arrayProperty(e,t),this}getURI(){return this.commandDefinition.getURI()}getName(){return this.commandDefinition.getName()}getAllowFastMode(){return this.commandDefinition.getAllowFastMode()}getRequireResolution(){return this.commandDefinition.getRequireResolution()}},t.ExtensionEventHandler=class{constructor(e){const{uri:t,name:r,createAplExtensionEventHandler:n}=e;return this.eventHandler=n(t,r),this}getURI(){return this.eventHandler.getURI()}getName(){return this.eventHandler.getName()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static create(e){return new n(e)}constructor(e){this.liveArray=Module.LiveArray.create(e)}empty(){return this.liveArray.empty()}clear(){this.liveArray.clear()}size(){return this.liveArray.size()}at(e){return this.liveArray.at(e)}insert(e,t){return this.liveArray.insert(e,t)}insertRange(e,t){return this.liveArray.insertRange(e,t)}remove(e,t=1){return this.liveArray.remove(e,t)}update(e,t){return this.liveArray.update(e,t)}updateRange(e,t){return this.liveArray.updateRange(e,t)}push_back(e){this.liveArray.push_back(e)}push_backRange(e){return this.liveArray.push_backRange(e)}}t.LiveArray=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{static create(e){return new n(e)}constructor(e){this.liveMap=Module.LiveMap.create(e)}empty(){return this.liveMap.empty()}clear(){this.liveMap.clear()}get(e){return this.liveMap.get(e)}has(e){return this.liveMap.has(e)}set(e,t){this.liveMap.set(e,t)}update(e){this.liveMap.update(e)}replace(e){this.liveMap.replace(e)}remove(e){return this.liveMap.remove(e)}}t.LiveMap=n},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(282),o=r(125);t.MediaPlayerHandle=class{constructor(e){this.mediaPlayer=e,this.eventProcessor=i.createMediaEventProcessor({mediaPlayerHandle:this}),this.eventSequencer=o.createMediaEventSequencer({mediaEventProcessor:this.eventProcessor})}destroy(){this.mediaPlayer.delete(),this.eventSequencer.destroy(),this.eventProcessor.destroy()}setVideoComponent(e){this.videoComponent=e,setTimeout(()=>{this.lastPlaybackState&&this.videoComponent.onEvent(this.lastPlaybackState),this.playWhenLoaded&&this.play(this.waitForFinishOnInit)},0)}getProcessor(){return this.eventProcessor}getSequencer(){return this.eventSequencer}setTrackList(e){this.eventSequencer.enqueueForProcessing(o.VideoInterface.SET_TRACK_LIST,{trackArray:e})}setTrackIndex(e){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.SET_TRACK_INDEX,{trackIndex:e,fromEvent:!0})}))}seek(e){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.SEEK,{seekOffset:e,fromEvent:!0})}))}play(e){return n(this,void 0,void 0,(function*(){if(!this.videoComponent)return this.playWhenLoaded=!0,void(this.waitForFinishOnInit=e);this.videoComponent.play(e)}))}pause(){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.PAUSE,{fromEvent:!0})}))}stop(){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.STOP,{fromEvent:!0})}))}next(){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.NEXT,{fromEvent:!0})}))}previous(){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.PREVIOUS,{fromEvent:!0})}))}rewind(){return n(this,void 0,void 0,(function*(){this.eventSequencer.enqueueForProcessing(o.VideoInterface.REWIND,{fromEvent:!0})}))}setAudioTrack(e){this.eventSequencer.enqueueForProcessing(o.VideoInterface.SET_AUDIO_TRACK,{audioTrack:e})}setMute(e){this.eventSequencer.enqueueForProcessing(o.VideoInterface.SET_MUTED,{muted:e,fromEvent:!0})}onEvent(e){this.eventProcessor.onEvent({event:e,fromEvent:!1,isSettingSource:!1,aplMediaPlayer:this.mediaPlayer}),this.videoComponent?this.videoComponent.onEvent(e):this.lastPlaybackState=e}onPlayerReady(){this.eventProcessor.onVideoPlayerReady()}get player(){return this.eventProcessor.player}get audioTrack(){return this.eventProcessor.audioTrack}get playbackManager(){return this.eventProcessor.playbackManager}get currentMediaResource(){return this.eventProcessor.playbackManager.getCurrent()}get currentMediaState(){return this.eventProcessor.currentMediaState}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 */var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(134),o=r(283),a=r(43),s=r(135),d=r(1),u=r(136),c=r(284),l=r(137),p=r(22),f=r(286);function h(e){return e/1e3}function y(e){return 1e3*e}function m(e){return void 0!==e}t.createMediaEventProcessor=function(e){const t={logger:d.LoggerFactory.getLogger("Video")};e=Object.assign(t,e);const{mediaPlayerHandle:r,logger:g}=e;let v=p.PlaybackState.IDLE;const b=[];function P(e,t=!1){return n(this,void 0,void 0,(function*(){const r=this.playbackManager.getCurrent();r.loaded?this.updateMediaState(e,t):(yield this.player.load(r.id,r.url),r.loaded=!0)}))}const k={isPlaying(){return!(this.currentMediaState.paused||this.currentMediaState.ended)},onVideoPlayerReady(){this.loaded||(g.info("First loaded, refresh video"),this.setTrackIndex({trackIndex:0,fromEvent:!1}),this.rewind(),this.loaded=!0),this.shouldStartPlayAfterPlayerInit&&(g.info("Player ready, starting playback"),this.play({waitForFinish:!1,fromEvent:!0,isSettingSource:!1}))},onEvent({event:e,fromEvent:t,isSettingSource:r,aplMediaPlayer:n}){let i;switch(e){case p.PlaybackState.IDLE:this.currentMediaState.withTrackState(a.TrackState.kTrackNotReady),this.currentMediaState.withErrorCode(u.MediaErrorCode.DEFAULT);break;case p.PlaybackState.LOADED:this.currentMediaState.withTrackState(a.TrackState.kTrackReady),i=o.MediaPlayerEventType.kMediaPlayerEventTrackReady;break;case p.PlaybackState.PLAYING:i=this.isPlaying()?o.MediaPlayerEventType.kMediaPlayerEventTimeUpdate:o.MediaPlayerEventType.kMediaPlayerEventPlay,this.currentMediaState.ended=!1,this.currentMediaState.paused=!1;break;case p.PlaybackState.PAUSED:this.currentMediaState.paused=!0,i=o.MediaPlayerEventType.kMediaPlayerEventPause;break;case p.PlaybackState.ENDED:this.playbackManager.repeat()?(this.delegate.rewind().then(()=>{this.delegate.play(!1)}),i=o.MediaPlayerEventType.kMediaPlayerEventTimeUpdate):this.playbackManager.hasNext()?(this.delegate.next().then(()=>{this.delegate.play(!1)}),r=!0,i=o.MediaPlayerEventType.kMediaPlayerEventTrackUpdate):(this.currentMediaState.ended=!0,this.currentMediaState.paused=!0,i=o.MediaPlayerEventType.kMediaPlayerEventEnd),b.forEach(e=>{try{e()}catch(e){}});break;case p.PlaybackState.ERROR:g.error("Playback error."),r=!1,this.currentMediaState.ended=!0,this.currentMediaState.paused=!0,this.currentMediaState.withTrackState(a.TrackState.kTrackFailed),this.currentMediaState.withErrorCode(u.MediaErrorCode.GENERIC),i=o.MediaPlayerEventType.kMediaPlayerEventTrackFail;break;case p.PlaybackState.BUFFERING:default:return}v=e,void 0!==i&&(this.updateMediaState(t,r),n.updateMediaState(this.currentMediaState),n.doCallback(i))},play({waitForFinish:e,fromEvent:t,isSettingSource:r}){return n(this,void 0,void 0,(function*(){this.audioTrack===i.AudioTrack.kAudioTrackNone||this.muted?(this.muted=!0,this.player.mute()):this.player.unmute(),yield P.call(this,t,r);const n=this.playbackManager.getCurrent();let o=y(this.player.getCurrentPlaybackPositionInSeconds());o<n.offset&&(o=n.offset,this.player.setCurrentTimeInSeconds(h(o))),yield this.player.play(n.id,n.url,o).then(()=>{this.loaded=!0},e=>{e===f.PlaybackFailure.UNINITIALIZED&&(this.shouldStartPlayAfterPlayerInit=!0,g.info("Player not ready, deferring playback"))}),e&&(yield new Promise(e=>{b.push(e)}))}))},pause(){return n(this,void 0,void 0,(function*(){v!==p.PlaybackState.PLAYING&&v!==p.PlaybackState.BUFFERING||(yield this.player.pause())}))},stop(){return n(this,void 0,void 0,(function*(){yield this.player.end();const e=this.playbackManager.getCurrent(),t=this.currentMediaState.duration+e.offset;this.currentMediaState.currentTime>this.currentMediaState.duration&&this.player.setCurrentTimeInSeconds(h(t))}))},seek({seekOffset:e,fromEvent:t}){return n(this,void 0,void 0,(function*(){yield P.call(this,t);const r=this.playbackManager.getCurrent(),n=r.offset,i=y(this.player.getCurrentPlaybackPositionInSeconds())+e,o=y(this.player.getDurationInSeconds()),a=r.duration>0;o<=i?a?this.player.setCurrentTimeInSeconds(n+h(r.duration)-.001):this.player.setCurrentTimeInSeconds(h(o)-.001):i<n?this.player.setCurrentTimeInSeconds(h(n)):this.player.setCurrentTimeInSeconds(h(i)),this.updateMediaState(t)}))},rewind(){return n(this,void 0,void 0,(function*(){yield this.pause();const e=this.playbackManager.getCurrent();this.player.setCurrentTimeInSeconds(h(e.offset))}))},previous({fromEvent:e}){return n(this,void 0,void 0,(function*(){this.playbackManager.hasPrevious()?(yield this.pause(),this.playbackManager.previous()):yield this.delegate.rewind(),yield P.call(this,e)}))},next({fromEvent:e}){return n(this,void 0,void 0,(function*(){yield this.pause(),this.playbackManager.hasNext()?(this.playbackManager.next(),yield P.call(this,e)):this.player.setCurrentTimeInSeconds(this.player.getDurationInSeconds()-.001)}))},setTrackIndex({trackIndex:e,fromEvent:t}){return n(this,void 0,void 0,(function*(){yield this.pause(),this.playbackManager.setCurrent(e),this.updateMediaState(t,!0),yield P.call(this,t)}))},setAudioTrack({audioTrack:e}){this.audioTrack=e},setMuted({muted:e,fromEvent:t}){this.muted=e,this.muted?this.player.mute():this.player.unmute(),this.updateMediaState(t)},setTrackList({trackArray:e}){return n(this,void 0,void 0,(function*(){this.playbackManager.setup(e),yield P.call(this)}))},onTimeUpdated({aplMediaPlayer:e}){m(this.player)&&this.isPlaying()&&(this.updateMediaState(!1),e.updateMediaState(this.currentMediaState),e.doCallback(o.MediaPlayerEventType.kMediaPlayerEventTimeUpdate))},updateMediaState(e,t=!1){if(!m(this.player))return;let r=0,n=0;try{const e=T.getCurrent();n=e.duration,r=e.offset}catch(e){g.warn("Can not get current media resource",e)}this.currentMediaState.currentTime=y(this.player.getCurrentPlaybackPositionInSeconds())-r,this.currentMediaState.duration=y(this.player.getDurationInSeconds()),n>0?(n>this.currentMediaState.duration-r?this.currentMediaState.duration=this.currentMediaState.duration-r:this.currentMediaState.duration=n,this.currentMediaState.currentTime>this.currentMediaState.duration&&(t||this.stop())):this.currentMediaState.duration-=r,this.currentMediaState.trackCount=this.playbackManager.getTrackCount(),this.currentMediaState.trackIndex=this.playbackManager.getCurrentIndex(),this.currentMediaState.muted=this.muted,function(e){const t=["currentTime","currentTime","trackCount","trackIndex","duration"];for(const n of t)e.hasOwnProperty(n)&&(r=e[n],Number.isNaN(r)||void 0===r)&&(e[n]=0);var r}(this.currentMediaState)},setScale({videoComponent:e,scale:t}){let r="contain";switch(t){case s.VideoScale.kVideoScaleBestFit:r="contain";break;case s.VideoScale.kVideoScaleBestFill:r="cover";break;default:g.warn("Incorrect VideoScale type")}this.player.configure(e,r)},applyCssShadow({shadowParams:e}){this.player&&this.player.applyCssShadow(e)},destroy(){this.updateMediaState(!1),this.player.destroy()},set fromEvent(e){this.delegate.fromEvent=e},get fromEvent(){return this.delegate.fromEvent},set isSettingSource(e){this.delegate.isSettingSource=e},get delegate(){return Object.getPrototypeOf(this)}},S=f.VideoPlayer({eventListener:r,logger:g});S.init();const T=new l.PlaybackManager,E=new c.MediaState;return Object.defineProperties(k,{player:{value:S,writable:!1,configurable:!1},playbackManager:{value:T,writable:!1,configurable:!1},audioTrack:{value:void 0,writable:!0,configurable:!1},currentMediaState:{value:E,writable:!1,configurable:!0}}),Object.setPrototypeOf(k,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.kMediaPlayerEventEnd=0]="kMediaPlayerEventEnd",e[e.kMediaPlayerEventPause=1]="kMediaPlayerEventPause",e[e.kMediaPlayerEventPlay=2]="kMediaPlayerEventPlay",e[e.kMediaPlayerEventTimeUpdate=3]="kMediaPlayerEventTimeUpdate",e[e.kMediaPlayerEventTrackUpdate=4]="kMediaPlayerEventTrackUpdate",e[e.kMediaPlayerEventTrackReady=5]="kMediaPlayerEventTrackReady",e[e.kMediaPlayerEventTrackFail=6]="kMediaPlayerEventTrackFail"}(t.MediaPlayerEventType||(t.MediaPlayerEventType={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(43),i=r(1),o=r(285),a=r(136),s=i.LoggerFactory.getLogger("MediaState");t.MediaState=class{constructor(){this.currentTime=0,this.duration=0,this.ended=!1,this.paused=!0,this.muted=!1,this.trackCount=0,this.trackIndex=0,this.errorCode=a.MediaErrorCode.DEFAULT,this.trackState=n.TrackState.kTrackNotReady}getErrorCode(){return this.errorCode}getTrackState(){return this.trackState}withTrackState(e){o.isTrackState(e)?this.trackState=e:s.error("Invalid track state.")}withErrorCode(e){this.errorCode=e}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(43);t.isTrackState=function(e){return e in n.TrackState}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(287);var i=r(139);t.PlaybackFailure=i.PlaybackFailure,t.VideoPlayer=n.createHLSVideoPlayer},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(138),o=r(288),a=r(1),s=r(22),d=r(290),u=r(139),c="The provided media format is not supported.",l="A fatal playback error encountered";var p;function f(){return i.isSupported()}!function(e){e.UNINITIALIZED="UNINITIALIZED",e.CONFIGURING="CONFIGURING",e.READY="READY",e.ERROR="ERROR"}(p||(p={})),t.createHLSVideoPlayer=function(e){const t={logger:a.LoggerFactory.getLogger("Video")};e=Object.assign(t,e);const{eventListener:r,logger:o}=e;let h=p.UNINITIALIZED,y=void 0;function v(e,t){return t=t||0,new Promise((r,n)=>{try{const i=C();P(i)&&function(e){const{player:t,url:r,resolve:n,reject:i}=e;t.addEventListener("loadedmetadata",()=>{t.play().then(n).catch(i)}),t.src=r}({player:i,url:e,resolve:r,reject:n}),k.call(this,{player:i,url:e,offset:t,resolve:r,reject:n})}catch(e){n(e)}})}function k(e){return n(this,void 0,void 0,(function*(){const{player:t,url:r,offset:n,resolve:i,reject:o}=e;h===p.UNINITIALIZED&&new Promise((e,n)=>{x.call(this,{player:t,url:r,resolve:e,reject:n})}).then(()=>{k.call(this,{player:t,url:r,offset:n,resolve:i,reject:o})}),t.startLoad(n),yield this.player.play().then(i).catch(o)}))}function S(e){return new Promise((t,r)=>{b(this.player)||f()||r(c);try{const n=C.call(this);P(n)?E.call(this,{player:n,url:e,resolve:t,reject:r}):x.call(this,{player:n,url:e,resolve:t,reject:r})}catch(e){r(e)}})}function T(e){o.error(`${l}: ${e}`),this.playbackStateHandler.transitionToState(s.PlaybackState.ERROR)}function E(e){const{player:t,url:r,resolve:n}=e;t.src=r,t.load(),n()}function x(e){h=p.CONFIGURING;const{player:t,url:r,reject:n,resolve:o}=e;w.call(this);const a=d.createPlayerNetworkRetryManager({player:t,errorCallback:T.bind(this,l)});t.on(i.Events.ERROR,(e,o)=>{if(o.fatal){if(!a.shouldRetry())return h=p.ERROR,a.fail(),void n();switch(o.type){case i.ErrorTypes.NETWORK_ERROR:a.retry(r,o.details);break;case i.ErrorTypes.MEDIA_ERROR:t.recoverMediaError();break;default:h=p.ERROR,T.call(this,l),n()}}}),t.on(i.Events.MEDIA_ATTACHED,()=>{t.loadSource(r)}),m(r)?t.on(i.Events.FRAG_LOADED,()=>{this.playbackStateHandler.transitionToState(s.PlaybackState.LOADED),o()}):t.on(i.Events.MANIFEST_PARSED,()=>{this.playbackStateHandler.transitionToState(s.PlaybackState.LOADED),o()}),t.attachMedia(this.player)}function w(){try{const e=C.call(this);e.stopLoad(),e.detachMedia()}catch(e){}}function C(){if(y)return y;if(f())return void 0===y?(y=new i,y):y;if(b(this.player))return y=this.player,y;throw new Error(c)}const A={load(e,t){return this.player.id=e,g(t)?(this.player.onloadeddata=void 0,this.playbackStateHandler.transitionToState(s.PlaybackState.IDLE),S.call(this,t)):(w.call(this),this._delegate.load.call(this,e,t))},play(e,t,r){return this.player.id=e,g(t)?v.call(this,t,r):this._delegate.play.call(this,e,t,r)},get _delegate(){return Object.getPrototypeOf(this)}},_=u.createVideoPlayer(r);return Object.setPrototypeOf(A,_)};const h=["format=m3u8-aapl"],y=["m3u8","hls"];function m(e){return h.reduce((t,r)=>t||e.includes(r),!1)}function g(e){return function(e){const t=new URL(e);t.search="";const r=o.extname(t);return y.reduce((e,t)=>e||r.includes(t),!1)}(e)||m(e)}const v=["application/vnd.apple.mpegurl"];function b(e){return v.reduce((function(t,r){return t||e.canPlayType(r)}),!1)}function P(e){return Object.getPrototypeOf(e)===HTMLVideoElement.prototype}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,i="/"===a.charAt(0))}return(i?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,d=0;d<a;d++)if(i[d]!==o[d]){s=d;break}var u=[];for(d=s;d<i.length;d++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(289))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var d,u=[],c=!1,l=-1;function p(){c&&d&&(c=!1,d.length?u=d.concat(u):l=-1,u.length&&f())}function f(){if(!c){var e=s(p);c=!0;for(var t=u.length;t;){for(d=u,u=[];++l<t;)d&&d[l].run();l=-1,t=u.length}d=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(138);t.createPlayerNetworkRetryManager=function(e){e=Object.assign({numberOfRetries:3,errorCallback:()=>{}},e);const{player:t,errorCallback:r}=e;let i=e.numberOfRetries;return{fail(){r()},retry(e,r){i-=1,r===n.ErrorDetails.MANIFEST_LOAD_ERROR||r===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r===n.ErrorDetails.MANIFEST_PARSING_ERROR?t.loadSource(e):t.startLoad()},shouldRetry:()=>i>0}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(22);var i,o;function a(e){e.onEvent(this.currentPlaybackState)}!function(e){e.Dedup="DEDUP",e.AlwaysEmit="ALWAYS_EMIT"}(i=t.EmitBehavior||(t.EmitBehavior={})),function(e){e.StateUpdatedDidEmit="TRANSITION_EMIT",e.StateNotUpdatedDidNotEmit="NO_TRANSITION_NO_EMIT"}(o=t.PlaybackStateTransitionResult||(t.PlaybackStateTransitionResult={})),t.PlaybackStateHandler=function(e){const t={initialPlaybackState:n.PlaybackState.IDLE};e=Object.assign(t,e);const{eventListener:r,initialPlaybackState:s}=e,d={transitionToState(e,t=i.Dedup){return t===i.Dedup&&e===this.currentPlaybackState?o.StateNotUpdatedDidNotEmit:(this.currentPlaybackState=e,a.call(this,r),o.StateUpdatedDidEmit)},isState(e){return this.currentPlaybackState===e}};return Object.defineProperties(d,{currentPlaybackState:{value:s,writable:!0,configurable:!1}})}},function(e,t,r){"use strict";function n(e,t,r){return t?e[r](t):e[r]()}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleMethods={toUpperCase:function(e,t){return n(e,t,"toLocaleUpperCase")},toLowerCase:function(e,t){return n(e,t,"toLocaleLowerCase")}}}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Bimap=class{constructor(e){this.aToB=new Map,this.bToA=new Map;for(const t of e)this.aToB.set(t[0],t[1]),this.bToA.set(t[1],t[0])}at(e){return"number"==typeof e?this.aToB.get(e):"string"==typeof e?this.bToA.get(e):void 0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.configurationChangePayload=e||{}}static create(e){return new n(e)}size(e,t){return this.width(e).height(t)}width(e){return this.configurationChangePayload.width=e,this}height(e){return this.configurationChangePayload.height=e,this}theme(e){return this.configurationChangePayload.docTheme=e,this}viewportMode(e){return this.configurationChangePayload.mode=e,this}fontScale(e){return this.configurationChangePayload.fontScale=e,this}screenMode(e){return this.configurationChangePayload.screenMode=e,this}screenReader(e){return this.configurationChangePayload.screenReader=e,this}disallowVideo(e){return this.configurationChangePayload.disallowVideo=e,this}environmentValue(e,t){return this.configurationChangePayload.environmentValues=Object.assign({},this.configurationChangePayload.environmentValues,{[e]:t}),this}mergeConfigurationChange(e){}delete(){}}t.APLConfigurationChange=n},function(e,t,r){var n=r(13),i=r(14),o=i;o.v1=n,o.v4=i,e.exports=o},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(19),o=r(20),a=r(21),s=r(23);function d(e,t){return"number"==typeof t?t:parseInt(t.substr(1),16)}t.toRect=function(e,t){if(t)return new o.APLRect(e,t)},t.toTransform=function(e,t){return`matrix(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]}, ${t[4]}, ${t[5]})`},t.toColor=d,t.toStyledText=function(e,t){if("string"==typeof t)return t;const r={text:t.text,spans:[]};for(const e of t.spans)r.spans.push({type:e[0],start:e[1],end:e[2],attributes:e[3]});function n(e){return e=e.substring(1),parseInt(e,16)}for(const e of r.spans)e.attributes=e.attributes.map(e=>{const t={name:e[0],value:e[1]};if("string"==typeof(r=e[1])&&9===r.length){const r=n(e[1]);isNaN(r)||(t.value=r)}var r;return t});return r},t.toGraphic=function(e,t){if(t)return new a.APLGraphic(e,t)},t.toGraphicPattern=function(e,t){if(t)return new s.APLGraphicPattern(e,t)},t.toRadii=function(e,t){return new i.APLRadii(e,t)},t.toDimension=function(e,t){return e.scaleFactor*t},t.toFilters=function(e,t){return t.map(t=>{switch(t.type){case n.FilterType.kFilterTypeBlend:return{type:t.type,mode:t.mode,source:t.source,destination:t.destination};case n.FilterType.kFilterTypeBlur:return{type:t.type,radius:e.scaleFactor*t.radius,source:t.source};case n.FilterType.kFilterTypeColor:return{type:t.type,color:d(0,t.color)};case n.FilterType.kFilterTypeGradient:return{type:t.type,gradient:t.gradient};case n.FilterType.kFilterTypeGrayscale:return{type:t.type,amount:t.amount,source:t.source};case n.FilterType.kFilterTypeNoise:return{type:t.type,kind:t.kind,sigma:t.sigma,useColor:t.useColor,source:t.source};case n.FilterType.kFilterTypeSaturate:return{type:t.type,amount:t.amount,source:t.source};case n.FilterType.kFilterTypeExtension:default:return t}})},t.toGradient=function(e,t){if(t)return{type:t.type,colorRange:t.colorRange.map(e=>d(0,e)),inputRange:t.inputRange,angle:t.angle,spreadMethod:t.spreadMethod,x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,centerX:t.centerX,centerY:t.centerY,radius:t.radius,units:t.units}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(6),o=r(22);function a(e,t){return t*e.scaleFactor}function s(e,t){switch(typeof t){case"string":return i.toColor(e,t);case"object":return t.hasOwnProperty("type")?i.toGradient(e,t):i.toGraphicPattern(e,t)}}t.toActualSize=a,t.toFillOrStroke=s;const d={[n.GraphicPropertyKey.kGraphicPropertyStroke]:s,[n.GraphicPropertyKey.kGraphicPropertyFill]:s,[n.GraphicPropertyKey.kGraphicPropertyFilters]:function(e,t){return t.map(t=>{switch(t.type){case n.GraphicFilterType.kGraphicFilterTypeDropShadow:return{type:t.type,radius:t.radius,color:i.toColor(e,t.color),horizontalOffset:t.horizontalOffset,verticalOffset:t.verticalOffset};default:return t}})},[n.GraphicPropertyKey.kGraphicPropertyTransform]:(e,t)=>i.toTransform(e,t),[n.GraphicPropertyKey.kGraphicPropertyFillTransform]:(e,t)=>i.toTransform(e,t),[n.GraphicPropertyKey.kGraphicPropertyStrokeTransform]:(e,t)=>i.toTransform(e,t),[n.GraphicPropertyKey.kGraphicPropertyWidthActual]:a,[n.GraphicPropertyKey.kGraphicPropertyHeightActual]:a};class u{constructor(e,t){this.props={},this.children=[],this.id=t.id,this.type=t.type,this.dirtyProperties=t.dirtyProperties||[],Object.keys(t.props).forEach(r=>{const n=o.graphicPropertyBimap.at(r);this.props[n]=n in d?d[n](e,t.props[r]):t.props[r]});for(const r of t.children)this.children.push(new u(e,r))}getId(){return this.id}getChildCount(){return this.children.length}getChildren(){return this.children}getChildAt(e){return this.children[e]}getValue(e){return this.props[e]}getDirtyProperties(){return this.dirtyProperties}getType(){return this.type}delete(){}}t.APLGraphicElement=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(9);t.APLClient=class{constructor(e){this.listeners=new Set,this.messageListeners=new Set,this.logger=n.LoggerFactory.getLogger("APLClient"),this.mediaPlayerFactory=i.APLMediaPlayerFactory.create(this,e||(e=>new n.MediaPlayerHandle(e)))}getMediaPlayerFactory(){return this.mediaPlayerFactory}addMessageListener(e){this.messageListeners.add(e)}removeMessageListener(e){this.messageListeners.delete(e)}removeAllMessageListeners(){this.messageListeners.clear()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}removeAllListeners(){this.listeners.clear()}measure(e){for(const t of this.messageListeners.values())t.onMeasure&&t.onMeasure(e)}createAudioPlayer(e){for(const t of this.messageListeners.values())t.onCreateAudioPlayer&&t.onCreateAudioPlayer(e)}audioPlayerPlay(e){for(const t of this.messageListeners.values())t.onAudioPlayerPlay&&t.onAudioPlayerPlay(e)}audioPlayerSetTrack(e){for(const t of this.messageListeners.values())t.onAudioPlayerSetTrack&&t.onAudioPlayerSetTrack(e)}audioPlayerPause(e){for(const t of this.messageListeners.values())t.onAudioPlayerPause&&t.onAudioPlayerPause(e)}audioPlayerRelease(e){for(const t of this.messageListeners.values())t.onAudioPlayerRelease&&t.onAudioPlayerRelease(e)}mediaPlayerCreate(e){for(const t of this.messageListeners.values())t.onMediaPlayerCreate&&t.onMediaPlayerCreate(e)}mediaPlayerDelete(e){for(const t of this.messageListeners.values())t.onMediaPlayerDelete&&t.onMediaPlayerDelete(e)}mediaPlayerSetTrackList(e){for(const t of this.messageListeners.values())t.onMediaPlayerSetTrackList&&t.onMediaPlayerSetTrackList(e)}mediaPlayerSetTrackIndex(e){for(const t of this.messageListeners.values())t.onMediaPlayerSetTrackIndex&&t.onMediaPlayerSetTrackIndex(e)}mediaPlayerSeek(e){for(const t of this.messageListeners.values())t.onMediaPlayerSeek&&t.onMediaPlayerSeek(e)}mediaPlayerPlay(e){for(const t of this.messageListeners.values())t.onMediaPlayerPlay&&t.onMediaPlayerPlay(e)}mediaPlayerPause(e){for(const t of this.messageListeners.values())t.onMediaPlayerPause&&t.onMediaPlayerPause(e)}mediaPlayerStop(e){for(const t of this.messageListeners.values())t.onMediaPlayerStop&&t.onMediaPlayerStop(e)}mediaPlayerNext(e){for(const t of this.messageListeners.values())t.onMediaPlayerNext&&t.onMediaPlayerNext(e)}mediaPlayerPrevious(e){for(const t of this.messageListeners.values())t.onMediaPlayerPrevious&&t.onMediaPlayerPrevious(e)}mediaPlayerRewind(e){for(const t of this.messageListeners.values())t.onMediaPlayerRewind&&t.onMediaPlayerRewind(e)}mediaPlayerSetAudioTrack(e){for(const t of this.messageListeners.values())t.onMediaPlayerSetAudioTrack&&t.onMediaPlayerSetAudioTrack(e)}mediaPlayerSetMute(e){for(const t of this.messageListeners.values())t.onMediaPlayerSetMute&&t.onMediaPlayerSetMute(e)}dirty(e){for(const t of this.messageListeners.values())t.onDirty&&t.onDirty(e)}localeMethod(e){for(const t of this.messageListeners.values())t.onLocaleMethod&&t.onLocaleMethod(e)}getVisualContext(e){for(const t of this.messageListeners.values())t.onGetVisualContext&&t.onGetVisualContext(e)}getDataSourceContext(e){for(const t of this.messageListeners.values())t.onGetDataSourceContext&&t.onGetDataSourceContext(e)}getFocusableAreas(e){for(const t of this.messageListeners.values())t.onGetFocusableAreas&&t.onGetFocusableAreas(e)}getFocused(e){for(const t of this.messageListeners.values())t.onGetFocused&&t.onGetFocused(e)}event(e){for(const t of this.messageListeners.values())t.onEvent&&t.onEvent(e)}eventTerminate(e){for(const t of this.messageListeners.values())t.onEventTerminate&&t.onEventTerminate(e)}hierarchy(e){for(const t of this.messageListeners.values())t.onHierarchy&&t.onHierarchy(e)}reHierarchy(e){for(const t of this.messageListeners.values())t.onReHierarchy&&t.onReHierarchy(e)}renderingOptions(e){for(const t of this.messageListeners.values())t.onRenderingOptions&&t.onRenderingOptions(e)}scaling(e){for(const t of this.messageListeners.values())t.onScaling&&t.onScaling(e)}baseline(e){for(const t of this.messageListeners.values())t.onBaseline&&t.onBaseline(e)}docTheme(e){for(const t of this.messageListeners.values())t.onDocTheme&&t.onDocTheme(e)}background(e){for(const t of this.messageListeners.values())t.onBackground&&t.onBackground(e)}screenLock(e){for(const t of this.messageListeners.values())t.onScreenLock&&t.onScreenLock(e)}ensureLayout(e){for(const t of this.messageListeners.values())t.onEnsureLayout&&t.onEnsureLayout(e)}isCharacterValid(e){for(const t of this.messageListeners.values())t.onIsCharacterValid&&t.onIsCharacterValid(e)}getDisplayedChildCount(e){for(const t of this.messageListeners.values())t.onGetDisplayedChildCount&&t.onGetDisplayedChildCount(e)}getDisplayedChildId(e){for(const t of this.messageListeners.values())t.onGetDisplayedChildId&&t.onGetDisplayedChildId(e)}handleKeyboard(e){for(const t of this.messageListeners.values())t.onHandleKeyboard&&t.onHandleKeyboard(e)}supportsResizing(e){for(const t of this.messageListeners.values())t.onSupportsResizing&&t.onSupportsResizing(e)}extension(e){for(const t of this.messageListeners.values())if(t.onExtensionEvent)try{t.onExtensionEvent(e)}catch(t){this.logger.error(`Handler for ${JSON.stringify(e)} threw ${t}`)}}onMessage(e){const t=e.type;this[t]&&this[t](e)}onClose(){for(const e of this.listeners.values())e.onClose&&e.onClose()}onOpen(){for(const e of this.listeners.values())e.onOpen&&e.onOpen()}onError(){for(const e of this.listeners.values())e.onError&&e.onError()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(27);class i{constructor(e,t){this.client=e,this.playerFactoryFunc=t,this.players=new Map}static create(e,t){return new i(e,t)}createPlayer(e){const t=new n.APLMediaPlayer(this.client,e,this.playerFactoryFunc);return this.players.set(e,t),t}getMediaPlayer(e){return this.players.get(e)}deleteMediaPlayer(e){this.players.delete(e)}delete(){}}t.APLMediaPlayerFactory=i},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(11)),n(r(8)),n(r(2)),n(r(28)),n(r(9)),n(r(0));var i=r(0);t.APLRenderer=i.default},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(2),a=r(12);class s extends i.default{static create(e){return new s(e)}constructor(e){super(e),this.handleConfigurationChange=e=>{this.context&&this.context.configurationChange(o.APLConfigurationChange.create(e))},this.handleUpdateDisplayState=e=>{this.context&&this.context.updateDisplayState(e)},this.mediaPlayerFactory=e.client.getMediaPlayerFactory()}init(){const e=e=>super[e];return n(this,void 0,void 0,(function*(){const t=performance.now();yield i.FontUtils.initialize(),this.componentMapping={},this.context=new a.APLContext(this.options,this),yield this.context.init();const r=[];e("init").call(this,e=>{r.push(e)});const n=performance.now(),o=this.getComponentCount(),s=o>100?o-o%100+100:o-o%10+10;r.push({kind:"timer",name:"APL-Web.layout",value:n-t},{kind:"counter",name:"APL-Web.RootContext.componentCount",value:Object.keys(this.componentMapping).length},{kind:"counter",name:"componentComplexity",value:s}),this.context.handleDisplayMetrics(r)}))}destroy(){super.destroy()}getLegacyKaraoke(){return this.context.getLegacyKaraoke()}getContext(){return this.context}getDocumentAplVersion(){return this.context.getDocumentAplVersion()}getAudioPlayerFactory(){}getMediaPlayerFactory(){return this.mediaPlayerFactory}}t.APLWSRenderer=s},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(3),a=r(15),s=r(16),d=r(18),u=r(24),c=r(25);t.APLContext=class{constructor(e,t){this.options=e,this.renderer=t,this.docTheme="dark",this.synchronizeResolverPool={},this.dirty=[],this.events=[],this.eventMap=new Map,this.screenLocked=!1,this.client=e.client,this.client.addMessageListener(this),this.audioPlayerFactory=s.APLAudioPlayerFactory.create(this.client,this.options.audioPlayerFactory?this.options.audioPlayerFactory:e=>new i.DefaultAudioPlayer(e)),this.mediaPlayerFactory=this.renderer.getMediaPlayerFactory()}init(){return n(this,void 0,void 0,(function*(){this.scaleFactor=void 0;const e=new Promise(e=>{this.metricsCompleteResolver=e}),t=new Promise(e=>{this.buildCompleteResolver=e});this.extensionMessageHandler=new c.ExtensionMessageHandler(this);const r=Object.assign({},this.options.environment,this.options.viewport,{scrollCommandDuration:this.options.scrollCommandDuration,supportedExtensions:this.options.supportedExtensions,mode:this.options.mode});this.client.sendMessage({type:"build",payload:r}),yield e,yield t}))}onRenderingOptions(e){this.legacyKaraoke=e.payload.legacyKaraoke,this.documentAplVersion=e.payload.documentAplVersion}onHierarchy(e){this.top=d.APLComponent.create(this.client,this.renderer,e.payload.hierarchy),this.buildDisplayedChildrenHierarchy(e.payload.displayedChildrenHierarchy),this.buildCompleteResolver()}onReHierarchy(e){this.top=d.APLComponent.create(this.client,this.renderer,e.payload.hierarchy),this.buildDisplayedChildrenHierarchy(e.payload.displayedChildrenHierarchy),this.renderer.reRenderComponents(),this.client.sendMessage({type:"blockingResponse",seqno:e.seqno})}onScaling(e){return n(this,void 0,void 0,(function*(){this.viewportWidth=e.payload.viewportWidth,this.viewportHeight=e.payload.viewportHeight,void 0===this.scaleFactor?this.scaleFactor=e.payload.scaleFactor:this.scaleFactor!==e.payload.scaleFactor&&(this.scaleFactor=e.payload.scaleFactor,this.client.sendMessage({type:"reHierarchy",payload:{}})),this.metricsCompleteResolver(),this.renderer.setViewSize(this.getViewportWidth(),this.getViewportHeight())}))}onEnsureLayout(e){const t=this.renderer.componentMapping[e.payload];t&&t.ensureLayoutResolver()}onIsCharacterValid(e){const t=this.renderer.componentMapping[e.payload.componentId];t&&"function"==typeof t.synchronizeResolverPool[e.payload.messageId]&&(t.synchronizeResolverPool[e.payload.messageId](e.payload.valid),delete t.synchronizeResolverPool[e.payload.messageId])}onGetDisplayedChildCount(e){const t=this.renderer.componentMapping[e.payload.componentId];t&&"function"==typeof t.synchronizeResolverPool[e.payload.messageId]&&(t.synchronizeResolverPool[e.payload.messageId](e.payload.displayedChildCount),delete t.synchronizeResolverPool[e.payload.messageId])}onGetDisplayedChildId(e){const t=this.renderer.componentMapping[e.payload.componentId];t&&"function"==typeof t.synchronizeResolverPool[e.payload.messageId]&&(t.synchronizeResolverPool[e.payload.messageId](e.payload.displayedChildId),delete t.synchronizeResolverPool[e.payload.messageId])}onHandleKeyboard(e){"function"==typeof this.synchronizeResolverPool[e.payload.messageId]&&(this.synchronizeResolverPool[e.payload.messageId](e.payload.result),delete this.synchronizeResolverPool[e.payload.messageId])}onSupportsResizing(e){this.renderer.setSupportsResizing(e.payload.supportsResizing)}onDirty(e){const t=e.payload;for(const e of t){const t=e.id;this.dirty.push(t);const r=this.renderer.componentMapping[t];if(r){if(e._notify_childrenChanged)for(const t of e._notify_childrenChanged){const e=this.renderer.componentMapping[t.uid];if("insert"===t.action)r.getChildren().splice(t.index,0,e);else{if("remove"!==t.action)throw new Error(`Invalid action type ${t.action} for child ${t.uid}`);e.delete(),r.getChildren().splice(t.index,1)}}e.displayedChildrenHierarchy&&this.buildDisplayedChildrenHierarchy(e.displayedChildrenHierarchy),r.setDirtyProps(e)}else d.APLComponent.create(this.client,this.renderer,e),e.displayedChildrenHierarchy&&this.buildDisplayedChildrenHierarchy(e.displayedChildrenHierarchy)}}onEvent(e){const t=e.payload,r=new u.APLEvent(this.client,this.renderer,this,t,e.seqno);this.events.push(r),this.eventMap.set(e.seqno,r)}onEventTerminate(e){const t=e.payload.token,r=this.eventMap.get(t);r&&r.terminate()}onMeasure(e){e.payload.type=i.ComponentType.kComponentTypeText;const t=d.APLComponent.create(this.client,this.renderer,e.payload),r=e.payload.width,n=e.payload.height,o=e.payload.heightMode,a=e.payload.widthMode,s=this.renderer.onMeasure(t,r,a,n,o);this.client.sendMessage({type:"measure",seqno:e.seqno,payload:s})}onCreateAudioPlayer(e){const t={result:void 0!==this.audioPlayerFactory.createPlayer(e.payload.playerId)};this.client.sendMessage({type:"createAudioPlayer",seqno:e.seqno,payload:t})}onAudioPlayerPlay(e){const t=this.audioPlayerFactory.getPlayer(e.payload.playerId);void 0!==t&&t.play()}onAudioPlayerSetTrack(e){const t=this.audioPlayerFactory.getPlayer(e.payload.playerId);void 0!==t&&t.setTrack(e.payload)}onAudioPlayerPause(e){const t=this.audioPlayerFactory.getPlayer(e.payload.playerId);void 0!==t&&t.pause()}onAudioPlayerRelease(e){const t=this.audioPlayerFactory.getPlayer(e.payload.playerId);void 0!==t&&t.release()}onMediaPlayerCreate(e){const t={result:void 0!==this.mediaPlayerFactory.createPlayer(e.payload.playerId)};this.client.sendMessage({type:"mediaPlayerCreate",seqno:e.seqno,payload:t})}onMediaPlayerDelete(e){this.mediaPlayerFactory.deleteMediaPlayer(e.payload.playerId)}onMediaPlayerSetTrackList(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().setTrackList(e.payload.trackArray)}onMediaPlayerSetTrackIndex(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().setTrackIndex(e.payload.index)}onMediaPlayerSeek(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().seek(e.payload.offset)}onMediaPlayerPlay(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().play(e.payload.waitForFinish)}onMediaPlayerPause(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().pause()}onMediaPlayerStop(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().stop()}onMediaPlayerNext(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().next()}onMediaPlayerPrevious(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().previous()}onMediaPlayerRewind(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().rewind()}onMediaPlayerSetAudioTrack(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().setAudioTrack(e.payload.audioTrack)}onMediaPlayerSetMute(e){const t=this.mediaPlayerFactory.getMediaPlayer(e.payload.playerId);void 0!==t&&t.getMediaPlayerHandle().setMute(e.payload.mute)}onExtensionEvent(e){this.extensionMessageHandler.handleExtensionEvent(e.payload)}onBaseline(e){const t=d.APLComponent.create(this.client,this.renderer,e.payload),r=e.payload.width,n=e.payload.height,i=this.renderer.onBaseline(t,r,n);this.client.sendMessage({type:"baseline",seqno:e.seqno,payload:i})}onLocaleMethod(e){const{method:t,locale:r,value:n}=e.payload,o={value:i.LocaleMethods[t](n,r)};this.client.sendMessage({type:"localeMethod",seqno:e.seqno,payload:o})}onDocTheme(e){this.docTheme=e.payload.docTheme}onBackground(e){this.background=e.payload.background}onScreenLock(e){this.screenLocked=e.payload.screenLock}removeEvent(e){this.eventMap.delete(e)}topComponent(){return this.top}clearPending(){}isDirty(){return this.dirty.length>0}clearDirty(){for(const e of this.dirty){const t=this.renderer.componentMapping[e];t&&t.clearDirty()}this.dirty=[]}getDirty(){return this.dirty}scrollToRectInComponent(e,t,r,n,i,o){this.client.sendMessage({type:"scrollToRectInComponent",payload:{id:e.getUniqueId(),x:t,y:r,width:n,height:i,align:o}})}updateCursorPosition(e,t){this.client.sendMessage({type:"updateCursorPosition",payload:{x:e,y:t}})}handlePointerEvent(e,t,r,n,i){return this.client.sendMessage({type:"handlePointerEvent",payload:{pointerEventType:e,x:t,y:r,pointerId:n,pointerType:i}}),!0}handleKeyboard(e,t){const r=o.v4();this.client.sendMessage({type:"handleKeyboard",payload:{messageId:r,keyType:e,code:t.code,key:t.key,repeat:t.repeat,altKey:t.altKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey}});return new Promise(e=>{this.synchronizeResolverPool[r]=e})}handleDisplayMetrics(e){this.client.sendMessage({type:"displayMetrics",payload:e})}configurationChange(e){this.client.sendMessage({type:"configurationChange",payload:e.configurationChangePayload})}updateDisplayState(e){this.client.sendMessage({type:"updateDisplayState",payload:e})}reInflate(){return n(this,void 0,void 0,(function*(){const e=new Promise(e=>{this.buildCompleteResolver=e});this.client.sendMessage({type:"reInflate",payload:{}}),yield e}))}executeCommands(e){return new a.APLAction}invokeExtensionEventHandler(e,t,r,n){const i=JSON.parse(r);return this.client.sendMessage({type:"extension",payload:{uri:e,name:t,data:i,fastMode:n}}),new a.APLAction}cancelExecution(){throw new Error("Not implemented")}hasEvent(){return this.events.length>0}popEvent(){return this.events.shift()}screenLock(){return this.screenLocked}currentTime(){return 0}nextTime(){return 0}updateTime(e,t){return 0}setLocalTimeAdjustment(e){}delete(){this.client.removeMessageListener(this),this.audioPlayerFactory.delete()}getTheme(){return this.docTheme}getBackground(){return this.background}setBackground(e){this.background=e}getDataSourceContext(){const e=o.v4();return this.client.sendMessage({type:"getDataSourceContext",payload:{messageId:e}}),new Promise(t=>{this.synchronizeResolverPool[e]=t})}onGetDataSourceContext(e){"function"==typeof this.synchronizeResolverPool[e.payload.messageId]&&(this.synchronizeResolverPool[e.payload.messageId](e.payload.result),delete this.synchronizeResolverPool[e.payload.messageId])}getVisualContext(){const e=o.v4();return this.client.sendMessage({type:"getVisualContext",payload:{messageId:e}}),new Promise(t=>{this.synchronizeResolverPool[e]=t})}onGetVisualContext(e){"function"==typeof this.synchronizeResolverPool[e.payload.messageId]&&(this.synchronizeResolverPool[e.payload.messageId](e.payload.result),delete this.synchronizeResolverPool[e.payload.messageId])}getViewportWidth(){return this.viewportWidth}getViewportHeight(){return this.viewportHeight}getScaleFactor(){return this.scaleFactor}getLegacyKaraoke(){return this.legacyKaraoke}getDocumentAplVersion(){return this.documentAplVersion}processDataSourceUpdate(e,t){return!1}getPendingErrors(){return null}setFocus(e,t,r){this.client.sendMessage({type:"setFocus",payload:{direction:e,origin:t,targetId:r}})}getFocused(){const e=o.v4();return this.client.sendMessage({type:"getFocused",payload:{messageId:e}}),new Promise(t=>{this.synchronizeResolverPool[e]=t})}onGetFocused(e){"function"==typeof this.synchronizeResolverPool[e.payload.messageId]&&(this.synchronizeResolverPool[e.payload.messageId](e.payload.result),delete this.synchronizeResolverPool[e.payload.messageId])}getFocusableAreas(){const e=o.v4();return this.client.sendMessage({type:"getFocusableAreas",payload:{messageId:e}}),new Promise(t=>{this.synchronizeResolverPool[e]=t})}onGetFocusableAreas(e){"function"==typeof this.synchronizeResolverPool[e.payload.messageId]&&(this.synchronizeResolverPool[e.payload.messageId](e.payload.areas),delete this.synchronizeResolverPool[e.payload.messageId])}mediaLoaded(e){const t=o.v4();this.client.sendMessage({type:"mediaLoaded",payload:{messageId:t,source:e}})}mediaLoadFailed(e,t=-1,r=""){const n=o.v4();this.client.sendMessage({type:"mediaLoadFailed",payload:{messageId:n,source:e,errorCode:t,error:r}})}buildDisplayedChildrenHierarchy(e){Object.keys(e).forEach(t=>{const r=this.renderer.componentMapping[t];r&&r.setDisplayedChildren(e[t])})}}},function(e,t,r){var n,i,o=r(4),a=r(5),s=0,d=0;e.exports=function(e,t,r){var u=t&&r||0,c=t||[],l=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==p){var f=o();null==l&&(l=n=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=i=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:d+1,m=h-s+(y-d)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,d=y,i=p;var g=(1e4*(268435455&(h+=122192928e5))+y)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var v=h/4294967296*1e4&268435455;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=p>>>8|128,c[u++]=255&p;for(var b=0;b<6;++b)c[u+b]=l[b];return t||a(c)}},function(e,t,r){var n=r(4),i=r(5);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APLAction=class{resolve(){}resolveWithArg(e){}addTerminateCallback(e){}then(e){}terminate(){}isPending(){return!0}isTerminated(){return!1}isResolved(){return!0}delete(){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(17);class i{constructor(e,t){this.client=e,this.playerFactory=t,this.players=new Map}static create(e,t){return new i(e,t)}createPlayer(e){const t=new n.APLAudioPlayer(this.client,e,this.playerFactory);return this.players.set(e,t),t}getPlayer(e){return this.players.get(e)}tick(){}delete(){this.players.forEach(e=>{e.delete()})}}t.APLAudioPlayerFactory=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);t.APLAudioPlayer=class{constructor(e,t,r){this.client=e,this.playerId=t,this.player=r(this)}play(){this.player.play(this.audioId)}release(){this.player.releaseAudioContext()}setTrack(e){this.audioId=this.player.prepare(e.url,!0)}pause(){this.player.flush()}doPlayerCallback(e,t,r,n,i){if(this.audioId!==e)return;const o={playerId:this.playerId,eventType:t,duration:0,paused:r,ended:n,trackState:i};this.client.sendMessage({type:"audioPlayerCallback",payload:o})}onPrepared(e){this.doPlayerCallback(e,n.AudioPlayerEventType.kAudioPlayerEventReady,!1,!1,n.TrackState.kTrackReady)}onMarker(e,t){if(this.audioId!==e)return;const r={playerId:this.playerId,markers:t};this.client.sendMessage({type:"speechMarkCallback",payload:r})}onPlaybackStarted(e){this.doPlayerCallback(e,n.AudioPlayerEventType.kAudioPlayerEventPlay,!1,!1,n.TrackState.kTrackReady)}onPlaybackFinished(e){this.doPlayerCallback(e,n.AudioPlayerEventType.kAudioPlayerEventEnd,!1,!0,n.TrackState.kTrackReady)}onError(e,t){this.doPlayerCallback(e,n.AudioPlayerEventType.kAudioPlayerEventFail,!1,!0,n.TrackState.kTrackFailed)}delete(){this.player.flush(),this.player.releaseAudioContext()}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),o=r(3),a=r(1),s=r(6),d=new a.Bimap([[i.PropertyKey.kPropertyAccessibilityActions,"action"],[i.PropertyKey.kPropertyAccessibilityActions,"actions"],[i.PropertyKey.kPropertyAccessibilityLabel,"accessibilityLabel"],[i.PropertyKey.kPropertyAlign,"align"],[i.PropertyKey.kPropertyAlignItems,"alignItems"],[i.PropertyKey.kPropertyAlignSelf,"alignSelf"],[i.PropertyKey.kPropertyAudioTrack,"audioTrack"],[i.PropertyKey.kPropertyAutoplay,"autoplay"],[i.PropertyKey.kPropertyBackgroundColor,"backgroundColor"],[i.PropertyKey.kPropertyBorderBottomLeftRadius,"borderBottomLeftRadius"],[i.PropertyKey.kPropertyBorderBottomRightRadius,"borderBottomRightRadius"],[i.PropertyKey.kPropertyBorderColor,"borderColor"],[i.PropertyKey.kPropertyBorderRadius,"borderRadius"],[i.PropertyKey.kPropertyBorderRadii,"_borderRadii"],[i.PropertyKey.kPropertyBorderStrokeWidth,"borderStrokeWidth"],[i.PropertyKey.kPropertyBorderTopLeftRadius,"borderTopLeftRadius"],[i.PropertyKey.kPropertyBorderTopRightRadius,"borderTopRightRadius"],[i.PropertyKey.kPropertyBorderWidth,"borderWidth"],[i.PropertyKey.kPropertyBottom,"bottom"],[i.PropertyKey.kPropertyBounds,"_bounds"],[i.PropertyKey.kPropertyChecked,"checked"],[i.PropertyKey.kPropertyColor,"color"],[i.PropertyKey.kPropertyCenterId,"centerId"],[i.PropertyKey.kPropertyCenterIndex,"centerIndex"],[i.PropertyKey.kPropertyChildHeight,"childHeight"],[i.PropertyKey.kPropertyChildHeight,"childHeights"],[i.PropertyKey.kPropertyChildWidth,"childWidth"],[i.PropertyKey.kPropertyChildWidth,"childWidths"],[i.PropertyKey.kPropertyColorKaraokeTarget,"_colorKaraokeTarget"],[i.PropertyKey.kPropertyColorNonKaraoke,"_colorNonKaraoke"],[i.PropertyKey.kPropertyDescription,"description"],[i.PropertyKey.kPropertyDirection,"direction"],[i.PropertyKey.kPropertyCurrentPage,"_currentPage"],[i.PropertyKey.kPropertyDisabled,"disabled"],[i.PropertyKey.kPropertyDisplay,"display"],[i.PropertyKey.kPropertyDrawnBorderWidth,"_drawnBorderWidth"],[i.PropertyKey.kPropertyEntities,"entities"],[i.PropertyKey.kPropertyFastScrollScale,"-fastScrollScale"],[i.PropertyKey.kPropertyFilters,"filters"],[i.PropertyKey.kPropertyFilters,"filter"],[i.PropertyKey.kPropertyFirstId,"firstId"],[i.PropertyKey.kPropertyFirstIndex,"firstIndex"],[i.PropertyKey.kPropertyFontFamily,"fontFamily"],[i.PropertyKey.kPropertyFocusable,"_focusable"],[i.PropertyKey.kPropertyFontSize,"fontSize"],[i.PropertyKey.kPropertyFontStyle,"fontStyle"],[i.PropertyKey.kPropertyGestures,"gestures"],[i.PropertyKey.kPropertyGestures,"gesture"],[i.PropertyKey.kPropertyHandleTick,"handleTick"],[i.PropertyKey.kPropertyHighlightColor,"highlightColor"],[i.PropertyKey.kPropertyHint,"hint"],[i.PropertyKey.kPropertyHintColor,"hintColor"],[i.PropertyKey.kPropertyHintStyle,"hintStyle"],[i.PropertyKey.kPropertyHintWeight,"hintWeight"],[i.PropertyKey.kPropertyFontWeight,"fontWeight"],[i.PropertyKey.kPropertyGraphic,"graphic"],[i.PropertyKey.kPropertyGrow,"grow"],[i.PropertyKey.kPropertyHandleKeyDown,"handleKeyDown"],[i.PropertyKey.kPropertyHandleKeyUp,"handleKeyUp"],[i.PropertyKey.kPropertyHeight,"height"],[i.PropertyKey.kPropertyId,"id"],[i.PropertyKey.kPropertyInitialPage,"initialPage"],[i.PropertyKey.kPropertyInnerBounds,"_innerBounds"],[i.PropertyKey.kPropertyItemsPerCourse,"_itemsPerCourse"],[i.PropertyKey.kPropertyJustifyContent,"justifyContent"],[i.PropertyKey.kPropertyKeyboardType,"keyboardType"],[i.PropertyKey.kPropertyLayoutDirection,"_layoutDirection"],[i.PropertyKey.kPropertyLeft,"left"],[i.PropertyKey.kPropertyLetterSpacing,"letterSpacing"],[i.PropertyKey.kPropertyLineHeight,"lineHeight"],[i.PropertyKey.kPropertyMaxHeight,"maxHeight"],[i.PropertyKey.kPropertyMaxLength,"maxLength"],[i.PropertyKey.kPropertyMaxLines,"maxLines"],[i.PropertyKey.kPropertyMaxWidth,"maxWidth"],[i.PropertyKey.kPropertyMediaBounds,"mediaBounds"],[i.PropertyKey.kPropertyMinHeight,"minHeight"],[i.PropertyKey.kPropertyMinWidth,"minWidth"],[i.PropertyKey.kPropertyMuted,"muted"],[i.PropertyKey.kPropertyNavigation,"navigation"],[i.PropertyKey.kPropertyNextFocusDown,"nextFocusDown"],[i.PropertyKey.kPropertyNextFocusForward,"nextFocusForward"],[i.PropertyKey.kPropertyNextFocusLeft,"nextFocusLeft"],[i.PropertyKey.kPropertyNextFocusRight,"nextFocusRight"],[i.PropertyKey.kPropertyNextFocusUp,"nextFocusUp"],[i.PropertyKey.kPropertyNotifyChildrenChanged,"_notify_childrenChanged"],[i.PropertyKey.kPropertyNumbered,"numbered"],[i.PropertyKey.kPropertyNumbering,"numbering"],[i.PropertyKey.kPropertyOnBlur,"onBlur"],[i.PropertyKey.kPropertyOnCancel,"onCancel"],[i.DocumentPropertyKey.kDocumentPropertyOnConfigChange,"onConfigChange"],[i.DocumentPropertyKey.kDocumentPropertyOnDisplayStateChange,"onDisplayStateChange"],[i.PropertyKey.kPropertyOnDown,"onDown"],[i.PropertyKey.kPropertyOnEnd,"onEnd"],[i.PropertyKey.kPropertyOnFocus,"onFocus"],[i.PropertyKey.kPropertyOnMount,"onMount"],[i.PropertyKey.kPropertyOnMove,"onMove"],[i.PropertyKey.kPropertyOnScroll,"onScroll"],[i.PropertyKey.kPropertyHandlePageMove,"handlePageMove"],[i.PropertyKey.kPropertyOnPageChanged,"onPageChanged"],[i.PropertyKey.kPropertyOnPause,"onPause"],[i.PropertyKey.kPropertyOnPlay,"onPlay"],[i.PropertyKey.kPropertyOnPress,"onPress"],[i.PropertyKey.kPropertyOnSubmit,"onSubmit"],[i.PropertyKey.kPropertyOnTextChange,"onTextChange"],[i.PropertyKey.kPropertyOnTimeUpdate,"onTimeUpdate"],[i.PropertyKey.kPropertyOnTrackUpdate,"onTrackUpdate"],[i.PropertyKey.kPropertyOnUp,"onUp"],[i.PropertyKey.kPropertyOnLoad,"onLoad"],[i.PropertyKey.kPropertyOnFail,"onFail"],[i.PropertyKey.kPropertyOpacity,"opacity"],[i.PropertyKey.kPropertyOverlayColor,"overlayColor"],[i.PropertyKey.kPropertyOverlayGradient,"overlayGradient"],[i.PropertyKey.kPropertyPadding,"padding"],[i.PropertyKey.kPropertyPaddingBottom,"paddingBottom"],[i.PropertyKey.kPropertyPaddingLeft,"paddingLeft"],[i.PropertyKey.kPropertyPaddingRight,"paddingRight"],[i.PropertyKey.kPropertyPaddingTop,"paddingTop"],[i.PropertyKey.kPropertyPageDirection,"pageDirection"],[i.PropertyKey.kPropertyPageId,"pageId"],[i.PropertyKey.kPropertyPageIndex,"pageIndex"],[i.PropertyKey.kPropertyPlayingState,"playingState"],[i.PropertyKey.kPropertyPosition,"position"],[i.PropertyKey.kPropertyPreserve,"preserve"],[i.PropertyKey.kPropertyRight,"right"],[i.PropertyKey.kPropertyRole,"role"],[i.PropertyKey.kPropertyScale,"scale"],[i.PropertyKey.kPropertyScrollAnimation,"-scrollAnimation"],[i.PropertyKey.kPropertyScrollDirection,"scrollDirection"],[i.PropertyKey.kPropertyScrollOffset,"scrollOffset"],[i.PropertyKey.kPropertyScrollPercent,"scrollPercent"],[i.PropertyKey.kPropertyScrollPosition,"_scrollPosition"],[i.PropertyKey.kPropertySecureInput,"secureInput"],[i.PropertyKey.kPropertySelectOnFocus,"selectOnFocus"],[i.PropertyKey.kPropertyShadowColor,"shadowColor"],[i.PropertyKey.kPropertyShadowHorizontalOffset,"shadowHorizontalOffset"],[i.PropertyKey.kPropertyShadowRadius,"shadowRadius"],[i.PropertyKey.kPropertyShadowVerticalOffset,"shadowVerticalOffset"],[i.PropertyKey.kPropertyShrink,"shrink"],[i.PropertyKey.kPropertySize,"size"],[i.PropertyKey.kPropertySnap,"snap"],[i.PropertyKey.kPropertySource,"source"],[i.PropertyKey.kPropertySource,"sources"],[i.PropertyKey.kPropertySpacing,"spacing"],[i.PropertyKey.kPropertySpeech,"speech"],[i.PropertyKey.kPropertySubmitKeyType,"submitKeyType"],[i.PropertyKey.kPropertyText,"text"],[i.PropertyKey.kPropertyTextAlign,"_textAlign"],[i.PropertyKey.kPropertyTextAlignVertical,"textAlignVertical"],[i.PropertyKey.kPropertyTop,"top"],[i.PropertyKey.kPropertyTrackCount,"_trackCount"],[i.PropertyKey.kPropertyTrackCurrentTime,"_trackCurrentTime"],[i.PropertyKey.kPropertyTrackDuration,"_trackDuration"],[i.PropertyKey.kPropertyTrackEnded,"_trackEnded"],[i.PropertyKey.kPropertyTrackIndex,"_trackIndex"],[i.PropertyKey.kPropertyTrackPaused,"_trackPaused"],[i.PropertyKey.kPropertyTransformAssigned,"transform"],[i.PropertyKey.kPropertyTransform,"_transform"],[i.PropertyKey.kPropertyTrackPaused,"_trackPaused"],[i.PropertyKey.kPropertyUser,"_user"],[i.PropertyKey.kPropertyWidth,"width"],[i.PropertyKey.kPropertyOnCursorEnter,"onCursorEnter"],[i.PropertyKey.kPropertyOnCursorExit,"onCursorExit"],[i.PropertyKey.kPropertyLaidOut,"_laidOut"],[i.PropertyKey.kPropertyValidCharacters,"validCharacters"],[i.PropertyKey.kPropertyWrap,"wrap"]]),u={[i.PropertyKey.kPropertyBounds]:s.toRect,[i.PropertyKey.kPropertyBackgroundColor]:s.toColor,[i.PropertyKey.kPropertyBorderColor]:s.toColor,[i.PropertyKey.kPropertyBorderRadius]:s.toDimension,[i.PropertyKey.kPropertyBorderRadii]:s.toRadii,[i.PropertyKey.kPropertyBorderWidth]:s.toDimension,[i.PropertyKey.kPropertyColor]:s.toColor,[i.PropertyKey.kPropertyColorNonKaraoke]:s.toColor,[i.PropertyKey.kPropertyColorKaraokeTarget]:s.toColor,[i.PropertyKey.kPropertyDrawnBorderWidth]:s.toDimension,[i.PropertyKey.kPropertyFilters]:s.toFilters,[i.PropertyKey.kPropertyFontSize]:s.toDimension,[i.PropertyKey.kPropertyGraphic]:s.toGraphic,[i.PropertyKey.kPropertyHighlightColor]:s.toColor,[i.PropertyKey.kPropertyHintColor]:s.toColor,[i.PropertyKey.kPropertyInnerBounds]:s.toRect,[i.PropertyKey.kPropertyLetterSpacing]:s.toDimension,[i.PropertyKey.kPropertyMediaBounds]:s.toRect,[i.PropertyKey.kPropertyOverlayColor]:s.toColor,[i.PropertyKey.kPropertyOverlayGradient]:s.toGradient,[i.PropertyKey.kPropertyScrollPosition]:s.toDimension,[i.PropertyKey.kPropertyShadowColor]:s.toColor,[i.PropertyKey.kPropertyShadowHorizontalOffset]:s.toDimension,[i.PropertyKey.kPropertyShadowVerticalOffset]:s.toDimension,[i.PropertyKey.kPropertyShadowRadius]:s.toDimension,[i.PropertyKey.kPropertyText]:s.toStyledText,[i.PropertyKey.kPropertyTransform]:s.toTransform},c=new Set(["children","id","type"]),l={[i.PropertyKey.kPropertyNotifyChildrenChanged]:(e,t)=>{const r=t||[];return(e||[]).concat(r)}};class p{constructor(e,t){this.client=e,this.renderer=t,this.calculated={},this.children=[],this.displayedChildrenUniqueIds=[],this.dirtyProps={},this.isDeleted=!1,this.synchronizeResolverPool={}}static create(e,t,r){let n=t.componentMapping[r.id];if(n||(n=new p(e,t)),n.id=r._id,n.type=r.type,n.uniqueId=r.id,n.type===i.ComponentType.kComponentTypeVideo&&(n.mediaPlayer=t.getMediaPlayerFactory().getMediaPlayer(r.__mediaPlayer.mediaPlayerId)),t.componentMapping[n.uniqueId]=n,n.setCalculated(r),r.children)for(const i of r.children){const r=p.create(e,t,i);r.parent=n,n.children.push(r)}return n}setCalculated(e){Object.keys(e).forEach(t=>{if(c.has(t))return;const r=d.at(t);this.calculated[r]=r in u?u[r](this.renderer.getContext(),e[t]):e[t]})}setDirtyProps(e){this.setCalculated(e),Object.keys(e).forEach(e=>{const t=d.at(e);this.dirtyProps[t]=this.calculated[t],t in l&&this.dirtyProps[t]?this.dirtyProps[t]=l[t](this.dirtyProps[t],this.calculated[t]):this.dirtyProps[t]=this.calculated[t]})}setDisplayedChildren(e){this.displayedChildrenUniqueIds=e}clearDirty(){this.dirtyProps={}}update(e,t){e===i.UpdateType.kUpdatePagerByEvent||e===i.UpdateType.kUpdatePagerPosition?this.calculated[i.PropertyKey.kPropertyCurrentPage]=t:e===i.UpdateType.kUpdateScrollPosition&&(this.calculated[i.PropertyKey.kPropertyScrollPosition]=t),this.client.sendMessage({type:"update",payload:{id:this.uniqueId,type:e,value:t}})}updateEditText(e,t){this.client.sendMessage({type:"update",payload:{id:this.uniqueId,type:e,value:t}})}getCalculated(){return this.calculated}getCalculatedByKey(e){return this.calculated[e]}getDirtyProps(){return this.dirtyProps}getType(){return this.type}getUniqueId(){return this.uniqueId}getId(){return this.id}getParent(){return this.parent}pressed(){this.update(i.UpdateType.kUpdatePressed,0)}updateScrollPosition(e){this.update(i.UpdateType.kUpdateScrollPosition,e)}updatePagerPosition(e){this.update(i.UpdateType.kUpdatePagerPosition,e)}updateMediaState(e,t){this.client.sendMessage({type:"updateMedia",payload:{id:this.uniqueId,mediaState:e,fromEvent:t}})}updateGraphic(e){return this.client.sendMessage({type:"updateGraphic",payload:{id:this.uniqueId,avg:e}}),!0}getChildCount(){return this.children.length}getChildren(){return this.children}getChildAt(e){return this.children[e]}getDisplayedChildCount(){return this.displayedChildrenUniqueIds.length}getDisplayedChildId(e){return this.displayedChildrenUniqueIds[e]}getDisplayedChildAt(e){return this.renderer.componentMapping[this.displayedChildrenUniqueIds[e]]}appendChild(e){throw new Error("Not implemented")}insertChild(e,t){throw new Error("Not implemented")}remove(){throw new Error("Not implemented")}inflateChild(e,t){throw new Error("Not implemented")}getBoundsInParent(e){const t=this.calculated[i.PropertyKey.kPropertyBounds],r={height:t.height,width:t.width,top:t.top,left:t.left};let n=this.parent;for(;n&&n.getUniqueId()!==e.getUniqueId();){const e=n.calculated[i.PropertyKey.kPropertyBounds];r.top+=e.top,r.left+=e.left,n=n.parent}return r}getGlobalBounds(){return{left:0,top:0,width:0,height:0}}ensureLayout(){return n(this,void 0,void 0,(function*(){const e=new Promise(e=>{this.ensureLayoutResolver=e});this.client.sendMessage({type:"ensureLayout",payload:{id:this.uniqueId}}),yield e}))}delete(){delete this.renderer.componentMapping[this.uniqueId],this.isDeleted=!0;for(const e of this.children)e.isDeleted||e.delete()}isCharacterValid(e){return n(this,void 0,void 0,(function*(){if(1!==e.length)return Promise.resolve(!1);const t=o.v4();this.client.sendMessage({type:"isCharacterValid",payload:{componentId:this.uniqueId,messageId:t,character:e.charAt(0)}});return new Promise(e=>{this.synchronizeResolverPool[t]=e})}))}provenance(){throw new Error("Not implemented")}getMediaPlayer(){return this.mediaPlayer}}t.APLComponent=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APLRadii=class{constructor(e,t){this.context=e,this.values=t}topLeft(){return this.values[0]*this.context.scaleFactor}topRight(){return this.values[1]*this.context.scaleFactor}bottomLeft(){return this.values[2]*this.context.scaleFactor}bottomRight(){return this.values[3]*this.context.scaleFactor}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APLRect=class{constructor(e,t){this.left=t[0]*e.scaleFactor,this.top=t[1]*e.scaleFactor,this.width=t[2]*e.scaleFactor,this.height=t[3]*e.scaleFactor}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7);t.APLGraphic=class{constructor(e,t){this.context=e,this.root=new n.APLGraphicElement(e,t.root),this.valid=t.isValid,this.intrinsicWidth=t.intrinsicWidth,this.intrinsicHeight=t.intrinsicHeight,this.viewportWidth=t.viewportWidth,this.viewportHeight=t.viewportHeight,this.dirty={},this.addToDirty(t.dirty||[])}addToDirty(e){e.forEach(e=>{const t=new n.APLGraphicElement(this.context,e);this.dirty[t.getId()]=t})}getRoot(){return this.root}isValid(){return this.valid}getIntrinsicHeight(){return this.intrinsicHeight}getIntrinsicWidth(){return this.intrinsicWidth}getViewportWidth(){return this.viewportWidth}getViewportHeight(){return this.viewportHeight}clearDirty(){this.dirty={}}getDirty(){return this.dirty}delete(){}}},function(e,t,r){"use strict";
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(1);t.graphicPropertyBimap=new i.Bimap([[n.GraphicPropertyKey.kGraphicPropertyClipPath,"clipPath"],[n.GraphicPropertyKey.kGraphicPropertyCoordinateX,"x"],[n.GraphicPropertyKey.kGraphicPropertyCoordinateY,"y"],[n.GraphicPropertyKey.kGraphicPropertyFill,"fill"],[n.GraphicPropertyKey.kGraphicPropertyFillOpacity,"fillOpacity"],[n.GraphicPropertyKey.kGraphicPropertyFillTransform,"_fillTransform"],[n.GraphicPropertyKey.kGraphicPropertyFillTransformAssigned,"fillTransform"],[n.GraphicPropertyKey.kGraphicPropertyFilters,"filters"],[n.GraphicPropertyKey.kGraphicPropertyFilters,"filter"],[n.GraphicPropertyKey.kGraphicPropertyFontFamily,"fontFamily"],[n.GraphicPropertyKey.kGraphicPropertyFontSize,"fontSize"],[n.GraphicPropertyKey.kGraphicPropertyFontStyle,"fontStyle"],[n.GraphicPropertyKey.kGraphicPropertyFontWeight,"fontWeight"],[n.GraphicPropertyKey.kGraphicPropertyHeightOriginal,"height"],[n.GraphicPropertyKey.kGraphicPropertyHeightActual,"height_actual"],[n.GraphicPropertyKey.kGraphicPropertyLang,"lang"],[n.GraphicPropertyKey.kGraphicPropertyLayoutDirection,"layoutDirection"],[n.GraphicPropertyKey.kGraphicPropertyLetterSpacing,"letterSpacing"],[n.GraphicPropertyKey.kGraphicPropertyOpacity,"opacity"],[n.GraphicPropertyKey.kGraphicPropertyPathData,"pathData"],[n.GraphicPropertyKey.kGraphicPropertyPathLength,"pathLength"],[n.GraphicPropertyKey.kGraphicPropertyPivotX,"pivotX"],[n.GraphicPropertyKey.kGraphicPropertyPivotY,"pivotY"],[n.GraphicPropertyKey.kGraphicPropertyRotation,"rotation"],[n.GraphicPropertyKey.kGraphicPropertyScaleX,"scaleX"],[n.GraphicPropertyKey.kGraphicPropertyScaleY,"scaleY"],[n.GraphicPropertyKey.kGraphicPropertyScaleTypeHeight,"scaleTypeHeight"],[n.GraphicPropertyKey.kGraphicPropertyScaleTypeWidth,"scaleTypeWidth"],[n.GraphicPropertyKey.kGraphicPropertyStroke,"stroke"],[n.GraphicPropertyKey.kGraphicPropertyStrokeDashArray,"strokeDashArray"],[n.GraphicPropertyKey.kGraphicPropertyStrokeDashOffset,"strokeDashOffset"],[n.GraphicPropertyKey.kGraphicPropertyStrokeLineCap,"strokeLineCap"],[n.GraphicPropertyKey.kGraphicPropertyStrokeLineJoin,"strokeLineJoin"],[n.GraphicPropertyKey.kGraphicPropertyStrokeMiterLimit,"strokeMiterLimit"],[n.GraphicPropertyKey.kGraphicPropertyStrokeOpacity,"strokeOpacity"],[n.GraphicPropertyKey.kGraphicPropertyStrokeTransform,"_strokeTransform"],[n.GraphicPropertyKey.kGraphicPropertyStrokeTransformAssigned,"strokeTransform"],[n.GraphicPropertyKey.kGraphicPropertyStrokeWidth,"strokeWidth"],[n.GraphicPropertyKey.kGraphicPropertyText,"text"],[n.GraphicPropertyKey.kGraphicPropertyTextAnchor,"textAnchor"],[n.GraphicPropertyKey.kGraphicPropertyTransform,"_transform"],[n.GraphicPropertyKey.kGraphicPropertyTransformAssigned,"transform"],[n.GraphicPropertyKey.kGraphicPropertyTranslateX,"translateX"],[n.GraphicPropertyKey.kGraphicPropertyTranslateY,"translateY"],[n.GraphicPropertyKey.kGraphicPropertyVersion,"version"],[n.GraphicPropertyKey.kGraphicPropertyViewportHeightOriginal,"viewportHeight"],[n.GraphicPropertyKey.kGraphicPropertyViewportHeightActual,"viewportHeight_actual"],[n.GraphicPropertyKey.kGraphicPropertyViewportWidthOriginal,"viewportWidth"],[n.GraphicPropertyKey.kGraphicPropertyViewportWidthActual,"viewportWidth_actual"],[n.GraphicPropertyKey.kGraphicPropertyWidthOriginal,"width"],[n.GraphicPropertyKey.kGraphicPropertyWidthActual,"width_actual"]])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7);t.APLGraphicPattern=class{constructor(e,t){this.context=e,this.items=[],this.id=t.id,this.description=t.description,this.width=t.width,this.height=t.height;for(const e of t.items)this.items.push(new n.APLGraphicElement(this.context,e))}getId(){return this.id}getDescription(){return this.description}getHeight(){return this.height}getWidth(){return this.width}getItemCount(){return this.items.length}getItemAt(e){return this.items[e]}delete(){}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0);const i=new(r(1).Bimap)([[n.EventProperty.kEventPropertyAlign,"align"],[n.EventProperty.kEventPropertyArguments,"arguments"],[n.EventProperty.kEventPropertyAudioTrack,"audioTrack"],[n.EventProperty.kEventPropertyCommand,"command"],[n.EventProperty.kEventPropertyComponent,"component"],[n.EventProperty.kEventPropertyComponents,"components"],[n.EventProperty.kEventPropertyDirection,"direction"],[n.EventProperty.kEventPropertyHighlightMode,"highlightMode"],[n.EventProperty.kEventPropertyPosition,"position"],[n.EventProperty.kEventPropertyRangeStart,"rangeStart"],[n.EventProperty.kEventPropertyRangeEnd,"rangeEnd"],[n.EventProperty.kEventPropertySource,"source"],[n.EventProperty.kEventPropertyValue,"value"],[n.EventProperty.kEventPropertyMediaType,"mediaType"],[n.EventProperty.kEventPropertyHeaders,"headers"]]),o={[n.EventProperty.kEventPropertyPosition]:function(e,t,r){return e||0}};t.APLEvent=class{constructor(e,t,r,n,a){this.client=e,this.renderer=t,this.context=r,this.seqno=a,this.calculated={},this.terminated=!1,this.resolved=!1,this.type=n.type,this.id=n.id,Object.keys(n).forEach(e=>{const t=i.at(e);void 0!==t&&(this.calculated[t]=t in o?o[t](r,n[e],this.type,this.renderer.componentMapping[this.id].getType()):n[e])})}getType(){return this.type}getValue(e){return this.calculated[e]}getComponent(){return this.renderer.componentMapping[this.id]}resolve(){this.resolved=!0,this.context.removeEvent(this.seqno),this.client.sendMessage({type:"response",payload:{event:this.seqno}})}resolveWithArg(e){this.resolved=!0,this.context.removeEvent(this.seqno),this.client.sendMessage({type:"response",payload:{event:this.seqno,argument:e}})}resolveWithRect(e,t,r,n){this.resolved=!0,this.context.removeEvent(this.seqno),this.client.sendMessage({type:"response",payload:{event:this.seqno,rectArgument:{x:e,y:t,width:r,height:n}}})}addTerminateCallback(e){this.terminateCallback=e}isPending(){return!(this.terminated||this.resolved)}isTerminated(){return this.terminated}isResolved(){return this.resolved}delete(){this.context.removeEvent(this.seqno)}terminate(){this.terminated=!0,this.context.removeEvent(this.seqno),this.terminateCallback&&this.terminateCallback()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(0),i=r(26);var o;!function(e){e.Event="event"}(o=t.ExtensionMessageTypes||(t.ExtensionMessageTypes={}));const a={[o.Event]:function(e,t){if(!t)return;t.onExtensionEvent(e.URI,e.name,e.source,e.params,{onExtensionEventResult:()=>{}})}};t.ExtensionMessageHandler=class{constructor(e){this.extensions=new Map,this.context=e}getOrCreate(e){if(!this.extensions.has(e)){const t=n.createExtension({uri:e,createAplExtensionCommandDefinition:i.createAplExtensionCommandDefinition,createAplExtensionEventHandler:i.createAplExtensionEventHandler});t.setContext(this.context),this.extensions.set(e,t)}return this.extensions.get(e)}handleExtensionEvent(e){const t=this.getOrCreate(e.URI);return a.hasOwnProperty(e.type)?a[e.type](e,t):""}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAplExtensionCommandDefinition=function(e,t){return new APL.ExtensionCommandDefinition},t.createAplExtensionEventHandler=function(e,t){return new APL.ExtensionEventHandler}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APLMediaPlayer=class{constructor(e,t,r){this.client=e,this.playerId=t,this.mediaPlayerHandle=r(this)}delete(){this.mediaPlayerHandle.destroy()}updateMediaState(e){const t={playerId:this.playerId,mediaState:e};this.client.sendMessage({type:"mediaPlayerUpdateMediaState",payload:t})}doCallback(e){const t={playerId:this.playerId,eventType:e};this.client.sendMessage({type:"mediaPlayerDoCallback",payload:t})}getMediaPlayerHandle(){return this.mediaPlayerHandle}}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{d(n.next(e))}catch(e){o(e)}}function s(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}d((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=r(8);class o extends i.APLClient{constructor(e){super(),this.url=e,this.onWebsocketMessage=e=>{const t=JSON.parse(e.data);this.onMessage(t)},this.onWebsocketClose=e=>{this.onClose(),this.reconnect()},this.onWebsocketOpen=e=>{this.onOpen()},this.onWebsocketError=()=>{this.onError(),this.reconnect()}}start(){return n(this,void 0,void 0,(function*(){this.ws&&(this.ws.removeEventListener("error",this.onWebsocketError),this.ws.removeEventListener("open",this.onWebsocketOpen),this.ws.removeEventListener("close",this.onWebsocketClose),this.ws.removeEventListener("message",this.onWebsocketMessage)),this.ws=new WebSocket(this.url),this.ws.addEventListener("error",this.onWebsocketError),this.ws.addEventListener("open",this.onWebsocketOpen),this.ws.addEventListener("close",this.onWebsocketClose),this.ws.addEventListener("message",this.onWebsocketMessage)}))}sendMessage(e){this.ws.send(JSON.stringify(e))}reconnect(){this.start(),setTimeout(()=>{this.ws.readyState===WebSocket.CLOSED&&this.reconnect()},1e3)}}t.WebSocketClient=o}])}));